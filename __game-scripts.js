var NetworkManager=pc.createScript("networkManager");NetworkManager.attributes.add("autoConnect",{type:"boolean",default:!0}),NetworkManager.attributes.add("playerObject",{type:"asset",assetType:"template"}),NetworkManager.attributes.add("enemyTemplates",{type:"asset",assetType:"template",array:"true"}),NetworkManager.attributes.add("damageMat",{type:"asset",assetType:"material"}),NetworkManager.attributes.add("goldStatText",{type:"entity"}),NetworkManager.attributes.add("powerStatText",{type:"entity"}),NetworkManager.attributes.add("inventoryUI",{type:"entity"}),NetworkManager.attributes.add("mobileUI",{type:"entity"}),NetworkManager.attributes.add("blackBackground",{type:"entity"}),NetworkManager.attributes.add("worldNumber",{type:"number",default:1}),NetworkManager.prototype.initialize=async function(){if(this.app.disconnectFromServer=!1,this.app.touch&&(this.app.systems.rigidbody.maxSubSteps=3),this.app.sfxValue=100,this.app.musicValue=100,this.app.mouseSensitivity=30,null==this.app.loadLevel&&(this.app.loadLevel="world_"+this.worldNumber),0===this.worldNumber)this.app.comesFromMenu=!0,this.app.firstTouch=!1;else if(1===this.worldNumber&&this.app.touch){const e=this.app.root.findByName("WaterEffect");e&&(e.enabled=!1)}if(!1===this.autoConnect){this.findServer(),this.app.touch&&(document.removeEventListener("touchstart",this.onTouch),document.addEventListener("touchstart",this.onTouch));try{const e=window.location.href,t=e.substring(e.indexOf("#")+1);null!=t&&""!=t&&6===t.length&&(this.getRoomDetails(t),console.log("Room ID:",t))}catch(e){console.log("Error:",e)}1!=this.app.pokiSDKReady&&PokiSDK.init().then((()=>{this.app.gameplayStarted=!1,console.log("Poki SDK successfully initialized"),this.app.pokiSDKReady=!0,PokiSDK.gameLoadingFinished(),navigator.sendBeacon&&(navigator.sendBeacon("https://leveldata.poki.io/weebdetectorSword","a6460f86-1866-44c7-be9c-c4540d7cd083"),setInterval((()=>{navigator.sendBeacon("https://leveldata.poki.io/weebdetectorSword","a6460f86-1866-44c7-be9c-c4540d7cd083")}),48e4))})).catch((e=>{console.log("Poki SDK expception:",e),this.app.pokiSDKReady=!1}))}if(window.addEventListener("keydown",(e=>{["ArrowDown","ArrowUp"," "].includes(e.key)&&e.preventDefault()})),window.addEventListener("wheel",(e=>e.preventDefault()),{passive:!1}),this.spawnPos=spawnPositions[this.worldNumber],this.setupStandardMaterial(),this.currentPlayerEntity=null,this.localInv=null,this.coinPool=this.app.root.findByName("CoinPool").script.PoolController,this.poppingTextPool=this.app.root.findByName("PoppingTextPool").script.PoolController,this.healthBar=this.app.root.findByTag("HealthbarUI")[0].script.healthBar,this.statsLayoutVertical=this.app.root.findByName("StatsLayoutVertical"),this.statsLayoutVerticalRightSide=this.app.root.findByName("StatsLayoutVerticalRightSide"),this.healthStatParent=this.healthBar.entity.parent,this.goldStatParent=this.goldStatText.parent,this.powerStatParent=this.powerStatText.parent,this.experienceBar=this.app.root.findByTag("ExperienceUI")[0].script.healthBar,this.experienceBarLevelText=this.experienceBar.entity.children[3],this.experienceBarParent=this.experienceBar.entity.parent,this.experienceBarIcon=this.experienceBar.entity.parent.children[1],this.healthBarIcon=this.healthBar.entity.parent.children[1],this.vfxController=this.app.root.findByName("VfxController").script.VfxController,this.itemDropUI=this.app.root.findByName("ItemDropUI"),this.itemDropUI_bg=this.itemDropUI.children[0],this.itemDropUI_item=this.itemDropUI.children[1],this.itemDropUI_text=this.itemDropUI.children[2],this.itemDropUI_level=this.itemDropUI_text.children[0],this.uiConfetti=this.app.root.findByName("UIConfetti"),this.inventoryController=this.app.root.findByName("InventoryButton").script.inventoryController,this.petUIController=this.app.root.findByName("PetsButton").script.petUIController,this.lowHPEffect=this.app.root.findByName("lowHPEffect"),this.lowHPEffect.enabled=!1,this.mobileUI.enabled=null!=this.app.touch,this.statsGroup=this.app.root.findByName("StatsGroup"),this.buttonsGroup=this.app.root.findByName("ButtonsGroup"),this.isNewlyJoined=!0,this.activeCoinCount=0,this.killedEnemyTypesSetted=!1,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.onlineCounter=this.app.root.findByName("OnlineCounter").children[0],this.onlineCount=0,this.mouseLockCounter=0,this.app.isWatchingAd=!1,this.claimedChests=[],setTimeout((()=>{this.isNewlyJoined=!1}),1e4),this.app.cameraStateLocked=!1,this.app.isInventoryEnabled=!1,this.app.isPopupEnabled=!1,this.app.isPetInventoryEnabled=!1,this.app.isMenuEnabled=!1,this.app.isCustomizeEnabled=!1,this.app.isBlacksmithEnabled=!1,this.app.isQuestEnabled=!1,this.app.isMagicianEnabled=!1,this.app.isRewardPopupEnabled=!1,this.autoConnect){1!=this.app.comesFromMenu?this.app.fire("LoadingPanelController:connectingToServer"):this.menuController.setLoadingPanel(!0,"Waiting for other players..");let e=!1,t=!1;const o=Utils.getItem("joinRoom");if(null!=o&&""!=o?(t=await this.joinServer(o),Utils.setItem("joinRoom",""),e=t,console.log("JoinRoom result:",t)):e=await this.joinServer(Utils.getItem("server1")),!0===this.app.isInWrongWorld)return this.app.loadLevel=this.app.loadLevelJoin,console.log("WRONG WORLD, TELEPORT",this.app.loadLevel),this.app.disconnectFromServer=!0,this.room.leave(),void this.loadSceneAssets();if(0==e&&(e=await this.joinServer()),0==e)return this.app.connectionRetry>5?void this.menuController.setLoadingPanel(!0,"We are currently under maintenance, please try again later :/",maintenance=!0):void setTimeout((()=>{this.app.loadLevel="menu",this.app.scenes.changeScene(this.app.loadLevel),null==this.app.connectionRetry&&(this.app.connectionRetry=0),this.app.connectionRetry+=1}),3e3);1==this.app.comesFromMenu&&this.menuController.setLoadingPanel(!1),this.listenPlayers(),this.listenInventory(),this.listenEnemies(),this.listenLeaderboards()}this.app.on("NetworkManager:updateGoldStat",this.updateGoldStat,this),this.app.on("NetworkManager:updatePowerStat",this.updatePowerStat,this),this.on("destroy",(function(){this.app.standardMaterial.destroy(),this.app.off("NetworkManager:updateGoldStat"),this.app.off("NetworkManager:updatePowerStat")}),this)},NetworkManager.prototype.onTouch=function(e){document.fullscreenElement||document.documentElement.requestFullscreen(),window.screen.orientation.lock("landscape")},NetworkManager.prototype.getRoomDetails=function(e){const t=new XMLHttpRequest;t.open("POST","https://loadbalancer.swordmasters.io/api/server/getRoomDetails",!1),t.setRequestHeader("Content-Type","application/json"),t.onload=()=>{if(200===t.status){const e=JSON.parse(t.responseText);if(e.roomData){const t=e.roomData.split(","),o=t[1].split(".");Utils.setItem("joinRoom",t[0]),Utils.setItem("joinSubdomain",o[0])}}},t.onerror=e=>{console.log(e)};const o={roomUID:e};t.send(JSON.stringify(o))},NetworkManager.prototype.setNetStats=function(e){this.goldAmount=e.gold,this.powerAmount=e.power,this.goldStatText.element.text=numRound(this.goldAmount),this.powerStatText.element.text=numRound(this.powerAmount);const t=this.playerInventories[this.localSessionId];e.isDied&&this.app.fire("WarningTextController:setWarning","Lost "+numRound(t.gold/4)+" gold and "+numRound(t.power/4)+" power..",5)},NetworkManager.prototype.updateGoldStat=function(e){this.playerInventories[this.localSessionId].health>0&&(this.goldAmount+=e,this.goldStatText.element.text=numRound(this.goldAmount)),0===this.activeCoinCount&&(this.goldAmount=this.localInv.gold,this.goldStatText.element.text=numRound(this.goldAmount))},NetworkManager.prototype.updatePowerStat=function(e){this.playerInventories[this.localSessionId].health>0&&(this.powerAmount+=e,this.powerStatText.element.text=numRound(this.powerAmount))},NetworkManager.prototype.update=function(e){if(this.interpolatePositionAndRotation(e),this.mouseLockCounter+=1,1==this.app.firstTouch&&this.mouseLockCounter>10){this.mouseLockCounter=0;const e=this.app.isWatchingAd||this.app.isInventoryEnabled||this.app.isPopupEnabled||this.app.isPetInventoryEnabled||this.app.isMenuEnabled||this.app.isCustomizeEnabled||this.app.isBlacksmithEnabled||this.app.isQuestEnabled||this.app.isMagicianEnabled||this.app.isRewardPopupEnabled;if(e)!0===this.app.cameraStateLocked&&(this.app.touch||this.app.mouse.disablePointerLock(),this.app.cameraStateLocked=!1,this.app.fire("lockCamera",!0));else if(!1===this.app.cameraStateLocked){if(0==window.location.host.includes("poki")){const e=document.getElementById("CybotCookiebotDialog");if(e&&"0"!=e.style.opacity)return}return this.app.touch||this.app.mouse.enablePointerLock(),this.app.cameraStateLocked=!0,void this.app.fire("lockCamera",!1)}this.app.touch||!1!==pc.Mouse.isPointerLocked()||!1!==e||(console.log("Mouse is not locked and no other panels are enabled, open the menu"),this.menuController.openMenu())}},NetworkManager.prototype.findServer=function(){this.app.fire("AnnouncementController:setAnnouncement","Connecting to the server..","Prepare your sword!",10,new pc.Color(1,.9,0,1),new pc.Color(1,1,1,1)),console.log("Finding server..");const e=new XMLHttpRequest;e.open("POST","https://loadbalancer.swordmasters.io/api/server/findServer",!0),e.setRequestHeader("Content-Type","application/json"),e.onload=()=>{if(200===e.status){this.app.fire("AnnouncementController:setAnnouncement","Loading game assets..","Don't forget to join our discord!",10,new pc.Color(1,.9,0,1),new pc.Color(1,1,1,1));const t=JSON.parse(e.responseText);null!=t.token&&Utils.setItem("token",t.token),Utils.setItem("server1",t.data.foundServer),Utils.setItem("server2",t.data.alternativeServer),console.log("Server found:",t.data.foundServer),this.app.loadLevel="world_1",this.loadSceneAssets()}else console.log("findServer failed:",e.status,sxhr.statusText),this.findServer()},e.onerror=e=>{console.log(e),this.findServer()};const t={token:Utils.getItem("token")};e.send(JSON.stringify(t))},NetworkManager.prototype.loadSceneAssets=function(){for(var e=this.app.assets.findByTag(this.app.loadLevel),t=0,o=e.length,onAssetsLoaded=()=>{this.app.isWatchingAd=!0,PokiSDK.commercialBreak((()=>{this.app.systems.sound.volume=0,this.app.mouse.disablePointerLock()})).then((()=>{console.log("Commercial break finished, proceeding to game"),this.app.systems.sound.volume=1,this.app.isWatchingAd=!1,this.app.scenes.changeScene(this.app.loadLevel)}))},onAssetsNearlyLoaded=()=>{this.app.fire("AnnouncementController:setAnnouncement","Connecting to the server","Let's GOOO!",10,new pc.Color(1,.9,0,1),new pc.Color(1,1,1,1))},onAssetReady=e=>{(t+=1)===o?onAssetsLoaded():t===Math.round(3*o/4)&&onAssetsNearlyLoaded()},i=0;i<e.length;i++)e[i].ready(onAssetReady),this.app.assets.load(e[i]);0===e.length&&onAssetsLoaded()},NetworkManager.prototype.joinServer=async function(e){try{console.log("try connecting server with room:",e),this.app.colyseus=new Colyseus.Client("wss://eu1.swordmasters.io"),this.room=null!=e?await this.app.colyseus.joinById(e,{accessToken:Utils.getItem("token")}):await this.app.colyseus.joinOrCreate(this.app.loadLevel,{accessToken:Utils.getItem("token")}),console.log("connected to the ",this.room.name),this.room.name!=this.app.loadLevel?(this.app.loadLevelJoin=this.room.name,this.app.isInWrongWorld=!0):(this.app.loadLevelJoin=null,this.app.isInWrongWorld=!1),this.app.connectionRetry=0}catch(e){console.log(e)}return!!this.room&&(this.room.onLeave((e=>{console.log("client left the room with code ",e),4500===e?this.menuController.setLoadingPanel(!0,"You are already in the game, please close other browser tabs\nIf you think its an error, please refresh the page",maintenance=!0):4e3!=e&&0==this.app.disconnectFromServer&&(this.menuController.setLoadingPanel(!0,"Disconnected from the server :/\nTransferring to new server..",maintenance=!0),setTimeout((()=>{this.app.loadLevel="menu",this.app.scenes.changeScene(this.app.loadLevel)}),3e3))})),this.room.onError(((e,t)=>{console.log("error code:",e,"oops, error ocurred:",t),this.menuController.setLoadingPanel(!0,"Our server crashed:(\nTransferring to new server..",maintenance=!0),setTimeout((()=>{this.app.loadLevel="menu",this.app.scenes.changeScene(this.app.loadLevel)}),3e3)})),!0)},NetworkManager.prototype.listenEnemies=function(){this.enemies={},this.room.state.enemies.onAdd(((e,t)=>{e.onChange((()=>{const o=new pc.Vec3(0,e.rotationY,0);this.enemies[t].networkPosition=new pc.Vec3(e.x,e.y,e.z),this.enemies[t].networkRotation=(new pc.Quat).setFromEulerAngles(0,o.y,0)})),e.listen("health",((e,o)=>{this.enemies[t]&&this.enemies[t].script.enemyController.setHealth(e)}));const o=this.enemyTemplates[e.type].resource.instantiate();o.enemyId=t,o.setPosition(e.x,e.y,e.z),this.app.root.addChild(o),this.enemies[t]=o}),!1),this.room.onMessage("Server:EnemyController:getDamage",(e=>{e.damagers.find((e=>e===this.room.sessionId))?this.app.fire("Server:EnemyController:getDamage",e.enemyId,e.damageAmount,!0,e.coinDropCount,e.coinDrop,e.coinDrop):this.app.fire("Server:EnemyController:getDamage",e.enemyId,e.damageAmount,!1,0,0,0)})),this.room.onMessage("Server:EnemyController:attack",(e=>{this.app.fire("Server:EnemyController:attack",e.enemyId)}))},NetworkManager.prototype.listenInventory=function(){this.playerInventories={},this.items={},this.petItems={},this.lastLevelUpExp=0,this.playerSwordCount=0,this.room.state.playerInventories.onAdd(((e,t)=>{this.playerInventories[t]=e,this.playerEntities[t].script.playerController.inv=e,this.room.sessionId===t&&(this.localInv=e,this.goldAmount=e.gold,this.powerAmount=e.power,this.healthBar.playerController=this.playerEntities[t].script.playerController,this.experienceBar.playerController=this.playerEntities[t].script.playerController,this.setNetStats(e),this.playerEntities[t].fire("InventoryReady")),this.playerEntities[t].script.playerController.hp=e.health,this.playerEntities[t].script.playerController.maxHP=e.maxHealth,this.playerEntities[t].script.playerController.experience=e.experience,this.playerEntities[t].script.playerController.level=e.level,e.listen("health",((o,i)=>{if(this.room.sessionId===t)if(null==i||i<o?(this.playerEntities[t].script.playerController.hp=e.health,this.healthBar.decrease(i-o),this.stopHealthIconTween(),null==i&&this.healthBar.setup()):this.healthBar.decrease(i-o),o>0&&o<=e.maxHealth/2&&o<i&&null==this.healthBarIconTween){this.lowHPEffect.enabled=!0,this.lowHPEffectData={value:0},this.lowHPEffectTween=this.lowHPEffect.tween(this.lowHPEffectData).to({value:1},.5,pc.SineOut).on("update",(e=>{this.lowHPEffect.element.opacity=this.lowHPEffectData.value})).yoyo(!0).repeat(2).loop(!0).start();const e=this.healthBarIcon.getLocalScale().clone().addScalar(.01);this.healthBarIconTween=this.healthBarIcon.tween(this.healthBarIcon.getLocalScale()).to(e,.3,pc.SineOut).yoyo(!0).repeat(2).loop(!0).start()}else(o>e.maxHP/2||o<=0)&&this.stopHealthIconTween();o<=0&&(this.room.sessionId===t&&(this.app.fire("PlayerDied"),!0===this.app.gameplayStarted&&(PokiSDK.gameplayStop(),this.app.gameplayStarted=!1),setTimeout((()=>{this.app.isWatchingAd=!0,PokiSDK.commercialBreak((()=>{this.app.systems.sound.volume=0,this.app.mouse.disablePointerLock()})).then((()=>{console.log("Commercial break finished, proceeding to game"),this.app.systems.sound.volume=1,this.app.isWatchingAd=!1}))}),2e3)),this.playerEntities[t].script.playerController.died())})),e.listen("maxHealth",(e=>{this.room.sessionId===t&&(this.playerEntities[t].script.playerController.maxHP=e,this.healthBar.setup())})),e.listen("level",((o,i)=>{null!=i&&null!=i&&this.vfxController.levelUp(this.playerEntities[t]),this.room.sessionId===t&&(this.playerEntities[t].script.playerController.level=e.level,null==i||this.experienceBarParent.tween(this.experienceBarParent.getLocalScale()).to(new pc.Vec3(1.15,1.15,1.15),.4,pc.ExponentialOut).yoyo(!0).repeat(2).start(),this.experienceBarLevelText.element.text="Level "+o,this.lastLevelUpExp=Math.pow(i,4),this.playerEntities[t].script.playerController.experience=e.experience-Math.pow(o,4),this.experienceBar.setup()),this.playerEntities[t].script.playerController.levelEntity.element.text="level "+o})),e.listen("experience",((o,i)=>{this.room.sessionId===t&&(null==i?this.experienceBar.setup():this.experienceBar.decrease(i-o),(null==this.experienceBarIconTween||(Math.pow(e.level+1,4)+Math.pow(e.level,4))/2<o&&!0===this.experienceBarIconTween.complete)&&(this.experienceBarIconTween=this.experienceBarIcon.tween(this.experienceBarIcon.getLocalEulerAngles()).rotate({x:0,y:0,z:0},.2,pc.ExponentialOut).repeat(2).yoyo(!0).start()))})),e.listen("activeSword",((e,o)=>{this.room.sessionId===t&&null!=o&&(this.menuController.sound.play("equip"),this.currentPlayerEntity.fire("Tutorial:OnEquipFirstSword")),this.playerEntities[t].script.playerController.setActiveSword(e.type),this.inventoryController.setActiveSlot()})),e.listen("activeShield",((e,o)=>{this.room.sessionId===t&&null!=o&&this.menuController.sound.play("equip"),this.playerEntities[t].script.playerController.setActiveShield(e.type),this.inventoryController.setActiveSlot()})),e.swords.onAdd((e=>{this.room.sessionId===t&&e.type>0&&(this.playerSwordCount+=1,this.items[e.itemId]=e,this.items[e.itemId].isSword=!0,!1===this.isNewlyJoined&&this.itemDropUIPopup(e,!0),this.inventoryController.sortInventory(),this.app.isDoingTutorial&&this.currentPlayerEntity.fire("Tutorial:OnFirstSword"))}),!1),e.swords.onRemove((e=>{this.room.sessionId===t&&e.type>0&&(delete this.items[e.itemId],this.inventoryController.sortInventory())}),!1),e.shields.onAdd((e=>{this.room.sessionId===t&&e.type>0&&(this.items[e.itemId]=e,this.items[e.itemId].isSword=!1,!1===this.isNewlyJoined&&this.itemDropUIPopup(e,!1),this.inventoryController.sortInventory())}),!1),e.shields.onRemove((e=>{this.room.sessionId===t&&e.type>0&&(delete this.items[e.itemId],this.inventoryController.sortInventory())}),!1),e.pets.onAdd((e=>{this.room.sessionId===t&&e.type>=0&&(this.petItems[e.itemId]=e,this.petUIController.sortInventory())}),!1),e.pets.onRemove((e=>{this.room.sessionId===t&&e.type>=0&&(delete this.petItems[e.itemId],this.petUIController.sortInventory())}),!1),e.activePets.onChange((()=>{if(this.room.sessionId===t){this.petUIController.sortInventory();const e=this.playerEntities[t];if(e){const t=e.script.playerController;let o=0;for(const[t,i]of Object.entries(e.pets))i&&(o+=i.script.petController.petData.speedMultiplier);t.speedMultiplied=t.speed+t.speed*o}}}),!1),e.activePets.onAdd((e=>{const o=this.playerEntities[t];if(o){const t=this.petUIController.petTemplates[e.type].resource.instantiate();this.app.root.addChild(t);const i=o.script.playerController,s=i.petPosIndex++%i.petPosParent.children.length;t.script.petController.target=i.petPosParent.children[s],t.setPosition(t.script.petController.target.getPosition()),null==o.pets&&(o.pets={}),o.pets[e.itemId]=t}}),!1),e.activePets.onRemove((e=>{const o=this.playerEntities[t];if(o){const t=o.pets[e.itemId];t&&(t.destroy(),delete o.pets[e.itemId])}}),!1),e.listen("activeSkinColor",(e=>{this.playerEntities[t].script.playerController.changeSkinColor(e)})),e.listen("activeFace",(e=>{this.playerEntities[t].script.playerController.changeFace(e)})),e.listen("activeHair",(e=>{this.playerEntities[t].script.playerController.changeHair(e)})),e.listen("activeHelmet",(o=>{this.playerEntities[t].script.playerController.changeHelmet(o),this.playerEntities[t].script.playerController.hideShowHairHelmet(e.helmetEnabled),this.room.sessionId===t&&o>0&&(this.app.fire("BlacksmithItemController:boughtNewHelmet",o,!1),this.app.isDoingTutorial&&this.currentPlayerEntity.fire("Tutorial:OnBoughtFirstArmorQuest"))})),e.listen("activeTorso",(e=>{this.playerEntities[t].script.playerController.changeTorso(e),this.room.sessionId===t&&e>0&&(this.app.fire("BlacksmithItemController:boughtNewTorso",e,!1),this.app.isDoingTutorial&&this.currentPlayerEntity.fire("Tutorial:OnBoughtFirstArmorQuest"))})),e.listen("activePant",(e=>{this.playerEntities[t].script.playerController.changePant(e),this.room.sessionId===t&&e>0&&(this.app.fire("BlacksmithItemController:boughtNewPant",e,!1),this.app.isDoingTutorial&&this.currentPlayerEntity.fire("Tutorial:OnBoughtFirstArmorQuest"))})),e.listen("activeShoe",((e,o)=>{this.playerEntities[t].script.playerController.changeShoe(e),this.room.sessionId===t&&e>0&&(this.app.fire("BlacksmithItemController:boughtNewShoe",e,!1),this.app.isDoingTutorial&&this.currentPlayerEntity.fire("Tutorial:OnBoughtFirstArmorQuest"))})),e.skinColors.onAdd((e=>{this.room.sessionId===t&&e>0&&this.app.fire("CustomizeSlotController:boughtNewSkinColor",e)}),!1),e.faces.onAdd((e=>{this.room.sessionId===t&&e>0&&this.app.fire("CustomizeSlotController:boughtNewFaceType",e)}),!1),e.hairs.onAdd((e=>{this.room.sessionId===t&&e>0&&this.app.fire("CustomizeSlotController:boughtNewHair",e)}),!1),e.helmets.onAdd((e=>{this.room.sessionId===t&&e>0&&this.app.fire("BlacksmithItemController:boughtNewHelmet",e)}),!1),e.torsos.onAdd((e=>{this.room.sessionId===t&&e>0&&this.app.fire("BlacksmithItemController:boughtNewTorso",e)}),!1),e.pants.onAdd((e=>{this.room.sessionId===t&&e>0&&this.app.fire("BlacksmithItemController:boughtNewPant",e)}),!1),e.shoes.onAdd((e=>{this.room.sessionId===t&&e>0&&this.app.fire("BlacksmithItemController:boughtNewShoe",e)}),!1),e.listen("helmetEnabled",(e=>{this.playerEntities[t].script.playerController.hideShowHairHelmet(e)})),e.books.onAdd((e=>{this.room.sessionId===t&&e>0&&(this.inventoryController.addBookToInventory(e),this.app.fire("MageItemController:boughtNewBook",e))}),!1),e.activeBooks.onAdd((e=>{this.room.sessionId===t&&(this.inventoryController.setActiveSlotBook(e),this.playerEntities[t].script.playerSkillController.setupSkillSlots())}),!1),e.questStatus.onChange(((e,o)=>{this.room.sessionId===t&&!0===e.isCompleted&&this.app.fire("QuestController:questCompleted"+e.questId)}),!1),e.listen("activeQuest",((e,o)=>{this.room.sessionId===t&&!1===isNaN(e)&&e>=0&&e<quests.length&&(this.app.activeQuest=e,this.app.fire("QuestPanelController:hideQuestPanel"+o),this.app.fire("QuestController:hideQuest"+o,!0),this.app.fire("QuestPanelController:showQuestPanel"+e))}),!1),e.canClaimChestTypes.onAdd((e=>{this.room.sessionId===t&&e.claimed&&(this.app.fire("ChestController:ChestClaimed",e.type),this.claimedChests.push(e.type))}),!1)}),!1),this.room.onMessage("Server:NetworkManager:hatchedPet",(e=>{this.app.fire("HatchedPetController:hatchedPet",e)})),this.room.onMessage("Server:NetworkManager:setNetStats",(e=>{this.setNetStats(e)})),this.room.onMessage("Server:PetUIController:soldUnusedPets",(e=>{this.app.fire("PetUIController:soldUnusedPets",e)})),this.room.onMessage("Server:PetUIController:soldPet",(e=>{this.app.fire("PetUIController:soldPet",e)})),this.room.onMessage("Server:PlayerSkillController:useSkill",(e=>{e.skillPlayerSessionId!=this.room.sessionId&&this.app.fire("Server:PlayerSkillController:useSkill",e)}))},NetworkManager.prototype.listenLeaderboards=function(){this.room.state.listen("goldLeaderboard",(e=>{this.app.fire("goldLeaderboard",e)})),this.room.state.listen("powerLeaderboard",(e=>{this.app.fire("powerLeaderboard",e)})),this.room.state.listen("levelLeaderboard",(e=>{this.app.fire("levelLeaderboard",e)}))},NetworkManager.prototype.listenPlayers=function(){this.playerEntities={},this.room.state.bestPlayersInventory.onAdd(((e,t)=>{this.app.fire("setBestPlayerData",e,t)})),this.room.state.players.onAdd(((e,t)=>{this.onlineCount+=1,this.onlineCounter.element&&(this.onlineCounter.element.text=this.onlineCount),e.onChange((()=>{if(null==this.playerEntities[t])return;const o=this.playerEntities[t].script.playerController;if(this.room.sessionId===t);else{let i=new pc.Vec3(0,e.rotationY,0);this.playerEntities[t].networkPosition=new pc.Vec3(e.x,e.y,e.z),this.playerEntities[t].networkRotation=(new pc.Quat).setFromEulerAngles(0,i.y,0),this.playerEntities[t].anim&&(this.playerEntities[t].anim.setBoolean("isRunning",e.isRunning),this.playerEntities[t].anim.setBoolean("isInAir",e.isInAir)),o.isAutoAttack=e.isAttacking}(!1===o.pickedupSword&&this.playerEntities[t].isLocalPlayer&&!0===o.isAttacking||!1===this.playerEntities[t].isLocalPlayer&&!0===e.isAttacking)&&(o.pickupSwordInHand(),o.pickupShieldInHand())}));const o=this.playerObject.resource.instantiate();if(o.sessionId=t,this.room.sessionId===t){this.localSessionId=t,o.isLocalPlayer=!0,this.currentPlayerEntity=o;const e=worldColors[this.worldNumber-1];this.app.fire("AnnouncementController:setAnnouncement",worldNames[this.worldNumber-1],"World "+this.worldNumber,7,new pc.Color(e[0],e[1],e[2],1),new pc.Color(e[3],e[4],e[5],1)),1!=this.app.comesFromMenu&&this.app.fire("LoadingPanelController:connectedToServer"),this.menuController.gameUI.enabled=!0,this.app.comesFromMenu=!1}else o.isLocalPlayer=!1;o.setPosition(e.x,e.y,e.z),this.app.root.addChild(o),this.playerEntities[t]=o,e.listen("username",(e=>{this.room.sessionId===t&&Utils.setItem("username",e),this.playerEntities[t].script.playerController.usernameEntity.element.text=e}))}),!1),this.room.state.players.onRemove(((e,t)=>{for(var o in this.onlineCount-=1,this.onlineCounter.element.text=this.onlineCount,this.playerEntities[t].pets)this.playerEntities[t].pets.hasOwnProperty(o)&&this.playerEntities[t].pets[o].destroy();this.localSessionId!=t&&this.playerEntities[t].destroy(),delete this.playerEntities[t]}),!1),this.room.onMessage("Server:PlayerController:respawn",(e=>{this.playerEntities[e].script.playerController.respawn()})),this.room.onMessage("Server:PlayerController:getDamage",(e=>{this.app.fire("Server:PlayerController:getDamage",e)})),this.room.onMessage("Server:ChatController:NewChatMessage",(e=>{this.app.fire("Server:ChatController:NewChatMessage",e)}))},NetworkManager.prototype.interpolatePositionAndRotation=function(e){for(var t in this.playerEntities){if(t==this.room.sessionId)continue;const o=this.playerEntities[t];this.interpolatedPosition=o.getPosition().clone(),this.interpolatedPosition.distance(o.networkPosition)<20?(this.interpolatedPosition.lerp(o.getPosition(),o.networkPosition,5*e),o.setPosition(this.interpolatedPosition)):o.setPosition(o.networkPosition);const i=o.script.playerController.playerModel;this.interpolatedRotation=i.getRotation().clone(),this.interpolatedRotation.slerp(i.getRotation(),o.networkRotation,10*e),i.setRotation(this.interpolatedRotation)}for(var t in this.enemies){const o=this.enemies[t],i=o.networkPosition,s=o.getPosition(),n=o.isMoving,r=o.anim,a=this.calculateDistance(i.x,i.z,s.x,s.z);a<.25&&!0===n?(o.isMoving=!1,r.setBoolean("isWalking",!1)):a>=.25&&(null==n||!1===n)&&(o.isMoving=!0,r.setBoolean("isWalking",!0)),this.interpolatedPosition=s.clone(),this.interpolatedPosition.lerp(s,i,4*e),o.setPosition(this.interpolatedPosition);const l=o.script.enemyController.enemyModel;this.interpolatedRotation=l.getRotation().clone(),this.interpolatedRotation.slerp(l.getRotation(),o.networkRotation,5*e),l.setRotation(this.interpolatedRotation)}},NetworkManager.prototype.calculateDistance=function(e,t,o,i){const s=o-e,n=i-t;return Math.sqrt(s*s+n*n)},NetworkManager.prototype.poppingTextTween=function(e,t,o){const i=this.poppingTextPool.get();i.element.text="+"+numRound(e),i.element.color=new pc.Color(t[0]/255,t[1]/255,t[2]/255),i.setLocalPosition(448+pc.math.random(-400,400),-300+pc.math.random(-200,200),0),i.element.opacity=1,i.element.outlineThickness=1;const s=i.getLocalPosition().clone();s.y+=100;const n=i.getLocalScale().clone();i.enabled=!0,i.tween(i.getLocalPosition()).to(s,1,pc.SineOut).on("complete",(()=>{s.x=-105,s.y=o?60:-5,i.tween(i.getLocalPosition()).to(s,.5,pc.SineOut).on("update",(function(e){i.element.opacity-=2*e,i.element.outlineThickness-=2*e})).on("complete",(()=>{i.enabled=!1,i.setLocalScale(n),this.poppingTextPool.push(i),o?this.goldStatTween(e):this.powerStatTween(e)})).start()})).start()},NetworkManager.prototype.itemDropUIPopup=function(e,t){const o=e.type;if(this.tween8){this.tween1.stop(),this.tween2.stop(),this.tween3.stop(),this.tween4.stop(),this.tween5.stop(),this.tween6.stop(),this.tween7.stop(),this.tween8.stop();this.itemDropUI.getLocalPosition().y=-108.233}var i,s;const n=!this.inventoryUI.enabled;!0===this.inventoryUI.enabled?(i=new pc.Vec3(-185,-300,0),s=new pc.Vec3(0,500,0)):(i=new pc.Vec3(0,-108.233,0),s=new pc.Vec3(0,300,0)),this.itemDropUI.setLocalPosition(i);var r,a=this.itemDropUI.getLocalPosition().clone(),l=new pc.Vec3(0,24.431,0),p=new pc.Vec3(2,17,27.736,0);this.itemDropUI_bg.setLocalPosition(i),this.itemDropUI_item.setLocalPosition(i),this.itemDropUI_text.setLocalScale(new pc.Vec3(0,0,0)),this.itemDropUI_item.setLocalScale(new pc.Vec3(0,0,0)),this.itemDropUI_bg.setLocalScale(new pc.Vec3(0,0,0)),!0===t?(this.itemDropUI_item.setLocalEulerAngles(0,0,-30),this.itemDropUI_item.element.texture=this.inventoryController.swordImages[o].resource,r=swords[o]):(this.itemDropUI_item.setLocalEulerAngles(0,0,0),this.itemDropUI_item.element.texture=this.inventoryController.shieldImages[o].resource,r=shields[o]),this.itemDropUI_text.element.text=r.name+" ("+r.rarity+" %"+r.commonnessPercentage+")",this.itemDropUI_level.element.text="level "+e.level,"Epic"===r.rarity?(this.menuController.sound.play("epic"),this.itemDropUI_bg.element.color=new pc.Color(0,0,0,1),this.itemDropUI_level.element.color=new pc.Color(.9,0,1,1),this.itemDropUI_text.element.color=new pc.Color(.9,0,1,1)):"Rare"===r.rarity?(this.menuController.sound.play("newItem"),this.itemDropUI_bg.element.color=new pc.Color(1,1,1,1),this.itemDropUI_level.element.color=new pc.Color(0,.7,1,1),this.itemDropUI_text.element.color=new pc.Color(0,.7,1,1)):(this.menuController.sound.play("newItem"),this.itemDropUI_bg.element.color=new pc.Color(1,1,1,1),this.itemDropUI_level.element.color=new pc.Color(1,1,1,1),this.itemDropUI_text.element.color=new pc.Color(1,1,1,1)),this.itemDropUI.enabled=!0,this.itemDropUI_item.element.color=new pc.Color(0,0,0,1),this.tween1=this.itemDropUI.tween(this.itemDropUI.getLocalPosition()).to(a,.5,pc.SineOut).start(),this.tween2=this.itemDropUI_bg.tween(this.itemDropUI_bg.getLocalPosition()).to(l,.5,pc.SineOut).delay(.1).start(),this.tween3=this.itemDropUI_item.tween(this.itemDropUI_item.getLocalPosition()).to(p,.5,pc.SineOut).delay(.2).start(),this.tween4=this.itemDropUI_item.tween(this.itemDropUI_item.getLocalScale()).to(new pc.Vec3(.263,.263,.263),.5,pc.SineOut).delay(.2).on("complete",(()=>{"Epic"===r.rarity&&n&&(this.uiConfetti.particlesystem.reset(),this.uiConfetti.particlesystem.play())})).start(),this.tween5=this.itemDropUI_bg.tween(this.itemDropUI_bg.getLocalScale()).to(new pc.Vec3(.465,.465,.465),.5,pc.SineOut).delay(.6).start(),this.tween6=this.itemDropUI_text.tween(this.itemDropUI_text.getLocalScale()).to(new pc.Vec3(1,1,1),.5,pc.SineOut).delay(.6).start(),this.pivotData={value:0},this.tween7=this.itemDropUI_item.tween(this.pivotData).to({value:1},.5,pc.SineOut).on("update",(e=>{this.itemDropUI_item.element.color=new pc.Color(this.pivotData.value,this.pivotData.value,this.pivotData.value)})).delay(.8).start(),this.tween8=this.itemDropUI.tween(this.itemDropUI.getLocalPosition()).to(this.itemDropUI.getLocalPosition().clone().add(s),1,pc.BackInOut).on("complete",(()=>{this.itemDropUI.setLocalPosition(this.itemDropUI.getLocalPosition().clone().add(new pc.Vec3(0,-300,0))),this.tween8=null,this.itemDropUI.enabled=!1})).delay(3).start()},NetworkManager.prototype.goldStatTween=function(e){this.goldStatTextTween&&(this.goldStatTextTween.stop(),this.goldStatText.setLocalScale(pc.Vec3.ONE)),this.goldStatTextTween=this.goldStatText.tween(this.goldStatText.getLocalScale()).to(new pc.Vec3(1.5,1.5,1.5),.1,pc.SineOut).on("complete",(()=>{this.goldStatTextTween=null,this.goldStatText.setLocalScale(pc.Vec3.ONE)})).repeat(2).yoyo(!0).start(),this.updateGoldStat(e)},NetworkManager.prototype.powerStatTween=function(e){this.powerStatTextTween&&(this.powerStatTextTween.stop(),this.powerStatText.setLocalScale(pc.Vec3.ONE)),this.powerStatTextTween=this.powerStatText.tween(this.powerStatText.getLocalScale()).to(new pc.Vec3(1.5,1.5,1.5),.1,pc.SineOut).on("complete",(()=>{this.powerStatTextTween=null,this.powerStatText.setLocalScale(pc.Vec3.ONE)})).repeat(2).yoyo(!0).start(),this.updatePowerStat(e*this.localInv.powerMultiplier)},NetworkManager.prototype.setupStandardMaterial=function(){this.app.standardMaterial=this.damageMat.resource},NetworkManager.prototype.stopHealthIconTween=function(){this.healthBarIconTween&&(this.healthBarIconTween.stop(),this.healthBarIconTween=null,this.healthBarIcon.setLocalScale(new pc.Vec3(.072,.072,.072)),this.lowHPEffectTween.stop(),this.lowHPEffectTween=null,this.lowHPEffect.element.opacity=0,this.lowHPEffect.enabled=!1)},NetworkManager.prototype.inventoryUITween=function(e=!1){this.inventoryUITweenAnim&&this.inventoryUITweenAnim.stop(),!0===e?(this.inventoryUI.setLocalPosition(new pc.Vec3(14.665,-40,0)),this.inventoryUITweenAnim=this.inventoryUI.tween(this.inventoryUI.getLocalPosition()).to(new pc.Vec3(510,-40,0),.2,pc.SineIn).on("complete",(()=>{this.inventoryUITweenAnim=null,this.inventoryUI.enabled=!1})).start()):(this.inventoryUI.enabled=!0,this.inventoryUI.setLocalPosition(new pc.Vec3(510,-40,0)),this.inventoryUITweenAnim=this.inventoryUI.tween(this.inventoryUI.getLocalPosition()).to(new pc.Vec3(14.665,-40,0),.3,pc.SineOut).on("complete",(()=>{this.inventoryUITweenAnim=null})).start())};const enemyTypes=[{name:"Roundhead",type:0,health:100,damage:10,coinDropHPLimit:20,coinDropCount:3,coinRewardRange:[1,3],dropsSword:[0,1,2],dropsShield:[0,1],speed:5,enemyBodyRadius:2,attackDistance:8,respawDelay:3e3,dropsChest:0},{name:"Forest Orc",type:1,health:2500,damage:500,coinDropHPLimit:250,coinDropCount:5,coinRewardRange:[20,40],dropsSword:[0,2,3],dropsShield:[0,1,2,3],speed:5,enemyBodyRadius:2,attackDistance:8,attackDelay:1e3,respawDelay:5e3,dropsChest:0},{name:"Bonechewer",type:2,health:1e4,damage:2e3,coinDropHPLimit:1e3,coinDropCount:5,coinRewardRange:[70,100],dropsSword:[0,3,4,5],dropsShield:[0,3,4,5],speed:5,enemyBodyRadius:2,attackDistance:8,attackDelay:1e3,respawDelay:1e4,dropsChest:0},{name:"Cocoa Guardian",type:3,health:15e3,damage:5e3,coinDropHPLimit:1500,coinDropCount:3,coinRewardRange:[150,250],dropsSword:[0,6,7],dropsShield:[0,6],speed:5,enemyBodyRadius:2,attackDistance:8,attackDelay:1e3,respawDelay:5e3,dropsChest:0},{name:"Chocolate Knight",type:4,health:5e4,damage:15e3,coinDropHPLimit:5e3,coinDropCount:5,coinRewardRange:[300,600],dropsSword:[0,7,8],dropsShield:[0,6,7,8],speed:5,enemyBodyRadius:2,attackDistance:8,attackDelay:1e3,respawDelay:1e4,dropsChest:0},{name:"Mallowbeast",type:5,health:5e5,damage:3e4,coinDropHPLimit:5e4,coinDropCount:10,coinRewardRange:[600,1e3],dropsSword:[0,8,9,10],dropsShield:[0,8,9,10],speed:5,enemyBodyRadius:2,attackDistance:10,attackDelay:1e3,respawDelay:1e4,dropsChest:0},{name:"Ice King",type:6,health:1e6,damage:25e3,coinDropHPLimit:1e5,coinDropCount:10,coinRewardRange:[1e4,2e4],dropsSword:[0,11,12,13,14,15],dropsShield:[0,11,12,13,14,15],speed:0,enemyBodyRadius:10,attackDistance:25,attackDelay:2e3,respawDelay:3e4,dropsChest:1},{name:"Spiked Tortoise",type:7,health:25e4,damage:5e4,coinDropHPLimit:25e3,coinDropCount:5,coinRewardRange:[6e3,12e3],dropsSword:[0,16,17],dropsShield:[0,16],speed:2,enemyBodyRadius:2,attackDistance:15,attackDelay:2e3,respawDelay:5e3,dropsChest:0},{name:"Cursed Stone",type:8,health:5e5,damage:2e5,coinDropHPLimit:5e4,coinDropCount:5,coinRewardRange:[12e3,2e4],dropsSword:[0,17,18],dropsShield:[0,16,17,18],speed:4,enemyBodyRadius:4,attackDistance:15,attackDelay:2e3,respawDelay:1e4,dropsChest:0},{name:"Mummy",type:9,health:2e6,damage:5e5,coinDropHPLimit:1e5,coinDropCount:5,coinRewardRange:[2e4,4e4],dropsSword:[0,18,19,20],dropsShield:[0,18,19,20],speed:4,enemyBodyRadius:4,attackDistance:15,attackDelay:2e3,respawDelay:1e4,dropsChest:0},{name:"Giga Moai",type:10,health:3e6,damage:2e6,coinDropHPLimit:5e5,coinDropCount:5,coinRewardRange:[1e5,2e5],dropsSword:[0,21,22,23],dropsShield:[0,21,22],speed:4,enemyBodyRadius:4,attackDistance:15,attackDelay:2e3,respawDelay:5e3,dropsChest:0},{name:"Lava Rock",type:11,health:2e7,damage:5e6,coinDropHPLimit:1e6,coinDropCount:5,coinRewardRange:[2e5,4e5],dropsSword:[0,22,23],dropsShield:[0,20,21,22],speed:5,enemyBodyRadius:4,attackDistance:15,attackDelay:2e3,respawDelay:7e3,dropsChest:0},{name:"Nether Lord",type:12,health:1e8,damage:3e6,coinDropHPLimit:1e6,coinDropCount:5,coinRewardRange:[4e5,8e5],dropsSword:[0,23,24,25],dropsShield:[0,23,24,25],speed:4,enemyBodyRadius:4,attackDistance:15,attackDelay:2e3,respawDelay:1e4,dropsChest:0}];var WearableBase=pc.createScript("wearableBase"),WearableSlot={Shirt:0,Pants:1,Shoes:2,Head:3,Hair:4};WearableBase.prototype.initialize=function(){this.entity.animation||this.entity.addComponent("animation"),this.wearables=[]},WearableBase.prototype.addWearable=function(e,a){if(this.wearables[e]){var t=this.wearables[e];this.entity.removeChild(t),t.destroy(),this.wearable[e]=null}var i=this.app.assets.find(a,"model");i?(i.ready(function(a){console.log(a.name+" is ready...");var t=new pc.Entity;this.entity.addChild(t),t.addComponent("animation"),t.addComponent("model",{type:"asset",asset:a}),t.addComponent("script"),t.script.create("wearable",{attributes:{base:this.entity}}),this.wearables[e]=t}.bind(this)),this.app.assets.load(i)):console.error("Asset Registry was unable to find "+a)};var Wearable=pc.createScript("wearable");Wearable.attributes.add("origin",{type:"entity"}),Wearable.attributes.add("target",{type:"entity"}),Wearable.prototype.postInitialize=function(){this.target.parent.enabled=!1,this.entity.reparent(this.app.root);var t=this.target.parent.getPosition().clone();t.y-=5,this.entity.setLocalPosition(t),this.entity.setLocalScale(new pc.Vec3(0,0,0)),this.bonesIndex={},this.indexBones(this.origin),this.bindBones(this.target),this.target.parent.enabled=!0,this.entity.setLocalScale(new pc.Vec3(.01,.01,.01)),this.target.parent.skins||(this.target.parent.skins=[]),this.target.parent.skins.push(this.entity)},Wearable.prototype.indexBones=function(t){this.bonesIndex[t.name]=t;for(var e=0;e<t.children.length;e++)this.indexBones(t.children[e])},Wearable.prototype.bindBones=function(t){this.bonesIndex[t.name]&&(this.bonesIndex[t.name].worldTransform=t.getWorldTransform());for(var e=0;e<t.children.length;e++)this.bindBones(t.children[e])};var OrbitCamera=pc.createScript("orbitCamera");OrbitCamera.attributes.add("autoRender",{type:"boolean",default:!0,title:"Auto Render",description:"Disable to only render when camera is moving (saves power when the camera is still)"}),OrbitCamera.attributes.add("distanceMax",{type:"number",default:0,title:"Distance Max",description:"Setting this at 0 will give an infinite distance limit"}),OrbitCamera.attributes.add("distanceMin",{type:"number",default:0,title:"Distance Min"}),OrbitCamera.attributes.add("pitchAngleMax",{type:"number",default:90,title:"Pitch Angle Max (degrees)"}),OrbitCamera.attributes.add("pitchAngleMin",{type:"number",default:-90,title:"Pitch Angle Min (degrees)"}),OrbitCamera.attributes.add("inertiaFactor",{type:"number",default:0,title:"Inertia Factor",description:"Higher value means that the camera will continue moving after the user has stopped dragging. 0 is fully responsive."}),OrbitCamera.attributes.add("focusEntity",{type:"entity",title:"Focus Entity",description:"Entity for the camera to focus on. If blank, then the camera will use the whole scene"}),OrbitCamera.attributes.add("frameOnStart",{type:"boolean",default:!0,title:"Frame on Start",description:'Frames the entity or scene at the start of the application."'}),Object.defineProperty(OrbitCamera.prototype,"distance",{get:function(){return this._targetDistance},set:function(t){this._targetDistance=this._clampDistance(t)}}),Object.defineProperty(OrbitCamera.prototype,"pitch",{get:function(){return this._targetPitch},set:function(t){this._targetPitch=this._clampPitchAngle(t)}}),Object.defineProperty(OrbitCamera.prototype,"yaw",{get:function(){return this._targetYaw},set:function(t){this._targetYaw=t;var i=(this._targetYaw-this._yaw)%360;this._targetYaw=i>180?this._yaw-(360-i):i<-180?this._yaw+(360+i):this._yaw+i}}),Object.defineProperty(OrbitCamera.prototype,"pivotPoint",{get:function(){return this._pivotPoint},set:function(t){this._pivotPoint.copy(t)}}),OrbitCamera.prototype.focus=function(t){this._buildAabb(t,0);var i=this._modelsAabb.halfExtents,e=Math.max(i.x,Math.max(i.y,i.z));e/=Math.tan(.5*this.entity.camera.fov*pc.math.DEG_TO_RAD),e*=2,this.distance=e,this._removeInertia(),this._pivotPoint.copy(this._modelsAabb.center)},OrbitCamera.distanceBetween=new pc.Vec3,OrbitCamera.prototype.resetAndLookAtPoint=function(t,i){this.pivotPoint.copy(i),this.entity.setPosition(t),this.entity.lookAt(i);var e=OrbitCamera.distanceBetween;e.sub2(i,t),this.distance=e.length(),this.pivotPoint.copy(i);var a=this.entity.getRotation();this.yaw=this._calcYaw(a),this.pitch=this._calcPitch(a,this.yaw),this._removeInertia(),this._updatePosition(),this.autoRender||(this.app.renderNextFrame=!0)},OrbitCamera.prototype.resetAndLookAtEntity=function(t,i){this._buildAabb(i,0),this.resetAndLookAtPoint(t,this._modelsAabb.center)},OrbitCamera.prototype.reset=function(t,i,e){this.pitch=i,this.yaw=t,this.distance=e,this._removeInertia(),this.autoRender||(this.app.renderNextFrame=!0)},OrbitCamera.prototype.initialize=function(){this._checkAspectRatio(),this._modelsAabb=new pc.BoundingBox,this._buildAabb(this.focusEntity||this.app.root,0),this.entity.lookAt(this._modelsAabb.center),this._pivotPoint=new pc.Vec3,this._pivotPoint.copy(this._modelsAabb.center),this._lastFramePivotPoint=this._pivotPoint.clone();var t=this.entity.getRotation();if(this._yaw=this._calcYaw(t),this._pitch=this._clampPitchAngle(this._calcPitch(t,this._yaw)),this.entity.setLocalEulerAngles(this._pitch,this._yaw,0),this._distance=0,this._targetYaw=this._yaw,this._targetPitch=this._pitch,this.frameOnStart)this.focus(this.focusEntity||this.app.root);else{var i=new pc.Vec3;i.sub2(this.entity.getPosition(),this._pivotPoint),this._distance=this._clampDistance(i.length())}this._targetDistance=this._distance,this._autoRenderDefault=this.app.autoRender,this.app.autoRender&&(this.app.autoRender=this.autoRender),this.autoRender||(this.app.renderNextFrame=!0),this.on("attr:autoRender",(function(t,i){this.app.autoRender=t,this.autoRender||(this.app.renderNextFrame=!0)}),this),this.on("attr:distanceMin",(function(t,i){this._targetDistance=this._clampDistance(this._distance)}),this),this.on("attr:distanceMax",(function(t,i){this._targetDistance=this._clampDistance(this._distance)}),this),this.on("attr:pitchAngleMin",(function(t,i){this._targetPitch=this._clampPitchAngle(this._pitch)}),this),this.on("attr:pitchAngleMax",(function(t,i){this._targetPitch=this._clampPitchAngle(this._pitch)}),this),this.on("attr:focusEntity",(function(t,i){this.frameOnStart?this.focus(t||this.app.root):this.resetAndLookAtEntity(this.entity.getPosition(),t||this.app.root)}),this),this.on("attr:frameOnStart",(function(t,i){t&&this.focus(this.focusEntity||this.app.root)}),this);var onResizeCanvas=function(){this._checkAspectRatio(),this.autoRender||(this.app.renderNextFrame=!0)};this.app.graphicsDevice.on("resizecanvas",onResizeCanvas,this),this.on("destroy",(function(){this.app.graphicsDevice.off("resizecanvas",onResizeCanvas,this),this.app.autoRender=this._autoRenderDefault}),this)},OrbitCamera.prototype.update=function(t){var i=0===this.inertiaFactor?1:Math.min(t/this.inertiaFactor,1);this._distance=pc.math.lerp(this._distance,this._targetDistance,i),this._yaw=pc.math.lerp(this._yaw,this._targetYaw,i),this._pitch=pc.math.lerp(this._pitch,this._targetPitch,i),this._lastFramePivotPoint.copy(this._pivotPoint),this._updatePosition()},OrbitCamera.prototype._updatePosition=function(){this.entity.setLocalPosition(0,0,0),this.entity.setLocalEulerAngles(this._pitch,this._yaw,0);var t=this.entity.getPosition();t.copy(this.entity.forward),t.scale(-this._distance),t.add(this.pivotPoint),this.entity.setPosition(t)},OrbitCamera.prototype._removeInertia=function(){this._yaw=this._targetYaw,this._pitch=this._targetPitch,this._distance=this._targetDistance},OrbitCamera.prototype._checkAspectRatio=function(){var t=this.app.graphicsDevice.height,i=this.app.graphicsDevice.width;this.entity.camera.horizontalFov=t>i},OrbitCamera.prototype._buildAabb=function(t,i){var e,a=0,s=0;if(t instanceof pc.Entity){var n=[],r=t.findComponents("render");for(a=0;a<r.length;++a)if(e=r[a].meshInstances)for(s=0;s<e.length;s++)n.push(e[s]);var h=t.findComponents("model");for(a=0;a<h.length;++a)if(e=h[a].meshInstances)for(s=0;s<e.length;s++)n.push(e[s]);for(a=0;a<n.length;a++)0===i?this._modelsAabb.copy(n[a].aabb):this._modelsAabb.add(n[a].aabb),i+=1}for(a=0;a<t.children.length;++a)i+=this._buildAabb(t.children[a],i);return i},OrbitCamera.prototype._calcYaw=function(t){var i=new pc.Vec3;return t.transformVector(pc.Vec3.FORWARD,i),Math.atan2(-i.x,-i.z)*pc.math.RAD_TO_DEG},OrbitCamera.prototype._clampDistance=function(t){return this.distanceMax>0?pc.math.clamp(t,this.distanceMin,this.distanceMax):Math.max(t,this.distanceMin)},OrbitCamera.prototype._clampPitchAngle=function(t){return pc.math.clamp(t,-this.pitchAngleMax,-this.pitchAngleMin)},OrbitCamera.quatWithoutYaw=new pc.Quat,OrbitCamera.yawOffset=new pc.Quat,OrbitCamera.prototype._calcPitch=function(t,i){var e=OrbitCamera.quatWithoutYaw,a=OrbitCamera.yawOffset;a.setFromEulerAngles(0,-i,0),e.mul2(a,t);var s=new pc.Vec3;return e.transformVector(pc.Vec3.FORWARD,s),Math.atan2(s.y,-s.z)*pc.math.RAD_TO_DEG};var TouchInput=pc.createScript("touchInput");TouchInput.attributes.add("orbitSensitivity",{type:"number",default:.4,title:"Orbit Sensitivity",description:"How fast the camera moves around the orbit. Higher is faster"}),TouchInput.attributes.add("distanceSensitivity",{type:"number",default:.2,title:"Distance Sensitivity",description:"How fast the camera moves in and out. Higher is faster"}),TouchInput.prototype.initialize=function(){this.orbitCamera=this.entity.script.orbitCamera,this.lastTouchPoint=new pc.Vec2,this.lastPinchMidPoint=new pc.Vec2,this.lastPinchDistance=0,this.orbitCamera&&this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStartEndCancel,this),this.app.touch.on(pc.EVENT_TOUCHEND,this.onTouchStartEndCancel,this),this.app.touch.on(pc.EVENT_TOUCHCANCEL,this.onTouchStartEndCancel,this),this.app.touch.on(pc.EVENT_TOUCHMOVE,this.onTouchMove,this),this.on("destroy",(function(){this.app.touch.off(pc.EVENT_TOUCHSTART,this.onTouchStartEndCancel,this),this.app.touch.off(pc.EVENT_TOUCHEND,this.onTouchStartEndCancel,this),this.app.touch.off(pc.EVENT_TOUCHCANCEL,this.onTouchStartEndCancel,this),this.app.touch.off(pc.EVENT_TOUCHMOVE,this.onTouchMove,this)})),this.orbitCamera.pitch=0,this.orbitCamera.yaw=0)},TouchInput.prototype.getPinchDistance=function(t,i){var o=t.x-i.x,n=t.y-i.y;return Math.sqrt(o*o+n*n)},TouchInput.prototype.calcMidPoint=function(t,i,o){o.set(i.x-t.x,i.y-t.y),o.scale(.5),o.x+=t.x,o.y+=t.y},TouchInput.prototype.onTouchStartEndCancel=function(t){var i=t.touches;1==i.length&&this.lastTouchPoint.set(i[0].x,i[0].y)},TouchInput.fromWorldPoint=new pc.Vec3,TouchInput.toWorldPoint=new pc.Vec3,TouchInput.worldDiff=new pc.Vec3,TouchInput.prototype.pan=function(t){var i=TouchInput.fromWorldPoint,o=TouchInput.toWorldPoint,n=TouchInput.worldDiff,c=this.entity.camera,h=this.orbitCamera.distance;c.screenToWorld(t.x,t.y,h,i),c.screenToWorld(this.lastPinchMidPoint.x,this.lastPinchMidPoint.y,h,o),n.sub2(o,i),this.orbitCamera.pivotPoint.add(n)},TouchInput.pinchMidPoint=new pc.Vec2,TouchInput.prototype.onTouchMove=function(t){const i=t.touches;if(1==i.length){const t=i[0];this.orbitCamera.pitch-=(t.y-this.lastTouchPoint.y)*this.orbitSensitivity,this.orbitCamera.yaw-=(t.x-this.lastTouchPoint.x)*this.orbitSensitivity,this.lastTouchPoint.set(t.x,t.y)}};var MouseInput=pc.createScript("mouseInput");MouseInput.attributes.add("orbitSensitivity",{type:"number",default:.3,title:"Orbit Sensitivity",description:"How fast the camera moves around the orbit. Higher is faster"}),MouseInput.attributes.add("distanceSensitivity",{type:"number",default:.15,title:"Distance Sensitivity",description:"How fast the camera moves in and out. Higher is faster"}),MouseInput.prototype.initialize=function(){if(this.orbitCamera=this.entity.script.orbitCamera,this.orbitCamera){var t=this,onMouseOut=function(o){t.onMouseOut(o)};this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.on(pc.EVENT_MOUSEWHEEL,this.onMouseWheel,this),window.addEventListener("mouseout",onMouseOut,!1),this.on("destroy",(function(){this.app.mouse.off(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEWHEEL,this.onMouseWheel,this),window.removeEventListener("mouseout",onMouseOut,!1)}))}this.app.mouse.disableContextMenu(),this.lookButtonDown=!1,this.panButtonDown=!1,this.lastPoint=new pc.Vec2},MouseInput.fromWorldPoint=new pc.Vec3,MouseInput.toWorldPoint=new pc.Vec3,MouseInput.worldDiff=new pc.Vec3,MouseInput.prototype.pan=function(t){var o=MouseInput.fromWorldPoint,e=MouseInput.toWorldPoint,i=MouseInput.worldDiff,s=this.entity.camera,n=this.orbitCamera.distance;s.screenToWorld(t.x,t.y,n,o),s.screenToWorld(this.lastPoint.x,this.lastPoint.y,n,e),i.sub2(e,o),this.orbitCamera.pivotPoint.add(i)},MouseInput.prototype.onMouseDown=function(t){switch(t.button){case pc.MOUSEBUTTON_LEFT:this.lookButtonDown=!0;break;case pc.MOUSEBUTTON_MIDDLE:case pc.MOUSEBUTTON_RIGHT:this.panButtonDown=!0}},MouseInput.prototype.onMouseUp=function(t){switch(t.button){case pc.MOUSEBUTTON_LEFT:this.lookButtonDown=!1;break;case pc.MOUSEBUTTON_MIDDLE:case pc.MOUSEBUTTON_RIGHT:this.panButtonDown=!1}},MouseInput.prototype.onMouseMove=function(t){this.lookButtonDown?(this.orbitCamera.pitch-=t.dy*this.orbitSensitivity,this.orbitCamera.yaw-=t.dx*this.orbitSensitivity):this.panButtonDown&&this.pan(t),this.lastPoint.set(t.x,t.y)},MouseInput.prototype.onMouseWheel=function(t){this.orbitCamera.distance-=t.wheel*this.distanceSensitivity*(.1*this.orbitCamera.distance),t.event.preventDefault()},MouseInput.prototype.onMouseOut=function(t){this.lookButtonDown=!1,this.panButtonDown=!1};var PlayerController=pc.createScript("playerController");PlayerController.attributes.add("speed",{type:"number",default:.09}),PlayerController.attributes.add("rotateSpeed",{type:"number",default:5}),PlayerController.attributes.add("usernameEntity",{type:"entity"}),PlayerController.attributes.add("levelEntity",{type:"entity"}),PlayerController.attributes.add("petPosParent",{type:"entity"}),PlayerController.attributes.add("swords",{type:"asset",assetType:"template",array:!0}),PlayerController.attributes.add("shields",{type:"asset",assetType:"template",array:!0}),PlayerController.attributes.add("helmets",{type:"asset",assetType:"template",array:!0}),PlayerController.attributes.add("torsos",{type:"asset",assetType:"template",array:!0}),PlayerController.attributes.add("pants",{type:"asset",assetType:"template",array:!0}),PlayerController.attributes.add("shoes",{type:"asset",assetType:"template",array:!0}),PlayerController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.playerSkillController=this.entity.script.playerSkillController;const t=this.app.root.findByName("Customize");if(this.petPosIndex=0,t&&(this.customizeController=t.script.customizeController),this.playerModel=this.entity.findByName("PlayerModel"),this.playerBody=this.entity.findByName("Body.001"),this.swordParent=this.entity.findByName("SwordParent"),this.swordBackParent=this.entity.findByName("SwordBackParent"),this.shieldParent=this.entity.findByName("ShieldParent"),this.shieldBackParent=this.entity.findByName("ShieldBackParent"),this.playerFace=this.entity.findByName("face"),this.hairParent=this.entity.findByName("Hair"),this.helmetParent=this.entity.findByName("Helmet"),this.torsoParent=this.entity.findByName("Torso"),this.pantParent=this.entity.findByName("Pant"),this.shoeParent=this.entity.findByName("Shoe"),this.playerModelTransformNoLerp=this.entity.findByName("PlayerModelTransformNoLerp"),this.upbodyLayer=this.entity.anim.findAnimationLayer("UpBody"),this.overrideLayer=this.entity.anim.findAnimationLayer("OVERRIDE"),this.grounded=!0,this.canMove=!0,this.x=0,this.z=0,this.jumpRayLength=new pc.Vec3(0,-1,0),this.weightData={value:0},this.attackAnimIndex=0,this.attackAnimTimer=0,this.activeSwordType=0,this.activeShieldType=0,this.isAttacking=!1,this.pickedupSword=!1,this.pickedupShield=!1,this.hasNearEnemy=!1,this.nearEnemies=[],this.entity.knockbackVelocity=pc.Vec3.ZERO,this.playerMeshInstance=this.playerBody.render.meshInstances[0],this.playerNormalMat=this.playerMeshInstance.material,this.inv=[],this.spawnedSwords=[],this.spawnedShields=[],this.spawnedHairs=[],this.spawnedHelmets=[],this.spawnedTorsos=[],this.spawnedPants=[],this.spawnedShoes=[],this.inv.health=1,this.groundNormal=new pc.Vec3,this.isJumped=!1,this.tmp=new pc.Vec3,this.getDamageSlot=this.entity.sound.slot("getDamage"),this.moveFrameCount=0,this.entity.anim.on("SlashEnd",(()=>{this.attackEnd(),this.swordRibbon&&this.swordRibbon.reset()})),this.entity.anim.on("SlashMid",(()=>{this.entity.sound.play("slash"+Math.floor(pc.math.random(0,4))),!0===this.entity.isLocalPlayer&&this.checkAttack(),this.swordRibbon&&this.swordRibbon.enableRibbon()})),this.entity.sound.volume=this.app.sfxValue/100,this.app.on("Slider:sfxValue",(()=>{this.entity.sound.volume=this.app.sfxValue/100}),this),this.on("destroy",(function(){clearInterval(this.sendPositionInterval),this.app.off("Server:PlayerController:getDamage"),this.app.off("SlashEnd"),this.app.off("lockMovementAndCamera",this.lockMovementAndCamera,this),this.app.off("lockMovement",this.lockMovement,this),this.app.off("lockCamera",this.lockCamera,this),this.app.off("Slider:sfxValue")}),this),!1===this.entity.isLocalPlayer)return this.entity.rigidbody.enabled=!1,this.entity.collision.enabled=!1,void this.app.on("Server:PlayerController:getDamage",this.getDamageNotLocal,this);this.speedMultiplied=this.speed;const e=Utils.getItem("usernameEnabled");this.usernameEntity.enabled="1"==e,this.setCamera(),this.app.touch&&(this.mobileButtons=window.touchJoypad.buttons),this.sendPositionInterval=setInterval(this.sendPosition.bind(this),100),!1===this.networkManager.autoConnect&&(this.entity.isLocalPlayer=!0,console.log("OFFLINE SCENE")),this.app.on("lockMovementAndCamera",this.lockMovementAndCamera,this),this.app.on("lockMovement",this.lockMovement,this),this.app.on("lockCamera",this.lockCamera,this),this.entity.on("InventoryReady",(()=>{const t=Utils.getItem("tutorial");(1===this.inv.level||null!=t&&!isNaN(t)&&Number.parseInt(t)<10)&&(this.entity.script.tutorialController.enabled=!0)}),this)},PlayerController.prototype.update=function(t){!1!==this.entity.isLocalPlayer?(this.checkGround(),this.nearEnemies.length>0?this.hasNearEnemy=!0:this.hasNearEnemy=!1,this.inv.health>0&&(this.handleMovement(t),this.autoAttack())):this.isAutoAttack&&this.autoAttackForNotLocalPlayers()},PlayerController.prototype.changeSkinColor=function(t){this.playerMeshInstance&&(this.playerMeshInstance.material=this.customizeController.skinColorMats[t].resource,this.playerNormalMat=this.playerMeshInstance.material)},PlayerController.prototype.changeFace=function(t){const e=this.playerFace.render.meshInstances[0];e&&(e.material=this.customizeController.faceMats[t].resource)},PlayerController.prototype.hideShowHairHelmet=function(t){this.activeHair&&this.activeHelmet&&this.activeHelmet.type>0&&(this.activeHelmet.enabled=t,this.activeHair.enabled=!t)},PlayerController.prototype.changeHair=function(t){this.activeHair&&(this.activeHair.enabled=!1),null==this.spawnedHairs[t]?(this.activeHair=this.customizeController.hairs[t].resource.instantiate(),this.activeHair.type=t,this.hairParent.addChild(this.activeHair),this.activeHair.setLocalPosition(0,0,0),this.spawnedHairs[t]=this.activeHair):(this.spawnedHairs[t].enabled=!0,this.activeHair=this.spawnedHairs[t]),this.activeHelmet&&this.activeHelmet.type>0&&(this.activeHair.enabled=!this.activeHelmet.enabled)},PlayerController.prototype.changeHelmet=function(t){this.activeHair&&t>0&&(this.activeHair.enabled=!1),this.activeHelmet&&(this.activeHelmet.enabled=!1),null==this.spawnedHelmets[t]?(this.activeHelmet=this.helmets[t].resource.instantiate(),this.activeHelmet.type=t,this.helmetParent.addChild(this.activeHelmet),this.activeHelmet.setLocalPosition(0,0,0),this.spawnedHelmets[t]=this.activeHelmet,this.activeHelmet.render&&(this.activeHelmet.render.rootBone=this.playerModel.children[0].children[0])):(this.spawnedHelmets[t].enabled=!0,this.activeHelmet=this.spawnedHelmets[t])},PlayerController.prototype.changeTorso=function(t){this.activeTorso&&(this.activeTorso.enabled=!1),null==this.spawnedTorsos[t]?(this.activeTorso=this.torsos[t].resource.instantiate(),this.torsoParent.addChild(this.activeTorso),this.spawnedTorsos[t]=this.activeTorso,this.activeTorso.render&&(this.activeTorso.render.rootBone=this.playerModel)):(this.spawnedTorsos[t].enabled=!0,this.activeTorso=this.spawnedTorsos[t])},PlayerController.prototype.changePant=function(t){this.activePant&&(this.activePant.enabled=!1),null==this.spawnedPants[t]?(this.activePant=this.pants[t].resource.instantiate(),this.pantParent.addChild(this.activePant),this.spawnedPants[t]=this.activePant,this.activePant.render&&(this.activePant.render.rootBone=this.playerModel.children[0])):(this.spawnedPants[t].enabled=!0,this.activePant=this.spawnedPants[t])},PlayerController.prototype.changeShoe=function(t){this.activeShoe&&(this.activeShoe.enabled=!1),null==this.spawnedShoes[t]?(this.activeShoe=this.shoes[t].resource.instantiate(),this.shoeParent.addChild(this.activeShoe),this.activeShoe.setLocalPosition(0,0,0),this.spawnedShoes[t]=this.activeShoe,this.activeShoe.render&&(this.activeShoe.render.rootBone=this.playerModel.children[0].children[0])):(this.spawnedShoes[t].enabled=!0,this.activeShoe=this.spawnedShoes[t])},PlayerController.prototype.getDamageNotLocal=function(t){t===this.entity.sessionId&&(this.getDamageSlot.pitch=(this.getDamageSlot.pitch+.1)%2+.5,this.entity.sound.play("getDamage"),this.playerMeshInstance&&(this.flashEffectNotLocal&&(clearTimeout(this.flashEffectNotLocal),this.playerMeshInstance.material=this.playerNormalMat),this.playerMeshInstance.material=this.app.standardMaterial,this.flashEffectNotLocal=setTimeout((()=>{this.playerMeshInstance.material=this.playerNormalMat,this.flashEffectNotLocal=null}),200)))},PlayerController.prototype.getDamage=function(t,e){this.getDamageSlot.pitch=(this.getDamageSlot.pitch+.1)%2+.5,this.entity.sound.play("getDamage"),this.entity.knockbackVelocity=t,1!=e&&this.playerMeshInstance&&(this.flashEffect&&(clearTimeout(this.flashEffect),this.playerMeshInstance.material=this.playerNormalMat),this.playerMeshInstance.material=this.app.standardMaterial,this.flashEffect=setTimeout((()=>{this.playerMeshInstance.material=this.playerNormalMat,this.flashEffect=null}),200))},PlayerController.prototype.died=function(){!0===this.entity.isLocalPlayer&&(this.entity.rigidbody.linearVelocity=new pc.Vec3(0,this.entity.rigidbody.linearVelocity.y,0)),this.entity.knockbackVelocity=pc.Vec3.ZERO,this.entity.anim.setBoolean("isRunning",!1),this.entity.anim.setBoolean("isDied",!0),this.overrideLayer.weight=1,this.isDied=!0},PlayerController.prototype.autoAttack=function(){this.hasNearEnemy&&this.attackAnimTimer<Date.now()&&(this.attack(),this.attackAnimTimer=Date.now()+1e3/this.inv.attackSpeed)},PlayerController.prototype.autoAttackForNotLocalPlayers=function(){this.attackAnimTimer<Date.now()&&(this.attack(),this.attackAnimTimer=Date.now()+1e3/this.inv.attackSpeed)},PlayerController.prototype.respawn=function(){!0===this.entity.isLocalPlayer&&this.entity.rigidbody.teleport(this.networkManager.spawnPos.x,this.networkManager.spawnPos.y,this.networkManager.spawnPos.z),this.entity.anim.setBoolean("isDied",!1),this.overrideLayer.weight=0,this.isDied=!1},PlayerController.prototype.sendPosition=function(){null!=this.networkManager.room&&!1!==this.networkManager.room.connection.isOpen&&this.networkManager.room.send("updatePosition",{x:this.entity.getPosition().x,y:this.entity.getPosition().y,z:this.entity.getPosition().z,rotationY:this.getYaw(this.playerModel.getRotation()),isRunning:this.entity.anim.getBoolean("isRunning"),isInAir:this.entity.anim.getBoolean("isInAir"),isAttacking:this.isAttacking})},PlayerController.prototype.setActiveSword=function(t){this.activeSword&&(this.activeSword.enabled=!1),null==this.spawnedSwords[t]?(this.activeSword=this.swords[t].resource.instantiate(),this.swordBackParent.addChild(this.activeSword),this.spawnedSwords[t]=this.activeSword):(this.spawnedSwords[t].enabled=!0,this.activeSword=this.spawnedSwords[t]),this.activeSwordType=t,this.activeSword.setLocalPosition(0,0,0),this.activeSword.setLocalEulerAngles(0,0,0),this.swordRibbon&&(this.swordRibbon.reset(),this.swordRibbon=null),this.swordRibbon=this.activeSword.findByName("Ribbon").script.ribbon,this.swordRibbon.reset()},PlayerController.prototype.setActiveShield=function(t){this.activeShield&&(this.activeShield.enabled=!1),null==this.spawnedShields[t]?(this.activeShield=this.shields[t].resource.instantiate(),this.shieldBackParent.addChild(this.activeShield),this.spawnedShields[t]=this.activeShield):(this.spawnedShields[t].enabled=!0,this.activeShield=this.spawnedShields[t]),this.activeShieldType=t,this.activeShield.setLocalPosition(0,0,0),this.activeShield.setLocalEulerAngles(0,0,0)},PlayerController.prototype.pickupSwordInHand=function(){null!=this.activeSword&&(this.pickedupSword=!0,this.activeSword.reparent(this.swordParent),this.activeSword.setLocalPosition(0,0,0),this.activeSword.setLocalEulerAngles(0,0,0),this.swordRibbon&&this.swordRibbon.reset())},PlayerController.prototype.pickupShieldInHand=function(){null!=this.activeShield&&(this.pickedupShield=!0,this.activeShield.reparent(this.shieldParent),this.activeShield.setLocalPosition(0,0,0),this.activeShield.setLocalEulerAngles(0,0,0))},PlayerController.prototype.putSwordBack=function(){this.pickedupSword=!1,this.activeSword.reparent(this.swordBackParent),this.activeSword.setLocalPosition(0,0,0),this.activeSword.setLocalEulerAngles(0,0,0),this.swordRibbon&&this.swordRibbon.reset()},PlayerController.prototype.putShieldBack=function(){this.pickedupShield=!1,this.activeShield.reparent(this.shieldBackParent),this.activeShield.setLocalPosition(0,0,0),this.activeShield.setLocalEulerAngles(0,0,0)},PlayerController.prototype.getYaw=function(t){const e=new pc.Vec3;return t.transformVector(pc.Vec3.FORWARD,e),Math.atan2(-e.x,-e.z)*pc.math.RAD_TO_DEG},PlayerController.prototype.checkAttack=function(){this.overrideLayer.weight<1&&this.app.fire("EnemyController:checkDamage",Math.round(Math.sqrt(Math.max(this.inv.power,1))))},PlayerController.prototype.attack=function(){this.upBodyTweenEnd&&this.upBodyTweenEnd.stop(),this.isAttacking=!0,this.upBodyTween&&this.upBodyTween.stop(),this.upBodyTween=this.app.tween(this.weightData).to({value:1},.1,pc.Linear).on("update",(t=>{this.upbodyLayer.weight=this.weightData.value})).start(),this.entity.anim.setTrigger("Attack"+this.attackAnimIndex++%2,!0)},PlayerController.prototype.attackEnd=function(){this.upBodyTween.complete&&(this.upBodyTweenEnd&&this.upBodyTweenEnd.stop(),this.isAttacking=!1,this.upBodyTweenEnd=this.app.tween(this.weightData).to({value:0},1,pc.QuarticOut).on("update",(t=>{this.upbodyLayer.weight=this.weightData.value})).on("complete",(()=>{this.putSwordBack(),this.putShieldBack()})).start())},PlayerController.prototype.handleMovement=function(t){if(this.app.touch){this.mobileButtons.wasPressed("button0")&&this.jump();const e=window.touchJoypad.sticks.joystick0;if(this._frameMovementRight.copy(this.camera.right),this._frameMovementForward.copy(this.camera.forward),this._frameMovementTotal.copy(pc.Vec3.ZERO),this._frameMovementRight.y=0,this._frameMovementRight.normalize(),this._frameMovementRight.scale(e.x),this._frameMovementForward.y=0,this._frameMovementForward.normalize(),this._frameMovementForward.scale(e.y),this._frameMovementTotal.add2(this._frameMovementRight,this._frameMovementForward),this._frameMovementTotal.scale(this.speedMultiplied),!this.canMove||0==e.x&&0==e.y){const t=this.entity.rigidbody.linearVelocity;t.set(this.entity.knockbackVelocity.x,Math.min(this.entity.knockbackVelocity.y+t.y,20),this.entity.knockbackVelocity.z),t.length()>0&&(0==this.isJumped&&this.groundDistance<1.1?(this.tmp.copy(pc.Vec3.ZERO),this.tmp.cross(this.groundNormal,t).cross(this.tmp,this.groundNormal.scale(2)),this.tmp.normalize().scale(t.length()),this.tmp.y=Math.min(t.y,this.tmp.y),this.entity.rigidbody.linearVelocity=this.tmp):this.entity.rigidbody.linearVelocity=t),this.entity.anim.setBoolean("isRunning",!1)}else{!1!==this.app.gameplayStarted||this.app.isWatchingAd||this.app.isPopupEnabled||this.app.isPetInventoryEnabled||this.app.isMenuEnabled||this.app.isCustomizeEnabled||this.app.isBlacksmithEnabled||this.app.isQuestEnabled||this.app.isMagicianEnabled||this.app.isRewardPopupEnabled?this.moveFrameCount=0:(this.moveFrameCount++,this.moveFrameCount>10&&(PokiSDK.gameplayStart(),this.app.gameplayStarted=!0,this.moveFrameCount=0));const e=this.entity.rigidbody.linearVelocity;e.set(this.entity.knockbackVelocity.x+this._frameMovementTotal.x,Math.min(this.entity.knockbackVelocity.y+e.y,20),this.entity.knockbackVelocity.z+this._frameMovementTotal.z),e.length()>0&&(0==this.isJumped&&this.groundDistance<1.1?(this.tmp.copy(pc.Vec3.ZERO),this.tmp.cross(this.groundNormal,e).cross(this.tmp,this.groundNormal.scale(2)),this.tmp.normalize().scale(e.length()),this.tmp.y=Math.min(e.y,this.tmp.y),this.entity.rigidbody.linearVelocity=this.tmp):this.entity.rigidbody.linearVelocity=e);let i=this.playerModel.getRotation().clone();const s=90-Math.atan2(this._frameMovementTotal.z,this._frameMovementTotal.x)*pc.math.RAD_TO_DEG;let a=(new pc.Quat).setFromEulerAngles(0,s,0);i.slerp(this.playerModel.getRotation(),a,t*this.rotateSpeed),this.playerModel.setRotation(i),this.playerModelTransformNoLerp.setRotation(a),this.entity.anim.setBoolean("isRunning",!0)}window.touchJoypad.buttons.wasPressed("jumpButton")&&this.jump()}else{if(this.x=0,this.z=0,this.app.keyboard.isPressed(pc.KEY_A)||this.app.keyboard.isPressed(pc.KEY_LEFT)?this.x=1:(this.app.keyboard.isPressed(pc.KEY_D)||this.app.keyboard.isPressed(pc.KEY_RIGHT))&&(this.x=-1),this.app.keyboard.isPressed(pc.KEY_W)||this.app.keyboard.isPressed(pc.KEY_UP)?this.z=-1:(this.app.keyboard.isPressed(pc.KEY_S)||this.app.keyboard.isPressed(pc.KEY_DOWN))&&(this.z=1),0===this.x&&0===this.z||!this.canMove){this.entity.anim.setBoolean("isRunning",!1);const t=this.entity.rigidbody.linearVelocity;t.set(this.entity.knockbackVelocity.x,Math.min(this.entity.knockbackVelocity.y+t.y,20),this.entity.knockbackVelocity.z),t.length()>0&&(0==this.isJumped&&this.groundDistance<1.1?(this.tmp.copy(pc.Vec3.ZERO),this.tmp.cross(this.groundNormal,t).cross(this.tmp,this.groundNormal.scale(2)),this.tmp.normalize().scale(t.length()),this.tmp.y=Math.min(t.y,this.tmp.y),this.entity.rigidbody.linearVelocity=this.tmp):this.entity.rigidbody.linearVelocity=t)}else{!1!==this.app.gameplayStarted||this.app.isWatchingAd||this.app.isPopupEnabled||this.app.isPetInventoryEnabled||this.app.isMenuEnabled||this.app.isCustomizeEnabled||this.app.isBlacksmithEnabled||this.app.isQuestEnabled||this.app.isMagicianEnabled||this.app.isRewardPopupEnabled?this.moveFrameCount=0:(this.moveFrameCount++,this.moveFrameCount>10&&(PokiSDK.gameplayStart(),this.app.gameplayStarted=!0,this.moveFrameCount=0));let e=this.cameraScript.eulers.x,i=new pc.Vec3(0,e,0);1==this.z&&0==this.x?i=new pc.Vec3(0,i.y+180,0):0==this.z&&-1==this.x?i=new pc.Vec3(0,i.y-90,0):0==this.z&&1==this.x?i=new pc.Vec3(0,i.y+90,0):-1==this.z&&1==this.x?i=new pc.Vec3(0,i.y+45,0):1==this.z&&1==this.x?i=new pc.Vec3(0,i.y+135,0):-1==this.z&&-1==this.x?i=new pc.Vec3(0,i.y-45,0):1==this.z&&-1==this.x&&(i=new pc.Vec3(0,i.y-135,0));const s=this.playerModel.getRotation().clone(),a=(new pc.Quat).setFromEulerAngles(0,i.y,0);s.slerp(this.playerModel.getRotation(),a,t*this.rotateSpeed),this.playerModel.setRotation(s),this.playerModelTransformNoLerp.setRotation(a);const o=this.entity.rigidbody.linearVelocity;o.set(this.entity.knockbackVelocity.x+-this.playerModelTransformNoLerp.forward.x*this.speedMultiplied,Math.min(this.entity.knockbackVelocity.y+o.y,20),this.entity.knockbackVelocity.z+-this.playerModelTransformNoLerp.forward.z*this.speedMultiplied),o.length()>0&&(0==this.isJumped&&this.groundDistance<1.1?(this.tmp.copy(pc.Vec3.ZERO),this.tmp.cross(this.groundNormal,o).cross(this.tmp,this.groundNormal.scale(2)),this.tmp.normalize().scale(o.length()),this.tmp.y=Math.min(o.y,this.tmp.y),this.entity.rigidbody.linearVelocity=this.tmp):this.entity.rigidbody.linearVelocity=o),this.grounded&&this.entity.anim.setBoolean("isRunning",!0)}this.app.keyboard.wasPressed(pc.KEY_SPACE)&&this.jump()}if(0==this.grounded&&0!=this.entity.rigidbody.linearVelocity.y){const e=this.entity.rigidbody.linearVelocity;e.set(e.x,e.y-30*t,e.z),this.entity.rigidbody.linearVelocity=e}this.entity.knockbackVelocity.length()>.1?this.entity.knockbackVelocity=this.entity.knockbackVelocity.mulScalar(.9):this.entity.knockbackVelocity=pc.Vec3.ZERO},PlayerController.prototype.jump=function(){!0===this.grounded&&this.canMove&&(this.entity.sound.play("jump"),this.grounded=!1,this.entity.rigidbody.applyImpulse(0,60,0),this.entity.anim.setTrigger("Jump",!0),this.isJumped=!0,setTimeout(function(){this.isJumped=!1}.bind(this),1e3))},PlayerController.prototype.checkGround=function(){this.entity.getPosition().y<-10&&this.respawn();const t=this.entity.getPosition().clone().add(this.jumpRayLength),e=this.app.systems.rigidbody.raycastAll(this.entity.getPosition().add(pc.Vec3.UP),t);for(let t=0;t<e.length;t++){if(!0===e[t].entity.tags.has("Ground"))return this.grounded=!0,this.entity.anim.setBoolean("isInAir",!1),void this.groundNormal.copy(e[t].normal)}this.entity.anim.setBoolean("isInAir",!0),this.grounded=!1;const i=this.entity.getPosition().clone().add(new pc.Vec3(0,-50,0)),s=this.app.systems.rigidbody.raycastAll(this.entity.getPosition(),i);for(let t=0;t<s.length;t++){if(!0===s[t].entity.tags.has("Ground")){this.groundDistance=this.entity.getPosition().y-s[t].point.y;break}}0==e.length&&this.groundNormal.copy(pc.Vec3.ZERO)},PlayerController.prototype.lockMovementAndCamera=function(t=!1){!0===this.entity.isLocalPlayer&&(this.lockMovement(!t),this.lockCamera(!t))},PlayerController.prototype.lockMovement=function(t=!1){!0===this.entity.isLocalPlayer&&(this.canMove=!t)},PlayerController.prototype.lockCamera=function(t=!1){!0===this.entity.isLocalPlayer&&(t?this.cameraScript.removeEventCallbacks():this.cameraScript.addEventCallbacks())},PlayerController.prototype.setCamera=function(){this.camera=this.app.root.findByName("Camera"),this.networkManager.camera=this.camera,this.camera.script.rotator&&(this.camera.script.rotator.enabled=!1),this.cameraPosEntity=this.entity.findByName("CameraPosition"),this.cameraParent=this.entity.findByName("Camera Axis"),this.cameraParent.addChild(this.camera),this.camera.setLocalPosition(this.cameraPosEntity.getLocalPosition()),this.app.touch?this.cameraScript=this.camera.script.mobileCameraController:this.cameraScript=this.camera.script.cameraController,this.cameraScript.enabled=!0,this._frameMovementRight=new pc.Vec3,this._frameMovementForward=new pc.Vec3,this._frameMovementTotal=new pc.Vec3};var CameraController=pc.createScript("cameraController");CameraController.attributes.add("mouseSpeed",{type:"number",default:1.4,description:"Mouse Sensitivity"}),CameraController.prototype.initialize=function(){this.eulers=new pc.Vec3(180,10,0),this.touchCoords=new pc.Vec2,this.app.mouse.disableContextMenu(),this.app.mouse.on("mousemove",this.onMouseMove,this),this.app.mouse.on("mouseup",this.onMouseUp,this),this.app.mouse.on("mousedown",this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEWHEEL,this.onMouseWheel,this),this.app.on("Slider:mouseSensitivity",this.setSensitivity,this),this.app.on("Slider:mouseZoom",this.setMouseZoom,this),this.mobileCameraController=this.entity.script.mobileCameraController,this.setSensitivity(),this.setMouseZoom(),this.rayEnd=this.app.root.findByName("RaycastEndPoint"),this.originEntity=this.entity.parent,this.isHoldingRightMouse=!1,this.on("destroy",(function(){this.app.off("Slider:mouseZoom"),this.app.off("Slider:mouseSensitivity"),this.app.mouse.off("mousemove",this.onMouseMove,this),this.app.mouse.off("mouseup",this.onMouseUp,this),this.app.mouse.off("mousedown",this.onMouseDown,this),this.app.mouse.off(pc.EVENT_MOUSEWHEEL,this.onMouseWheel,this)}),this),window.addEventListener("keydown",(e=>{["ArrowDown","ArrowUp"," "].includes(e.key)&&e.preventDefault()})),window.addEventListener("wheel",(e=>e.preventDefault()),{passive:!1})},CameraController.prototype.setMouseZoom=function(){let e=Number.parseFloat(Utils.getItem("mouseZoom"));if(null!=e&&0==isNaN(e)){const t=this.entity.getLocalPosition();this.app.mouseZoom=e,e=25*e/100+7,this.entity.setLocalPosition(t.x,t.y,e)}},CameraController.prototype.onMouseWheel=function(e){if(0==this.app.cameraStateLocked)return;const t=this.entity.getLocalPosition(),o=t.z+e.wheelDelta;(o<7||o>33)&&(e.wheelDelta=0),this.entity.setLocalPosition(t.x,t.y,t.z+e.wheelDelta),this.app.mouseZoom=100*(t.z+e.wheelDelta-7)/25,Utils.setItem("mouseZoom",this.app.mouseZoom)},CameraController.prototype.setSensitivity=function(){const e=parseInt(Utils.getItem("mouseSensitivity"));null!=e&&0==isNaN(e)?this.mouseSpeed=e/3:this.mouseSpeed=10},CameraController.prototype.removeEventCallbacks=function(){this.app.mouse.off("mousemove",this.onMouseMove,this),this.app.mouse.off("mouseup",this.onMouseUp,this),this.app.mouse.off("mousedown",this.onMouseDown,this)},CameraController.prototype.addEventCallbacks=function(){this.app.mouse.on("mousemove",this.onMouseMove,this),this.app.mouse.on("mouseup",this.onMouseUp,this),this.app.mouse.on("mousedown",this.onMouseDown,this)},CameraController.prototype.postUpdate=function(e){const t=this.eulers.x+180,o=this.eulers.y,s=new pc.Vec3(-o,t,0);this.originEntity.setEulerAngles(s),this.entity.lookAt(this.originEntity.getPosition())},CameraController.prototype.onMouseMove=function(e){var t=Math.min(Math.max(e.dx,-50),50),o=Math.min(Math.max(e.dy,-50),50);this.eulers.x-=this.mouseSpeed*t/60%360,this.eulers.y+=this.mouseSpeed*o/60%360,this.eulers.x<0&&(this.eulers.x+=360),this.eulers.y<0&&(this.eulers.y+=360),this.eulers.y%=360,this.eulers.y>85&&this.eulers.y<180?this.eulers.y=85:this.eulers.y<350&&this.eulers.y>300&&(this.eulers.y=350)},CameraController.prototype.onMouseDown=function(e){this.app.firstTouch=!0},CameraController.prototype.onMouseUp=function(e){},CameraController.prototype.getWorldPoint=function(){var e=this.entity.parent.getPosition(),t=this.rayEnd.getPosition(),o=this.app.systems.rigidbody.raycastFirst(e,t);return o&&o.entity.tags.has("Ground")?o.point:t};var EnemyController=pc.createScript("enemyController");EnemyController.attributes.add("enemyType",{type:"string",enum:[{Roundhead:"0"},{"Forest Orc":"1"},{Bonechewer:"2"},{"Cocoa Guardian":"3"},{"Chocolate Knight":"4"},{Mallowbeast:"5"},{"Frostborn Beast":"6"},{"Spiked Tortoise":"7"},{"Cursed Stone":"8"},{Mummy:"9"},{"Giga Moai":"10"},{"Lava Rock":"11"},{"Nether Lord":"12"}]}),EnemyController.attributes.add("deadParticle",{type:"asset",assetType:"template",title:"Custom dead particle (overrides pool)"}),EnemyController.attributes.add("attackParticle",{type:"entity"}),EnemyController.attributes.add("damageParticle",{type:"entity"}),EnemyController.attributes.add("renderer",{type:"entity"}),EnemyController.attributes.add("droppedChest",{type:"asset",assetType:"template"}),EnemyController.attributes.add("skillTemplates",{type:"asset",assetType:"template",array:!0}),EnemyController.prototype.initialize=function(){this.enemyModel=this.entity.findByName("Model"),this.maxHP=enemyTypes[this.enemyType].health,this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.deadParticlePool=this.app.root.findByName("DeadParticlePool").script.PoolController,this.damageTextPool=this.app.root.findByName("DamageTextPool").script.PoolController,this.coinPool=this.app.root.findByName("CoinPool").script.PoolController,this.ui=this.entity.findByName("UI"),this.nameText=this.entity.findByName("Name"),this.nameText.element.text=enemyTypes[this.enemyType].name,this.ring=this.entity.findByName("ring"),this.coinSlot=this.menuController.sound.slot("coin"),this.enemyAttackSlot=this.entity.sound.slot("enemyAttack"),this.enemyDiedSlot=this.entity.sound.slot("enemyDied"),"6"===this.enemyType?(this.healthBar=this.app.root.findByName("BossHPBar"),this.healthBar.script.healthBar.enabled=!0,this.healthBar=this.healthBar.script.healthBar):this.healthBar=this.entity.findByName("Healthbar").script.healthBar,this.canDropCoin=!1,this.healthBar.enemyController=this,this.canGetDamage=!1,this.isDied=!1,this.isGettingDamageTween=!1,this.prevHP=100,this.normalMat=this.renderer.render.meshInstances[0].material,this.canDamage=!1,this.startPos=this.entity.getPosition().clone(),this.bodyRadius=enemyTypes[this.enemyType].enemyBodyRadius,this.entity.anim.on("attackStart",(()=>{this.attackFX(!1)})),this.entity.anim.on("attackEnd",(()=>{this.attackFX(!0)})),this.app.on("EnemyController:checkDamage",this.checkDamage,this),this.app.on("Server:EnemyController:getDamage",this.getDamage,this),this.app.on("Server:EnemyController:attack",this.attack,this),this.entity.on("EnemyController:enableUI",(()=>{this.ui.enabled=!0}),this),this.entity.on("EnemyController:disableUI",(()=>{this.ui.enabled=!1}),this),this.entity.on("EnemyController:enableCheckPlayers",this.checkPlayersTriggerEnter,this),this.entity.on("EnemyController:disableCheckPlayers",this.checkPlayersTriggerExit,this),this.entity.on("EnemyController:enableAttack",this.checkAttackTriggerEnter,this),this.entity.on("EnemyController:disableAttack",this.checkAttackTriggerExit,this),this.app.on("Slider:sfxValue",(()=>{this.entity.sound.volume=this.app.sfxValue/100}),this),this.on("destroy",(function(){this.app.off("EnemyController:checkDamage"),this.app.off("Server:EnemyController:getDamage"),this.app.off("Server:EnemyController:attack"),this.app.off("Slider:sfxValue")}),this)},EnemyController.prototype.update=function(){null==this.startY&&(this.startY=this.entity.networkPosition.y)},EnemyController.prototype.setHealth=function(t){if(null==this.hp)this.entity.sound.volume=this.app.sfxValue/100,this.hp=t,this.prevHP=this.hp,this.healthBar.setup(),this.entity.networkPositionY=this.entity.networkPosition.clone().y;else if(0===this.hp&&t===this.maxHP)this.canDropCoin=!1,this.entity.sound.volume=this.app.sfxValue/100,this.hp=t,this.prevHP=this.hp,this.healthBar.setup(),setTimeout((()=>{null!=this.enemyModel&&(this.enemyModel.enabled=!0,this.isDied=!1)}),1e3);else if(this.hp=t,this.hp<=0&&(this.enemyModel.enabled=!1,this.isDied=!0,"6"===this.enemyType&&!0===this.canDropCoin)){this.spawnedBossChest=this.droppedChest.resource.instantiate(),this.spawnedBossChest.setPosition(this.entity.getPosition().x+10*Math.random()-5,20,this.entity.getPosition().z+10*Math.random()-5);const t=this.spawnedBossChest.getPosition().clone();t.y=this.entity.getPosition().y+3,this.spawnedBossChest.yPos=t.y,this.app.root.addChild(this.spawnedBossChest),this.spawnedBossChest.tween(this.spawnedBossChest.getLocalPosition()).to(t,1,pc.SineInOut).start()}},EnemyController.prototype.attackFX=function(t=!1){!1===t?(this.enemyAttackSlot.pitch=(this.enemyAttackSlot.pitch+.1)%2+1,this.entity.sound.play("enemyAttack"),this.attackParticle&&"6"!=this.enemyType&&(this.attackParticle.particlesystem.reset(),this.attackParticle.particlesystem.play()),this.canDamage=!0,this.playerGotDamage(),"8"===this.enemyType&&this.spawnSkillEffect()):(this.canDamage=!1,"6"===this.enemyType&&this.spawnSkillEffect())},EnemyController.prototype.playerGotDamage=function(){if(this.targetPlayer){this.networkManager.room.send("Client:EnemyController:playerGotDamage",{enemyId:this.entity.enemyId});const t=this.targetPlayer.getPosition().clone().sub(this.entity.getPosition()).mul(new pc.Vec3(6,1,6));this.targetPlayer.script.playerController.getDamage(t)}},EnemyController.prototype.attack=function(t){this.entity.enemyId===t&&("6"===this.enemyType&&this.hp%(this.maxHP/10)<this.maxHP/50?(null==this.startTween||!0===this.startTween.complete&&!0===this.startTween4.complete)&&(this.entity.anim.setTrigger("attack2",!0),this.canDamage=!0,this.enemyModel.setLocalEulerAngles(0,0,0),this.tweenTime=0,this.tweenSpawnTime=0,this.startTween=this.enemyModel.tween(this.enemyModel.getLocalEulerAngles()).rotate({x:0,y:180,z:0},1,pc.Linear),this.startTween2=this.enemyModel.tween(this.enemyModel.getLocalEulerAngles()).rotate({x:0,y:360,z:0},1,pc.Linear).on("update",(t=>{this.canDamage=!0,this.tweenTime+=t,this.tweenSpawnTime<this.tweenTime&&(this.tweenSpawnTime=this.tweenTime+.05,this.spawnSkillEffectSingle())})),this.startTween3=this.enemyModel.tween(this.enemyModel.getLocalEulerAngles()).rotate({x:0,y:540,z:0},1,pc.Linear).on("update",(t=>{this.canDamage=!0,this.tweenTime+=t,this.tweenSpawnTime<this.tweenTime&&(this.tweenSpawnTime=this.tweenTime+.05,this.spawnSkillEffectSingle())})),this.startTween4=this.enemyModel.tween(this.enemyModel.getLocalEulerAngles()).rotate({x:0,y:720,z:0},1,pc.Linear).on("complete",(t=>{this.canDamage=!1})),this.startTween.chain(this.startTween2,this.startTween3,this.startTween4).start()):this.entity.anim.setTrigger("attack",!0))},EnemyController.prototype.spawnSkillEffect=function(){this.attackParticle.particlesystem.reset(),this.attackParticle.particlesystem.play(),clearInterval(this.frostbornInterval);let t=0;var e,i=-5;this.frostbornInterval=setInterval((()=>{if(t>=10)return void clearInterval(this.frostbornInterval);0==t&&("8"===this.enemyType?(i=this.entity.getPosition().y,e=this.enemyModel.getPosition().clone().add(this.enemyModel.forward.clone().mulScalar(-5)),startDir=this.enemyModel.forward.clone().mulScalar(-1),startRightDir=this.enemyModel.forward.clone().mulScalar(-3)):(e=this.attackParticle.getPosition().clone().add(this.attackParticle.forward.clone().mulScalar(-5)),startDir=this.attackParticle.forward.clone().mulScalar(-1),startRightDir=this.attackParticle.right.clone().mulScalar(3).add(this.attackParticle.forward.clone().mulScalar(-1))));const a=this.skillTemplates[0].resource.instantiate();a.skillType=3,a.isThisPlayerUsingSkill=!1;const n=(t+1)*(t+1)/(t+1)/400,s=new pc.Vec3(n,n,n);a.setLocalScale(0,0,0),a.tween(a.getLocalScale()).to(s,.3,pc.SineOut).start(),a.setPosition(e.x+startRightDir.x*(t-5),i,e.z+startRightDir.z*(t-5));const o=new pc.Quat;o.setFromEulerAngles(50*Math.random()-25,50*Math.random()-25,50*Math.random()-25),a.setRotation(o),this.app.root.addChild(a),t++}),0)},EnemyController.prototype.spawnSkillEffectSingle=function(){startPos=this.attackParticle.getPosition().clone().add(this.attackParticle.forward.clone().mulScalar(-5)),startDir=this.attackParticle.forward.clone().mulScalar(-1),startRightDir=this.attackParticle.right.clone().mulScalar(3).add(this.attackParticle.forward.clone().mulScalar(-1));const t=this.skillTemplates[0].resource.instantiate();t.skillType=3,t.isThisPlayerUsingSkill=!1;const e=(2*Math.random()+1)/100,i=new pc.Vec3(e,e,e);t.setLocalScale(0,0,0),t.tween(t.getLocalScale()).to(i,.3,pc.SineOut).start(),t.setPosition(startPos.x+startRightDir.x,-5,startPos.z+startRightDir.z);const a=new pc.Quat;a.setFromEulerAngles(50*Math.random()-25,50*Math.random()-25,50*Math.random()-25),t.setRotation(a),this.app.root.addChild(t)},EnemyController.prototype.checkDamage=function(){this.canGetDamage&&!0!==this.isDied&&this.networkManager.room.send("Client:EnemyController:checkDamage",{enemyId:this.entity.enemyId,isSkillDamage:!1})},EnemyController.prototype.died=function(t,e){var i;this.enemyDiedSlot.pitch=Math.random()+.5,this.entity.sound.play("enemyDied"),this.deadParticle?(this.spawnedParticle=!0,i=this.deadParticle.resource.instantiate(),this.app.root.addChild(i)):(this.spawnedParticle=!1,i=this.deadParticlePool.get()),i.setPosition(this.entity.getPosition().clone().add(new pc.Vec3(0,2,0))),i.children[0].particlesystem.reset(),i.particlesystem.reset(),i.children[0].particlesystem.play(),i.particlesystem.play(),setTimeout((()=>{i&&0==this.spawnedParticle&&this.deadParticlePool.push(i)}),2e3),!0===t&&(this.dropCoin(enemyTypes[this.enemyType].coinDropCount,e),this.app.fire("enemyDied",this.enemyType)),this.enemyModel.enabled=!1,this.isDied=!0,this.canDamage=!1},EnemyController.prototype.getDamage=function(t,e,i,a,n){this.entity.enemyId===t&&(this.canDropCoin=i,this.healthBar.decrease(e),this.hp-=e,this.hp<0&&(this.hp=0),this.damageTextTween(e),this.damageParticle.particlesystem.reset(),this.damageParticle.particlesystem.play(),!0===i&&this.networkManager.poppingTextTween(e,[0,128,255],!1),this.healthBar.currentValue<=0?this.died(i,n):(!0===i&&(this.dropCoin(a,n),this.prevHP=this.hp),!1===this.isGettingDamageTween&&this.getDamageTween()))},EnemyController.prototype.getDamageTween=function(){this.isGettingDamageTween=!0;const t=this.enemyModel.getLocalPosition().clone(),e=Math.random()>.5?-1:1,i=Math.random()>.5?-1:1;t.x+=e,t.z+=i,this.enemyModel.tween(this.enemyModel.getLocalPosition()).to(t,.03,pc.SineOut).on("complete",(()=>{t.x-=2*e,t.z-=2*i,this.enemyModel&&this.enemyModel.tween(this.enemyModel.getLocalPosition()).to(t,.03,pc.SineOut).on("complete",(()=>{t.x+=e,t.z+=i,this.enemyModel.tween(this.enemyModel.getLocalPosition()).to(t,.03,pc.SineOut).yoyo(!0).repeat(2).start(),this.isGettingDamageTween=!1})).yoyo(!0).repeat(2).start()})).yoyo(!0).repeat(2).start(),this.meshInstance=this.renderer.render.meshInstances[0],this.meshInstance&&(this.meshInstance.material=this.app.standardMaterial,setTimeout((()=>{this.meshInstance.material=this.normalMat}),200))},EnemyController.prototype.damageTextTween=function(t){const e=this.damageTextPool.get();e.element.text="-"+numRound(t);const i=pc.math.random(0,2),a=2*Math.round(Math.random())-1,n=pc.math.random(0,2),s=2*Math.round(Math.random())-1;e.setPosition(this.entity.getPosition()),e.firstY=this.startY;const o=this.entity.getPosition().clone().add(new pc.Vec3(a*(i+this.bodyRadius),pc.math.random(2.5,4),s*(n+this.bodyRadius)));e.enabled=!0;const r=e.getLocalScale().clone();e.tween(e.getLocalPosition()).to(o,.4,pc.SineOut).on("complete",(()=>{o.y=e.firstY,e&&e.tween(e.getLocalPosition()).to(o,1,pc.SineOut).on("update",(function(t){e.getLocalScale().scale(.99)})).on("complete",(()=>{e.enabled=!1,e.setLocalScale(r),this.damageTextPool.push(e)})).start()})).start()},EnemyController.prototype.dropCoin=function(t,e){if(this.dropCoinImpl(e),(t-=1)>0){const i=setInterval((()=>{0!=t?(t-=1,this.dropCoinImpl(e)):clearInterval(i)}),50)}},EnemyController.prototype.dropCoinImpl=function(t){if(0===t)return;this.menuController.sound.play("coin"),this.coinSlot.pitch=(this.coinSlot.pitch+.1)%3+1,this.networkManager.activeCoinCount+=1;const e=this.coinPool.get(),i=this.entity.getPosition().clone();i.y=this.startY,e.setPosition(i),e.firstY=this.startY+1;const a=2*Math.random()*Math.PI,n=3+Math.random()+this.bodyRadius,s=n*Math.cos(a),o=n*Math.sin(a),r=pc.math.random(3,5),l=i.clone().add(new pc.Vec3(s,r,o));e.amount=t,e.enemyType=this.enemyType,e.enabled=!0,e.enemyHealth=this.hp;const h=(Math.random()-.5)/6;e.setLocalScale(.8+h,.8+h,.8+h),e.collision.enabled=!0,e.tween(e.getLocalPosition()).to(l,.4,pc.QuinticInOut).on("complete",(()=>{l.y=e.firstY,e&&e.tween(e.getLocalPosition()).to(l,.4,pc.SineIn).start()})).start()},EnemyController.prototype.checkPlayersTriggerEnter=function(t){!1===this.isDied&&(t.script.playerController.nearEnemies.push(this),this.canGetDamage=!0,this.ring.enabled=!0)},EnemyController.prototype.checkPlayersTriggerExit=function(t){const e=t.script.playerController.nearEnemies.findIndex((t=>t.entity.enemyId===this.entity.enemyId));-1!==e&&t.script.playerController.nearEnemies.splice(e,1),this.canGetDamage=!1,this.ring.enabled=!1},EnemyController.prototype.checkAttackTriggerEnter=function(t){t.tags.has("Player")&&(this.targetPlayer=t,"6"!==this.enemyType&&"7"!==this.enemyType||!this.canDamage||this.playerGotDamage())},EnemyController.prototype.checkAttackTriggerExit=function(t){t.tags.has("Player")&&(this.targetPlayer=null)};var InventoryController=pc.createScript("inventoryController");InventoryController.attributes.add("inventory",{type:"entity"}),InventoryController.attributes.add("closeButton",{type:"entity"}),InventoryController.attributes.add("slotParent",{type:"entity"}),InventoryController.attributes.add("slotParentBook",{type:"entity"}),InventoryController.attributes.add("detailPanel",{type:"entity"}),InventoryController.attributes.add("swordButton",{type:"entity"}),InventoryController.attributes.add("armorButton",{type:"entity"}),InventoryController.attributes.add("bookButton",{type:"entity"}),InventoryController.attributes.add("potionButton",{type:"entity"}),InventoryController.attributes.add("swordButtonPanel",{type:"entity"}),InventoryController.attributes.add("armorButtonPanel",{type:"entity"}),InventoryController.attributes.add("bookButtonPanel",{type:"entity"}),InventoryController.attributes.add("potionButtonPanel",{type:"entity"}),InventoryController.attributes.add("slotImages",{type:"asset",assetType:"sprite",array:"true"}),InventoryController.attributes.add("swordImages",{type:"asset",assetType:"texture",array:"true"}),InventoryController.attributes.add("shieldImages",{type:"asset",assetType:"texture",array:"true"}),InventoryController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.skillLayout=this.app.root.findByName("SkillLayout"),this.setupDetailPanel(),this.setupInventorySectionButtons(),this.setupInventoryButtons(),this.setupSwordPanelButtons(),this.setupArmorPanelButtons(),this.setupBookPanelButtons(),this.inventory.enabled=!1,this.activeInventorySlot=0,this.entity.on("InventoryController:sellItem",this.sellItem,this),this.entity.on("InventoryController:mergeAll",this.mergeAll,this),this.entity.on("InventoryController:sellUnused",this.sellUnused,this),this.app.on("InventoryController:enableDisableInventory",this.enableDisableInventory,this),this.app.on("InventoryController:enableDisableSkillbar",this.enableDisableSkillbar,this),this.on("destroy",(function(){this.app.off("InventoryController:enableDisableInventory",this.enableDisableInventory,this),this.app.off("InventoryController:enableDisableSkillbar",this.enableDisableSkillbar,this)}),this)},InventoryController.prototype.update=function(t){this.app.keyboard.wasPressed(pc.KEY_I)&&(0==this.inventoryEnabled?this.entity.button.fire("click"):this.closeButton.button.fire("click"))},InventoryController.prototype.sellItem=function(t){this.menuController.sound.play("success"),this.networkManager.room.send("Client:InventoryController:sellItem",{itemId:t.itemId,isSword:t.isSword}),this.app.fire("WarningTextController:setWarning","You successfully sold "+t.name+" for "+t.price+" gold!",5,new pc.Color(1,1,0,1)),this.detailPanel.enabled=!1},InventoryController.prototype.mergeAll=function(t){this.menuController.sound.play("success"),this.networkManager.room.send("Client:InventoryController:mergeAll"),this.app.fire("WarningTextController:setWarning","You successfully merged all of your swords and shields",5,new pc.Color(0,1,0,1)),this.detailPanel.enabled=!1},InventoryController.prototype.sellUnused=function(t){this.menuController.sound.play("success"),this.networkManager.room.send("Client:InventoryController:sellUnused"),this.app.fire("WarningTextController:setWarning","You successfully sold all of your unused items",5,new pc.Color(1,1,0,1)),this.detailPanel.enabled=!1},InventoryController.prototype.setupInventorySectionButtons=function(){this.swordButton.button.on("click",(function(t){0!==this.activeInventorySlot&&(this.menuController.sound.play("buttonClick2"),this.activeInventorySlot=0,this.armorButton.element.color=new pc.Color(.87,.95,1,1),this.swordButton.element.color=new pc.Color(1,1,1,1),this.bookButton.element.color=new pc.Color(.87,.95,1,1),this.bookButton.setLocalPosition(-444,-34.886,0),this.potionButton.element.color=new pc.Color(.87,.95,1,1),this.armorButton.setLocalPosition(-444,70.042,0),this.potionButton.setLocalPosition(-444,-140.96,0),this.swordButton.setLocalPosition(this.swordButton.getLocalPosition().clone().add(new pc.Vec3(10,0,0))),this.swordButtonPanel.enabled=!0,this.armorButtonPanel.enabled=!1,this.bookButtonPanel.enabled=!1,this.potionButtonPanel.enabled=!1)}),this),this.armorButton.button.on("click",(function(t){1!==this.activeInventorySlot&&(this.menuController.sound.play("buttonClick2"),this.activeInventorySlot=1,this.armorButton.element.color=new pc.Color(1,1,1,1),this.swordButton.element.color=new pc.Color(.87,.95,1,1),this.bookButton.element.color=new pc.Color(.87,.95,1,1),this.potionButton.element.color=new pc.Color(.87,.95,1,1),this.armorButton.setLocalPosition(this.armorButton.getLocalPosition().clone().add(new pc.Vec3(10,0,0))),this.bookButton.setLocalPosition(-444,-34.886,0),this.potionButton.setLocalPosition(-444,-140.96,0),this.swordButton.setLocalPosition(-444,175.168,0),this.swordButtonPanel.enabled=!1,this.armorButtonPanel.enabled=!0,this.bookButtonPanel.enabled=!1,this.potionButtonPanel.enabled=!1,this.calculateArmorStats())}),this),this.bookButton.button.on("click",(function(t){2!==this.activeInventorySlot&&(this.menuController.sound.play("buttonClick2"),this.activeInventorySlot=2,this.armorButton.element.color=new pc.Color(.87,.95,1,1),this.swordButton.element.color=new pc.Color(.87,.95,1,1),this.bookButton.element.color=new pc.Color(1,1,1,1),this.potionButton.element.color=new pc.Color(.87,.95,1,1),this.armorButton.setLocalPosition(-444,70.042,0),this.bookButton.setLocalPosition(this.bookButton.getLocalPosition().clone().add(new pc.Vec3(10,0,0))),this.potionButton.setLocalPosition(-444,-140.96,0),this.swordButton.setLocalPosition(-444,175.168,0),this.swordButtonPanel.enabled=!1,this.armorButtonPanel.enabled=!1,this.bookButtonPanel.enabled=!0,this.potionButtonPanel.enabled=!1)}),this),this.potionButton.button.on("click",(function(t){3!==this.activeInventorySlot&&(this.menuController.sound.play("buttonClick2"),this.activeInventorySlot=3,this.armorButton.element.color=new pc.Color(.87,.95,1,1),this.swordButton.element.color=new pc.Color(.87,.95,1,1),this.bookButton.element.color=new pc.Color(.87,.95,1,1),this.potionButton.element.color=new pc.Color(1,1,1,1),this.armorButton.setLocalPosition(-444,70.042,0),this.bookButton.setLocalPosition(-444,-34.886,0),this.potionButton.setLocalPosition(this.potionButton.getLocalPosition().clone().add(new pc.Vec3(10,0,0))),this.swordButton.setLocalPosition(-444,175.168,0),this.swordButtonPanel.enabled=!1,this.armorButtonPanel.enabled=!1,this.bookButtonPanel.enabled=!1,this.potionButtonPanel.enabled=!0)}),this)},InventoryController.prototype.setupBookPanelButtons=function(){this.bookButtonPanel.children[0].button.on("click",(function(t){this.menuController.sound.play("buttonClick"),this.networkManager.room.send("Client:InventoryController:unequipAllBooks"),this.app.fire("WarningTextController:setWarning","You uneqipped all your books",3,new pc.Color(1,.9,0,1))}),this)},InventoryController.prototype.setupArmorPanelButtons=function(){this.armorButtonPanel.children[0].button.on("click",(function(t){this.menuController.sound.play("buttonClick"),this.networkManager.room.send("Client:InventoryController:hideShowHairHelmet"),this.networkManager.localInv.helmetEnabled?(this.armorButtonPanel.children[0].children[0].element.text="Show Helmet",this.app.fire("WarningTextController:setWarning","You hid your helmet (helmet still protects you)",3,new pc.Color(1,.9,0,1))):(this.armorButtonPanel.children[0].children[0].element.text="Hide Helmet",this.app.fire("WarningTextController:setWarning","You revealed your helmet ",3,new pc.Color(1,.9,0,1)))}),this)},InventoryController.prototype.setupSwordPanelButtons=function(){this.swordButtonPanel.children[0].button.on("click",(function(t){this.app.fire("popupController:showPopup","Merge All","Are you sure to merge all available items?",!0,this.entity,"InventoryController:mergeAll","closePopup")}),this),this.swordButtonPanel.children[1].button.on("click",(function(t){this.app.fire("popupController:showPopup","Sell Unused","Are you sure to sell all unused items?",!0,this.entity,"InventoryController:sellUnused","closePopup")}),this)},InventoryController.prototype.setupDetailPanel=function(){this.detailPanelClose=this.detailPanel.children[0],this.detailPanelName=this.detailPanel.children[2],this.detailPanelRarity=this.detailPanel.children[1],this.detailPanelStats=this.detailPanel.children[3],this.detailPanelMergeButton=this.detailPanel.children[4],this.detailPanelEquipButton=this.detailPanel.children[5],this.detailPanelSellButton=this.detailPanel.children[6]},InventoryController.prototype.setupInventoryButtons=function(){this.inventoryEnabled=!1,this.detailPanelClose.button.on("click",(function(t){this.menuController.sound.play("close"),this.detailPanel.enabled=!1,this.selectedDetailPanel&&!1===this.selectedDetailPanel.isActiveSlot&&(this.selectedDetailPanel.entity.element.sprite=this.slotImages[0].resource)}),this),this.entity.button.on("click",(function(t){this.menuController.sound.play("swipe"),this.app.isInventoryEnabled=!0,this.inventoryEnabled=!0,this.entity.button.active=!1,this.networkManager.inventoryUITween(this.inventory.enabled),this.inventory.enabled&&(this.detailPanel.enabled=!1),this.entity.button.fire("hoverend",t),this.calculateArmorStats(),this.networkManager.localInv.helmetEnabled?this.armorButtonPanel.children[0].children[0].element.text="Hide Helmet":this.armorButtonPanel.children[0].children[0].element.text="Show Helmet"}),this),this.closeButton.button.on("click",(function(t){this.menuController.sound.play("close"),this.app.isInventoryEnabled=!1,this.inventoryEnabled=!1,this.entity.button.active=!0,this.entity.element.enabled=!0,this.networkManager.inventoryUITween(this.inventory.enabled),this.detailPanelClose.button.fire("click",t)}),this),this.entity.button.on("hoverstart",(function(t){this.buttonTween&&this.buttonTween.stop(),this.entity.setLocalScale(new pc.Vec3(1,1,1)),this.buttonTween=this.entity.tween(this.entity.getLocalScale()).to(new pc.Vec3(1.1,1.1,1.1),.2,pc.SineOut).on("complete",(()=>{this.buttonTween=null})).start()}),this),this.entity.button.on("hoverend",(function(t){this.buttonTween&&this.buttonTween.stop(),this.entity.setLocalScale(new pc.Vec3(1.1,1.1,1.1)),this.buttonTween=this.entity.tween(this.entity.getLocalScale()).to(new pc.Vec3(1,1,1),.2,pc.SineOut).on("complete",(()=>{this.buttonTween=null})).start()}),this)},InventoryController.prototype.enableDisableInventory=function(t){t&&0==this.inventoryEnabled?this.entity.button.fire("click"):0==t&&this.inventoryEnabled&&this.closeButton.button.fire("click")},InventoryController.prototype.enableDisableSkillbar=function(t){this.skillLayout.enabled=t},InventoryController.prototype.setActiveSlot=function(){const t=this.networkManager.currentPlayerEntity.script.playerController.inv;for(let e=0;e<this.slotParent.children.length;e++){const o=this.slotParent.children[e].script.slotController;!0===o.isFull&&!0===o.isSword?o.item.itemId===t.activeSword.itemId?o.setSlotActive(!0):o.setSlotActive(!1):!0===o.isFull&&!1===o.isSword&&o.item.itemId===t.activeShield.itemId?o.setSlotActive(!0):o.setSlotActive(!1)}},InventoryController.prototype.setActiveSlotBook=function(){const t=this.networkManager.currentPlayerEntity.script.playerController.inv;for(let e=0;e<this.slotParentBook.children.length;e++){const o=this.slotParentBook.children[e].script.slotControllerBook;!0===o.isFull&&0!=o.item.type&&t.activeBooks.find((t=>t===o.item.type))?o.setSlotActive(!0):o.setSlotActive(!1)}},InventoryController.prototype.addBookToInventory=function(){for(let t=0;t<this.slotParentBook.children.length;t++){this.slotParentBook.children[t].script.slotControllerBook.setupEmpty()}for(let t=0;t<this.networkManager.localInv.books.length;t++){this.slotParentBook.children[t].script.slotControllerBook.setup(books[this.networkManager.localInv.books[t]])}this.setActiveSlotBook()},InventoryController.prototype.sortInventory=function(){for(let t=0;t<this.slotParent.children.length;t++){this.slotParent.children[t].script.slotController.setupEmpty()}const t=Object.values(this.networkManager.items).sort(((t,e)=>t.isSword!==e.isSword?t.isSword?-1:1:t.type!==e.type?e.type-t.type:e.level-t.level));for(let e=0;e<t.length;e++){if(this.slotParent.children[e]){const o=this.slotParent.children[e].script.slotController;o&&!1===o.isFull&&(t[e].isSword?o.setupSword(t[e]):o.setupShield(t[e]))}}this.setActiveSlot(),this.detailPanel.enabled=!1},InventoryController.prototype.calculateArmorStats=function(){let t=0,e=0,o=0,n=0,l=0,i=0,r=0;const s=swords[this.networkManager.localInv.activeSword.type];o+=calculateLevelBoost(s.damageProtection,this.networkManager.localInv.activeSword.level),l+=calculateLevelBoost(s.healthMultiplier,this.networkManager.localInv.activeSword.level),i+=calculateLevelBoost(s.goldMultiplier,this.networkManager.localInv.activeSword.level),t+=s.damage;const a=shields[this.networkManager.localInv.activeShield.type];o+=calculateLevelBoost(a.damageProtection,this.networkManager.localInv.activeShield.level),l+=calculateLevelBoost(a.healthMultiplier,this.networkManager.localInv.activeShield.level),i+=calculateLevelBoost(a.goldMultiplier,this.networkManager.localInv.activeShield.level),n+=calculateLevelBoost(a.damageMultiplier,this.networkManager.localInv.activeShield.level);const c=helmets[this.networkManager.localInv.activeHelmet];e+=c.extraHealth,l+=c.healthMultiplier,i+=c.goldMultiplier,r+=c.powerMultiplier;const h=torsos[this.networkManager.localInv.activeTorso];e+=h.extraHealth,l+=h.healthMultiplier,i+=h.goldMultiplier,r+=h.powerMultiplier;const u=pants[this.networkManager.localInv.activePant];e+=u.extraHealth,l+=u.healthMultiplier,i+=u.goldMultiplier,r+=u.powerMultiplier;const d=shoes[this.networkManager.localInv.activeShoe];e+=d.extraHealth,l+=d.healthMultiplier,i+=d.goldMultiplier,r+=d.powerMultiplier;let p=0,y=0;this.networkManager.localInv.activePets.forEach((t=>{p+=pets[t.type].goldMultiplier,y+=pets[t.type].powerMultiplier})),i+=p,r+=y,this.armorButtonPanel.children[1].element.text='Damage:  [color="#ff0000"]+'+numRound(t)+'[/color]\nExtra Health: [color="#15FF00"]+'+numRound(e)+'[/color]\nDamage Protection: [color="#ff0000"]+'+numRound(o)+'[/color]\nDamage Multiplier: [color="#ff0000"]'+n.toFixed(2)+'x[/color]\nHealth Multiplier: [color="#15FF00"]'+l.toFixed(2)+'x[/color]\nGold Multiplier: [color="#FFBF00"]'+i.toFixed(2)+'x[/color]\nPower Multiplier: [color="#37DDFF"]'+r.toFixed(2)+"x[/color]\n"};var LookAtcamera=pc.createScript("lookAtcamera");LookAtcamera.attributes.add("angle",{type:"vec3",default:[180,0,180]}),LookAtcamera.prototype.initialize=function(){this.camera=this.app.root.findByName("Camera")},LookAtcamera.prototype.update=function(t){this.entity.lookAt(this.camera.getPosition()),this.entity.rotateLocal(this.angle.x,this.angle.y,this.angle.z)};var HealthBar=pc.createScript("healthBar");HealthBar.attributes.add("progressImage",{type:"entity"}),HealthBar.attributes.add("progressImageRed",{type:"entity"}),HealthBar.attributes.add("progressImageMaxWidth",{type:"number"}),HealthBar.attributes.add("progressText",{type:"entity"}),HealthBar.attributes.add("healthbarType",{type:"number",enum:[{Enemy:0},{Player:1},{Experience:2}],default:0}),HealthBar.prototype.setup=function(){if(this.init=!0,this.pivotData={value:1},this.pivotDataRed={value:1},0===this.healthbarType)this.currentValue=this.enemyController.hp,this.maxValue=this.enemyController.maxHP;else if(1===this.healthbarType)this.currentValue=this.playerController.hp,this.maxValue=this.playerController.maxHP;else if(2===this.healthbarType){this.currentValue=this.playerController.experience;const e=Math.pow(this.playerController.level,4),t=Math.pow(this.playerController.level+1,4);this.maxValue=t-e}if(this.currentValue!=this.maxValue){var e=pc.math.clamp(this.currentValue/this.maxValue,0,1);const t=pc.math.clamp(this.currentValue/this.maxValue,0,1);this.pivotData={value:t},this.pivotDataRed={value:e}}this.healthData={value:this.currentValue},this.setProgress(this.currentValue,!0),this.on("destroy",(function(){this.progressImageRedTween&&this.progressImageRedTween.stop(),this.progressImageGreenTween&&this.progressImageGreenTween.stop(),this.progressImageNumberTween&&this.progressImageNumberTween.stop(),this.progressImageRedTween2&&this.progressImageRedTween2.stop()}),this)},HealthBar.prototype.setProgress=function(e,t=!1){null==this.init&&this.setup();var a=pc.math.clamp(this.currentValue/this.maxValue,0,1);if(!0===t){var s=pc.math.lerp(0,this.progressImageMaxWidth,a);this.progressImageRed.element.width=s}else this.progressImageRedTween&&this.progressImageRedTween.stop(),this.progressImageRedTween=this.app.tween(this.pivotDataRed).to({value:a},.5,pc.QuarticOut).on("update",(e=>{if(null!=this.progressImageRed.element){var t=pc.math.lerp(0,this.progressImageMaxWidth,this.pivotDataRed.value);this.progressImageRed.element.width=t}else this.progressImageRedTween.stop()})).on("complete",(()=>{a=pc.math.clamp(this.currentValue/this.maxValue,0,1),this.progressImageRedTween2=this.app.tween(this.pivotDataRed).to({value:a},1,pc.QuarticOut).on("update",(e=>{if(null!=this.progressImageRed.element){var t=pc.math.lerp(0,this.progressImageMaxWidth,this.pivotDataRed.value);this.progressImageRed.element.width=t}else this.progressImageRedTween2.stop()})).start()})).start();this.currentValue=e;const r=pc.math.clamp(e/this.maxValue,0,1);if(!0===t){s=pc.math.lerp(0,this.progressImageMaxWidth,r);this.progressImage.element.width=s}else this.progressImageGreenTween=this.app.tween(this.pivotData).to({value:r},.5,pc.QuarticOut).on("update",(e=>{if(null!=this.progressImage.element){var t=pc.math.lerp(0,this.progressImageMaxWidth,this.pivotData.value);this.progressImage.element.width=t}else this.progressImageGreenTween.stop()})).start();this.progressImageNumberTween=this.app.tween(this.healthData).to({value:this.currentValue},1,pc.QuarticOut).on("update",(e=>{null!=this.progressText.element?this.progressText.element.text=numRound(this.healthData.value)+"/"+numRound(this.maxValue):this.progressImageNumberTween.stop()})).start()},HealthBar.prototype.decrease=function(e){null==this.init&&this.setup(),this.setProgress(Math.min(Math.max(this.currentValue-e,0),this.maxValue))};var Utils={isLocalStorageSupported:function(){var t=!1;null==this.dataStore&&(this.dataStore={});try{window.localStorage,t=!0}catch(e){t=!1}return t},setItem:function(t,e){this.isLocalStorageSupported()?window.localStorage.setItem(t,e):this.dataStore[t]=e},getItem:function(t){return this.isLocalStorageSupported()?window.localStorage.getItem(t):this.dataStore[t]},createCookie:function(t,e,o){},readCookie:function(t){}};function numRound(t){const e=(t=Math.abs(Number(t)))/1e15,o=t/1e12,a=t/1e9,n=t/1e6,r=t/1e3;return t>=1e15&&e>=100?Math.floor(e)+"QT":t>=1e15&&e>=10?e.toFixed(1)+"QT":t>=1e15?e.toFixed(2)+"QT":t>=1e12&&o>=100?Math.floor(o)+"T":t>=1e12&&o>=10?o.toFixed(1)+"T":t>=1e12?o.toFixed(2)+"T":t>=1e9&&a>=100?Math.floor(a)+"B":t>=1e9&&a>=10?a.toFixed(1)+"B":t>=1e9?a.toFixed(2)+"B":t>=1e6&&n>=100?Math.floor(n)+"M":t>=1e6&&n>=10?n.toFixed(1)+"M":t>=1e6?n.toFixed(2)+"M":t>=1e3&&r>=100?Math.floor(r)+"K":t>=1e3&&r>=10?r.toFixed(1)+"K":t>=1e3?r.toFixed(2)+"K":t.toFixed()}function randomGenerator(t){const e=1e4*Math.sin(t);return e-Math.floor(e)}function calculateLevelBoost(t,e){return t+t*((e-1)/4)}function validateUsername(t){return!(null==t||t.length<3||t.length>16)&&(!t.includes("admin")&&/^[A-Za-z0-9]*$/.test(t))}function validatePassword(t){return!(null==t||t.length<3||t.length>30)&&/^[A-Za-z0-9._+-]*$/.test(t)}var PoolController=pc.createScript("PoolController");PoolController.attributes.add("capacity",{title:"Capacity",type:"number",description:"Instantiates these much elements on initialize"}),PoolController.attributes.add("prefab",{title:"Template",type:"asset",assetType:"template"}),PoolController.prototype.initialize=function(){this.availables=[],this.counter=0,this.ui=this.app.root.findByName("GameUI"),"CoinPool"===this.entity.name&&(this.isBatched=!0,this.isSprite=!0,this.batchId=100001),this.initCapacity()},PoolController.prototype.initCapacity=function(){for(let t=0;t<this.capacity;t++)this.createNew()},PoolController.prototype.get=function(){let t=this.availables.pop();return null!=t&&null!=t?(t.enabled=!0,t):(this.createNew(),this.get())},PoolController.prototype.push=function(t){this.availables.push(t)},PoolController.prototype.createNew=function(){const t=this.prefab.resource.instantiate();t.enabled=!1,"CoinPool"===this.entity.name&&(t.sprite.batchGroupId=1e5),"PoppingTextPool"===this.entity.name?this.ui.addChild(t):this.entity.addChild(t),this.availables.push(t),this.counter++};var Rotator=pc.createScript("rotator");Rotator.attributes.add("speed",{type:"vec3",default:[30,0,0]}),Rotator.attributes.add("rotateGlobally",{type:"boolean",default:!1}),Rotator.prototype.update=function(t){this.rotateGlobally?this.entity.rotate(this.speed.x*t,this.speed.y*t,this.speed.z*t):this.entity.rotateLocal(this.speed.x*t,this.speed.y*t,this.speed.z*t)};var CoinController=pc.createScript("coinController");CoinController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.inventoryController=this.app.root.findByName("InventoryButton").script.inventoryController,this.entity.target=null,this.entity.speed=3,this.offset=new pc.Vec3(0,-1.5,0),this.collectCoinSlot=this.menuController.sound.slot("collectCoin"),this.entity.collision.on("triggerenter",(function(t){t.tags.has("Player")&&(this.entity.target=t,this.entity.collision.enabled=!1,this.networkManager.activeCoinCount>0&&(this.networkManager.activeCoinCount-=1),this.timeout=setTimeout((()=>{if(null==this.entity)return;this.entity.speed=3,this.entity.target=null,this.entity.enabled=!1,this.networkManager.coinPool.push(this.entity);let t=this.entity.amount;this.entity.enemyType||(t*=this.networkManager.localInv.goldMultiplier),this.networkManager.poppingTextTween(t,[255,202,0],!0),this.entity.enemyType=null,this.collectCoinSlot.pitch=(this.collectCoinSlot.pitch+.1)%2+.5,this.menuController.sound.play("collectCoin")}),300))}),this),this.app.on("PlayerDied",this.destroyCoins,this),this.app.on("CoinController:destroyCoins",this.destroyCoins,this),this.on("destroy",(function(){this.app.off("PlayerDied"),this.app.off("CoinController:destroyCoins",this.destroyCoins,this)}))},CoinController.prototype.destroyCoins=function(){null!=this.entity&&(this.networkManager.setNetStats(this.networkManager.localInv),this.entity.speed=3,this.entity.target=null,this.entity.enabled=!1,this.entity.enemyType=null,this.networkManager.coinPool.push(this.entity),this.activeCoinCount=0,clearTimeout(this.timeout))},CoinController.prototype.update=function(t){if(null!=this.entity.target){this.entity.speed+=40*t;const e=this.entity.getPosition().clone(),i=this.entity.getPosition().clone().add(this.entity.target.getPosition().clone().mulScalar(-1).add(this.offset)).mulScalar(-this.entity.speed*t);this.entity.setPosition(e.add(i))}};const swords=[{type:0,name:"Empty",rarity:"Common",commonnessPercentage:100,damageProtection:0,healthMultiplier:0,goldMultiplier:0,damage:1,priceGold:100,pricePower:0},{type:1,name:"Old Sword",rarity:"Common",commonnessPercentage:25,damageProtection:0,healthMultiplier:0,goldMultiplier:.25,damage:10,priceGold:50,pricePower:0},{type:2,name:"Orc Sword",rarity:"Common",commonnessPercentage:20,damageProtection:0,healthMultiplier:.25,goldMultiplier:.25,damage:15,priceGold:100,pricePower:0},{type:3,name:"Double-Edged Sword",rarity:"Rare",commonnessPercentage:15,damageProtection:0,healthMultiplier:.5,goldMultiplier:0,damage:100,priceGold:5e3,pricePower:0},{type:4,name:"Spiked Sword",rarity:"Rare",commonnessPercentage:10,damageProtection:0,healthMultiplier:.75,goldMultiplier:.5,damage:250,priceGold:1e4,pricePower:0},{type:5,name:"Dead Man's Sword",rarity:"Epic",commonnessPercentage:3,damageProtection:0,healthMultiplier:1.5,goldMultiplier:1.5,damage:3e3,priceGold:1e5,pricePower:0},{type:6,name:"Machete Sword",rarity:"Common",commonnessPercentage:20,damageProtection:0,healthMultiplier:1,goldMultiplier:.75,damage:750,priceGold:500,pricePower:0},{type:7,name:"Scimitar Claw",rarity:"Common",commonnessPercentage:15,damageProtection:1e3,healthMultiplier:1.25,goldMultiplier:1,damage:1e3,priceGold:5e3,pricePower:0},{type:8,name:"Morbid Will",rarity:"Rare",commonnessPercentage:8,damageProtection:1500,healthMultiplier:1.75,goldMultiplier:1.25,damage:2e3,priceGold:25e3,pricePower:0},{type:9,name:"Inferno Claw",rarity:"Rare",commonnessPercentage:4,damageProtection:1750,healthMultiplier:2,goldMultiplier:1.5,damage:3e3,priceGold:5e4,pricePower:0},{type:10,name:"Burned Spikeblade",rarity:"Epic",commonnessPercentage:1,damageProtection:3e3,healthMultiplier:3,goldMultiplier:3,damage:15e3,priceGold:5e5,pricePower:0},{type:11,name:"Icebreaker",rarity:"Common",commonnessPercentage:50,damageProtection:2e3,healthMultiplier:2.5,goldMultiplier:2,damage:5e3,priceGold:1e4,pricePower:0},{type:12,name:"Frostbite",rarity:"Common",commonnessPercentage:35,damageProtection:2500,healthMultiplier:3,goldMultiplier:3,damage:7500,priceGold:3e4,pricePower:0},{type:13,name:"Froststeel",rarity:"Rare",commonnessPercentage:20,damageProtection:3e3,healthMultiplier:2.75,goldMultiplier:3,damage:1e4,priceGold:6e4,pricePower:0},{type:14,name:"Frostfang",rarity:"Rare",commonnessPercentage:12,damageProtection:4e3,healthMultiplier:3,goldMultiplier:3.5,damage:15e3,priceGold:1e4,pricePower:0},{type:15,name:"Winter's Wrath",rarity:"Epic",commonnessPercentage:1,damageProtection:15e3,healthMultiplier:5,goldMultiplier:5,damage:5e5,priceGold:1e6,pricePower:0},{type:16,name:"Sandstrike",rarity:"Common",commonnessPercentage:25,damageProtection:1e4,healthMultiplier:3.25,goldMultiplier:3.75,damage:25e3,priceGold:2e4,pricePower:0},{type:17,name:"Duneslicer",rarity:"Common",commonnessPercentage:20,damageProtection:15e3,healthMultiplier:3.5,goldMultiplier:3.5,damage:4e4,priceGold:3e4,pricePower:0},{type:18,name:"Sandslasher",rarity:"Rare",commonnessPercentage:15,damageProtection:1e5,healthMultiplier:3.5,goldMultiplier:3,damage:6e4,priceGold:5e4,pricePower:0},{type:19,name:"Sunfire",rarity:"Rare",commonnessPercentage:7,damageProtection:25e4,healthMultiplier:3.5,goldMultiplier:3.75,damage:85e3,priceGold:75e3,pricePower:0},{type:20,name:"Emberwraith",rarity:"Epic",commonnessPercentage:.25,damageProtection:1e7,healthMultiplier:6,goldMultiplier:6,damage:1e6,priceGold:5e5,pricePower:0},{type:21,name:"Blade of Sorrow",rarity:"Common",commonnessPercentage:35,damageProtection:5e5,healthMultiplier:4,goldMultiplier:3.75,damage:1e5,priceGold:1e5,pricePower:0},{type:22,name:"Flame Heart",rarity:"Common",commonnessPercentage:30,damageProtection:75e4,healthMultiplier:4.25,goldMultiplier:3.75,damage:15e4,priceGold:2e5,pricePower:0},{type:23,name:"Darkblade",rarity:"Rare",commonnessPercentage:20,damageProtection:1e6,healthMultiplier:4.5,goldMultiplier:4,damage:2e5,priceGold:5e5,pricePower:0},{type:24,name:"Fatecutter",rarity:"Rare",commonnessPercentage:10,damageProtection:2e6,healthMultiplier:4.75,goldMultiplier:4,damage:25e4,priceGold:1e6,pricePower:0},{type:25,name:"Devil's Blade",rarity:"Epic",commonnessPercentage:.01,damageProtection:1e7,healthMultiplier:6,goldMultiplier:4,damage:1e7,priceGold:1e8,pricePower:0}];const shields=[{type:0,name:"Empty",rarity:"Common",commonnessPercentage:100,damageProtection:0,healthMultiplier:0,goldMultiplier:0,damageMultiplier:0,priceGold:100,pricePower:0},{type:1,name:"Wooden Shield",rarity:"Common",commonnessPercentage:25,damageProtection:100,healthMultiplier:0,goldMultiplier:0,damageMultiplier:0,priceGold:200,pricePower:0},{type:2,name:"Iron Shield",rarity:"Common",commonnessPercentage:20,damageProtection:250,healthMultiplier:0,goldMultiplier:.25,damageMultiplier:0,priceGold:1e3,pricePower:0},{type:3,name:"Elite Shield",rarity:"Rare",commonnessPercentage:15,damageProtection:500,healthMultiplier:0,goldMultiplier:0,damageMultiplier:.25,priceGold:2e3,pricePower:0},{type:4,name:"Warrior's Shield",rarity:"Rare",commonnessPercentage:10,damageProtection:750,healthMultiplier:.25,goldMultiplier:.25,damageMultiplier:0,priceGold:2e4,pricePower:0},{type:5,name:"Shield of the Kingdom ",rarity:"Epic",commonnessPercentage:2,damageProtection:3e3,healthMultiplier:2,goldMultiplier:2,damageMultiplier:0,priceGold:1e5,pricePower:0},{type:6,name:"Sweetguard",rarity:"Common",commonnessPercentage:24,damageProtection:2e3,healthMultiplier:.5,goldMultiplier:.25,damageMultiplier:0,priceGold:5e3,pricePower:0},{type:7,name:"Warden's Shield",rarity:"Common",commonnessPercentage:18,damageProtection:3e3,healthMultiplier:.75,goldMultiplier:.5,damageMultiplier:0,priceGold:1e4,pricePower:0},{type:8,name:"Light Barrier",rarity:"Rare",commonnessPercentage:14,damageProtection:5e3,healthMultiplier:1,goldMultiplier:.75,damageMultiplier:0,priceGold:2e4,pricePower:0},{type:9,name:"Obsidian Canny",rarity:"Rare",commonnessPercentage:7,damageProtection:7e3,healthMultiplier:1.5,goldMultiplier:1,damageMultiplier:0,priceGold:5e4,pricePower:0},{type:10,name:"Dead Guard's Shield",rarity:"Epic",commonnessPercentage:3,damageProtection:15e3,healthMultiplier:3,goldMultiplier:3,damageMultiplier:.5,priceGold:0,pricePower:5e5},{type:11,name:"Snowfall Defender",rarity:"Common",commonnessPercentage:50,damageProtection:8e3,healthMultiplier:2,goldMultiplier:1.5,damageMultiplier:0,priceGold:1e4,pricePower:0},{type:12,name:"Arctic Ward",rarity:"Common",commonnessPercentage:35,damageProtection:1e4,healthMultiplier:1.5,goldMultiplier:1,damageMultiplier:0,priceGold:15e3,pricePower:0},{type:13,name:"Icy Rampart",rarity:"Rare",commonnessPercentage:15,damageProtection:12e3,healthMultiplier:2,goldMultiplier:1.5,damageMultiplier:0,priceGold:3e4,pricePower:0},{type:14,name:"Frozen Fortress",rarity:"Rare",commonnessPercentage:7,damageProtection:15e3,healthMultiplier:2.25,goldMultiplier:3,damageMultiplier:0,priceGold:6e4,pricePower:0},{type:15,name:"Winter's Wrathguard",rarity:"Epic",commonnessPercentage:1,damageProtection:5e4,healthMultiplier:4,goldMultiplier:5,damageMultiplier:1,priceGold:1e6,pricePower:0},{type:16,name:"Sunshield",rarity:"Common",commonnessPercentage:25,damageProtection:25e3,healthMultiplier:2.5,goldMultiplier:3,damageMultiplier:0,priceGold:7e4,pricePower:0},{type:17,name:"Barbed Sunward",rarity:"Common",commonnessPercentage:20,damageProtection:35e3,healthMultiplier:2.75,goldMultiplier:2.5,damageMultiplier:.25,priceGold:8e4,pricePower:0},{type:18,name:"Sunshroud",rarity:"Rare",commonnessPercentage:15,damageProtection:5e4,healthMultiplier:3,goldMultiplier:2,damageMultiplier:0,priceGold:1e5,pricePower:0},{type:19,name:"Sandstone Shield",rarity:"Rare",commonnessPercentage:5,damageProtection:7e4,healthMultiplier:3,goldMultiplier:2.25,damageMultiplier:.25,priceGold:12e4,pricePower:0},{type:20,name:"Emberwraith Shield",rarity:"Epic",commonnessPercentage:.1,damageProtection:2e5,healthMultiplier:3.25,goldMultiplier:2.5,damageMultiplier:0,priceGold:5e5,pricePower:0},{type:21,name:"Hell Shield",rarity:"Common",commonnessPercentage:20,damageProtection:5e5,healthMultiplier:3.5,goldMultiplier:2.5,damageMultiplier:0,priceGold:1e5,pricePower:0},{type:22,name:"Shield of Fire",rarity:"Common",commonnessPercentage:15,damageProtection:75e4,healthMultiplier:3.75,goldMultiplier:2.25,damageMultiplier:0,priceGold:2e5,pricePower:0},{type:23,name:"Fire Rampart",rarity:"Rare",commonnessPercentage:10,damageProtection:1e6,healthMultiplier:4,goldMultiplier:2.5,damageMultiplier:0,priceGold:3e5,pricePower:0},{type:24,name:"Infernal Protection",rarity:"Rare",commonnessPercentage:1,damageProtection:2e6,healthMultiplier:4.25,goldMultiplier:2.25,damageMultiplier:0,priceGold:4e5,pricePower:0},{type:25,name:"Lord of Hell",rarity:"Epic",commonnessPercentage:.01,damageProtection:2e7,healthMultiplier:5,goldMultiplier:6,damageMultiplier:.5,priceGold:1e8,pricePower:0}];var Ribbon=pc.createScript("ribbon");Ribbon.attributes.add("lifetime",{type:"number",default:.5}),Ribbon.attributes.add("xoffset",{type:"number",default:-.8}),Ribbon.attributes.add("yoffset",{type:"number",default:1}),Ribbon.attributes.add("height",{type:"number",default:.4}),Ribbon.attributes.add("color",{type:"rgb"});var MAX_VERTICES=20,VERTEX_SIZE=4;Ribbon.prototype.create=function(){this.timer=0,this.node=null,this.vertices=[],this.vertexData=new Float32Array(MAX_VERTICES*VERTEX_SIZE),this.entity.model=null},Ribbon.prototype.initialize=function(){if(pc.platform.mobile)this.enabled=!1;else{this.create();var e={attributes:{aPositionAge:pc.SEMANTIC_POSITION},vshader:["attribute vec4 aPositionAge;","","uniform mat4 matrix_viewProjection;","uniform float trail_time;","","varying float vAge;","","void main(void)","{","    vAge = trail_time - aPositionAge.w;","    gl_Position = matrix_viewProjection * vec4(aPositionAge.xyz, 1.0);","}"].join("\n"),fshader:["precision mediump float;","","varying float vAge;","","uniform float trail_lifetime;","uniform float ribbonColorR;","uniform float ribbonColorG;","uniform float ribbonColorB;","","vec3 rainbow(float x)","{","float level = floor(x * 6.0);","float r = float(level <= 2.0) + float(level > 4.0) * 0.5;","float g = max(1.0 - abs(level - 2.0) * 0.5, 0.0);","float b = (1.0 - (level - 4.0) * 0.5) * float(level >= 4.0);","return vec3(r, g, b);","}","void main(void)","{","    gl_FragColor = vec4(vec3(ribbonColorR,ribbonColorG,ribbonColorB), (1.0 - (vAge / trail_lifetime)) * 0.8);","}"].join("\n")},t=new pc.Shader(this.app.graphicsDevice,e),i=new pc.scene.Material;this.material=i,i.shader=t,i.setParameter("trail_time",0),i.setParameter("trail_lifetime",this.lifetime),i.setParameter("ribbonColorR",this.color.r),i.setParameter("ribbonColorG",this.color.g),i.setParameter("ribbonColorB",this.color.b),i.cull=pc.CULLFACE_NONE,i.blendType=pc.BLEND_NORMAL,i.blendSrc=pc.BLENDMODE_SRC_ALPHA,i.blendDst=pc.BLENDMODE_ONE_MINUS_SRC_ALPHA,i.blendEquation=pc.BLENDEQUATION_ADD,i.depthWrite=!1,this.vertexFormat=new pc.VertexFormat(this.app.graphicsDevice,[{semantic:pc.SEMANTIC_POSITION,components:4,type:pc.ELEMENTTYPE_FLOAT32}]),this.vertexBuffer=new pc.VertexBuffer(this.app.graphicsDevice,this.vertexFormat,MAX_VERTICES*VERTEX_SIZE,pc.USAGE_DYNAMIC);var r=new pc.scene.Mesh(this.app.graphicsDevice);r.vertexBuffer=this.vertexBuffer,r.indexBuffer[0]=null,r.primitive[0].type=pc.PRIMITIVE_TRISTRIP,r.primitive[0].base=0,r.primitive[0].count=0,r.primitive[0].indexed=!1;var o=new pc.scene.GraphNode,a=new pc.scene.MeshInstance(o,r,i);a.layer=pc.scene.LAYER_WORLD,a.updateKey(),this.entity.model=new pc.scene.Model,this.entity.model.graph=o,this.entity.model.meshInstances.push(a),this.model=this.entity.model,this.entity.addChild(this.model.graph),this.setNode(this.entity),this.enableRibbon(),this.app.scene.containsModel(this.model)||this.app.scene.addModel(this.model)}},Ribbon.prototype.enableRibbon=function(){pc.platform.mobile||(this.material.setParameter("trail_lifetime",this.lifetime),this.clearAll(),this.disabled=!1)},Ribbon.prototype.reset=function(){pc.platform.mobile||(this.disabled=!0,this.material&&this.material.setParameter("trail_lifetime",0))},Ribbon.prototype.spawn=function(){if(!pc.platform.mobile){var e=this.node,t=e.getPosition(),i=e.up.clone().scale(this.height),r=this.xoffset,o=this.yoffset;this.vertices.unshift({spawnTime:this.timer,vertexPair:[t.x+i.x*r,t.y+i.y*r,t.z+i.z*r,t.x+i.x*o,t.y+i.y*o,t.z+i.z*o]})}},Ribbon.prototype.clearAll=function(){if(!pc.platform.mobile)for(var e=this.vertices.length-1;e>=0;e--)this.vertices.pop()},Ribbon.prototype.clearOld=function(){if(!pc.platform.mobile)for(var e=this.vertices.length-1;e>=0;e--){var t=this.vertices[e];if(!(this.timer-t.spawnTime>=this.lifetime))return;this.vertices.pop()}},Ribbon.prototype.copyToArrayBuffer=function(){if(!pc.platform.mobile)for(var e=0;e<this.vertices.length;e++){var t=this.vertices[e];this.vertexData[8*e+0]=t.vertexPair[0],this.vertexData[8*e+1]=t.vertexPair[1],this.vertexData[8*e+2]=t.vertexPair[2],this.vertexData[8*e+3]=t.spawnTime,this.vertexData[8*e+4]=t.vertexPair[3],this.vertexData[8*e+5]=t.vertexPair[4],this.vertexData[8*e+6]=t.vertexPair[5],this.vertexData[8*e+7]=t.spawnTime}},Ribbon.prototype.updateNumActive=function(){this.model.meshInstances[0].mesh.primitive[0].count=2*this.vertices.length},Ribbon.prototype.update=function(e){if(pc.platform.mobile)return;this.timer+=e,this.material.setParameter("trail_time",this.timer),this.clearOld(),!1===this.disabled&&this.spawn(),this.copyToArrayBuffer(),this.updateNumActive();new Float32Array(this.vertexBuffer.lock()).set(this.vertexData),this.vertexBuffer.unlock()},Ribbon.prototype.setNode=function(e){this.node=e};var StepDustFx=pc.createScript("stepDustFx");StepDustFx.attributes.add("dusts",{type:"entity",array:!0}),StepDustFx.prototype.initialize=function(){if(this.dustIndex=0,this.hasFootstepSound=null!=this.entity.sound.slot("footstep0"),this.app.touch&&this.dusts.length>0)for(let t=0;t<this.dusts.length;t++)this.dusts[t].enabled=!1;1!==this.dusts.length?(this.entity.anim.on("left-step",(()=>{this.playSound()})),this.entity.anim.on("right-step",(()=>{this.playSound()}))):this.entity.anim.on("left-step",(()=>{const t=this.dusts[0];t.particlesystem.reset(),t.particlesystem.play()}))},StepDustFx.prototype.playSound=function(){this.dustIndex=(this.dustIndex+1)%2;const t=this.dusts[this.dustIndex];t.particlesystem.reset(),t.particlesystem.play(),this.hasFootstepSound&&this.entity.sound.play("footstep"+Math.floor(pc.math.random(0,3)))};var ScrollingTexture=pc.createScript("scrollingTexture");ScrollingTexture.attributes.add("materialAsset",{type:"asset"}),ScrollingTexture.attributes.add("speed",{type:"vec2"}),ScrollingTexture.attributes.add("opacityMapOffset",{type:"boolean",default:!1}),ScrollingTexture.tmpVec2=new pc.Vec2,ScrollingTexture.tmpOffset=new pc.Vec2,ScrollingTexture.prototype.initialize=function(){this.app.touch?this.enabled=!1:this.materialAsset&&(this.material=this.materialAsset.resource)},ScrollingTexture.prototype.update=function(e){var t=ScrollingTexture.tmpVec2,i=ScrollingTexture.tmpOffset;t.set(this.speed.x,this.speed.y),t.scale(e),i.copy(this.material.emissiveMapOffset),i.add(t),this.material.emissiveMapOffset=i,this.opacityMapOffset&&(this.material.opacityMapOffset=i),this.material.diffuseMapOffset=i,this.material.update()};var VfxController=pc.createScript("VfxController");VfxController.attributes.add("haloEntity",{type:"asset",assetType:"template"}),VfxController.attributes.add("confettiEntity",{type:"asset",assetType:"template"}),VfxController.prototype.confetti=function(t,e=0){const o=this.confettiEntity.resource.instantiate();t.addChild(o),o.setLocalPosition(0,e,0),setTimeout((()=>{o&&o.destroy()}),5e3)},VfxController.prototype.levelUp=function(t,e=0){t.sound&&t.sound.play("levelup"),this.confetti(t,3);const o=this.haloEntity.resource.instantiate();t.addChild(o),o.setLocalPosition(0,e,0),o.tween(o.getLocalScale()).to(new pc.Vec3(.01,.15,.01),1,pc.ExponentialOut).on("complete",(()=>o.destroy())).yoyo(!0).repeat(2).start();const n=this.haloEntity.resource.instantiate();t.addChild(n),n.setLocalPosition(0,e,0),n.tween(n.getLocalPosition()).to(new pc.Vec3(0,1.8,0),1,pc.ExponentialOut).on("complete",(()=>n.destroy())).yoyo(!0).repeat(2).start();const i=this.haloEntity.resource.instantiate();t.addChild(i),i.setLocalPosition(0,e,0),i.enabled=!1,setTimeout((function(){i.enabled=!0,i.tween(i.getLocalPosition()).to(new pc.Vec3(0,1.4,0),1,pc.ExponentialOut).on("complete",(()=>i.destroy())).yoyo(!0).repeat(2).start()}),200);const a=this.haloEntity.resource.instantiate();t.addChild(a),a.setLocalPosition(0,e,0),a.enabled=!1,setTimeout((function(){a.enabled=!0,a.tween(a.getLocalPosition()).to(new pc.Vec3(0,1,0),1,pc.ExponentialOut).on("complete",(()=>a.destroy())).yoyo(!0).repeat(2).start()}),300)};var ScrollVerticalAreaFitter=pc.createScript("scrollVerticalAreaFitter");ScrollVerticalAreaFitter.prototype._onContentChanged=function(){var t=this.entity.layoutgroup;if(t){for(var e=t.padding.y+t.padding.w,i=0,n=this.entity.children,r=0;r<n.length;++r){var a=n[r];a.layoutchild&&(i+=1,e+=a.element.height)}e+=Math.max(0,i-1)*t.spacing.y,this.entity.element.height=e/3}},ScrollVerticalAreaFitter.prototype.initialize=function(){this.entity.on("contentchanged",this._onContentChanged,this),this._onContentChanged()};var SlotController=pc.createScript("slotController");SlotController.attributes.add("background",{type:"entity"}),SlotController.attributes.add("itemImage",{type:"entity"}),SlotController.attributes.add("itemTitle",{type:"entity"}),SlotController.attributes.add("itemLevel",{type:"entity"}),SlotController.prototype.initialize=function(){this.isFull=!1,this.isActiveSlot=!1,this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.inventoryController=this.app.root.findByName("InventoryButton").script.inventoryController,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.entity.button.on("click",(function(e){if(this.inventoryController.detailPanel.enabled&&this.inventoryController.selectedDetailPanel===this)this.menuController.sound.play("close"),this.inventoryController.selectedDetailPanel=null,this.inventoryController.detailPanel.enabled=!1,!1===this.isActiveSlot&&(this.entity.element.sprite=this.inventoryController.slotImages[0].resource),this.inventoryController.detailPanelEquipButton.button.off("click"),this.inventoryController.detailPanelMergeButton.button.off("click");else{if(this.menuController.sound.play("slotClick"),!1===this.isActiveSlot&&(this.entity.element.sprite=this.inventoryController.slotImages[1].resource),this.inventoryController.selectedDetailPanel&&this.inventoryController.selectedDetailPanel!==this&&(!1===this.inventoryController.selectedDetailPanel.isActiveSlot&&(this.inventoryController.selectedDetailPanel.entity.element.sprite=this.inventoryController.slotImages[0].resource),this.inventoryController.detailPanelEquipButton.button.off("click"),this.inventoryController.detailPanelMergeButton.button.off("click")),this.inventoryController.selectedDetailPanel=this,1!=this.isFull)return void(this.inventoryController.detailPanel.enabled=!1);this.inventoryController.detailPanel.enabled=!0,this.inventoryController.detailPanel.setPosition(this.entity.getPosition().clone());const e=this.inventoryController.detailPanel.getLocalPosition().clone();this.inventoryController.detailPanel.setLocalPosition(e.x-200,Math.max(-100,Math.min(e.y,150)),e.z),this.setupDetailPanel(this.item,this.isSword)}}),this)},SlotController.prototype.setupSword=function(e){const t=swords[e.type];this.item=e,this.isSword=!0,t.name.length>10?this.itemTitle.element.text=t.name.substring(0,10)+"..":this.itemTitle.element.text=t.name,this.itemLevel.element.text="lvl "+e.level,this.itemImage.element.texture=this.inventoryController.swordImages[e.type].resource,"Common"===t.rarity?this.background.element.color=new pc.Color(0,1,0,1):"Rare"===t.rarity?this.background.element.color=new pc.Color(0,.7,1,1):"Epic"===t.rarity&&(this.background.element.color=new pc.Color(.8,0,1,1)),this.itemImage.setLocalScale(new pc.Vec3(.7,.7,.7)),this.itemImage.setLocalEulerAngles(0,0,-45),this.isFull=!0},SlotController.prototype.setupShield=function(e){const t=shields[e.type];this.item=e,this.isSword=!1,t.name.length>10?this.itemTitle.element.text=t.name.substring(0,10)+"..":this.itemTitle.element.text=t.name,this.itemLevel.element.text="lvl "+e.level,this.itemImage.element.texture=this.inventoryController.shieldImages[e.type].resource,"Common"===t.rarity?this.background.element.color=new pc.Color(0,1,0,1):"Rare"===t.rarity?this.background.element.color=new pc.Color(0,.7,1,1):"Epic"===t.rarity&&(this.background.element.color=new pc.Color(.8,0,1,1)),this.itemImage.setLocalScale(new pc.Vec3(.5,.5,.5)),this.itemImage.setLocalEulerAngles(0,0,0),this.isFull=!0},SlotController.prototype.setSlotActive=function(e){e?(this.entity.element.sprite=this.inventoryController.slotImages[2].resource,this.isActiveSlot=!0):(this.entity.element.sprite=this.inventoryController.slotImages[0].resource,this.isActiveSlot=!1)},SlotController.prototype.setupEmpty=function(){this.item=null,this.isSword=null,this.itemTitle.element.text="",this.itemLevel.element.text="",this.itemImage.element.texture=this.inventoryController.swordImages[0].resource,this.background.element.color=new pc.Color(1,1,1,1),this.inventoryController.detailPanelEquipButton.enabled=!0,this.inventoryController.detailPanelMergeButton.enabled=!0,this.inventoryController.detailPanelSellButton.enabled=!0,this.inventoryController.detailPanelEquipButton.button.off("click"),this.inventoryController.detailPanelMergeButton.button.off("click"),this.inventoryController.detailPanelSellButton.button.off("click"),this.isActiveSlot=!1,this.isFull=!1},SlotController.prototype.setupDetailPanel=function(e,t){if(null==e)return;var l;this.inventoryController.detailPanelEquipButton.enabled=!0,this.inventoryController.detailPanelMergeButton.enabled=!0,this.inventoryController.detailPanelSellButton.enabled=!0,this.inventoryController.detailPanelEquipButton.button.off("click"),this.inventoryController.detailPanelMergeButton.button.off("click"),this.inventoryController.detailPanelSellButton.button.off("click");const n=this.networkManager.currentPlayerEntity.script.playerController.inv;t?(l=swords[e.type],n.activeSword.itemId===e.itemId?this.inventoryController.detailPanelEquipButton.children[0].element.text="Unequip":this.inventoryController.detailPanelEquipButton.children[0].element.text="Equip"):(l=shields[e.type],n.activeShield.itemId===e.itemId?this.inventoryController.detailPanelEquipButton.children[0].element.text="Unequip":this.inventoryController.detailPanelEquipButton.children[0].element.text="Equip");const o=this.inventoryController.detailPanelMergeButton.children[0].element;var i=0;const r=e.level+1;t?n.swords.forEach((t=>{t.type===e.type&&t.level===e.level&&i++})):n.shields.forEach((t=>{t.type===e.type&&t.level===e.level&&i++})),o.text="Merge "+i+"/"+r,this.inventoryController.detailPanelMergeButton.button.active=i>=r;const a=numRound(l.priceGold*Math.pow(2,e.level-1));this.inventoryController.detailPanelSellButton.children[0].element.text="SELL\n"+a+" Gold",this.inventoryController.detailPanelSellButton.button.on("click",(function(n){this.app.fire("popupController:showPopup","Sell Item","Are you sure to sell "+l.name+" for "+a+" gold?",!0,this.inventoryController.entity,"InventoryController:sellItem","closePopup",{itemId:e.itemId,isSword:t,name:l.name,price:a}),this.inventoryController.detailPanel.enabled=!1}),this),this.inventoryController.detailPanelMergeButton.button.on("click",(function(n){this.app.fire("WarningTextController:setWarning","You successfully merged "+l.name+" to level "+(e.level+1)+"!",5,new pc.Color(0,1,0,1)),this.networkManager.room.send("Client:SlotController:mergeItem",{itemId:e.itemId,isSword:t}),this.inventoryController.detailPanel.enabled=!1,this.inventoryController.detailPanelEquipButton.children[0].element.text="Unequip"}),this),this.inventoryController.detailPanelEquipButton.button.on("click",(function(o){(t&&n.activeSword.itemId!==e.itemId||0==t&&n.activeShield.itemId!==e.itemId)&&this.app.fire("WarningTextController:setWarning","You successfully equipped "+l.name,5,new pc.Color(0,1,0,1)),t?this.networkManager.room.send("Client:SlotController:equipOrUnequipWeapon",{itemId:e.itemId,itemType:e.type,isSword:t,equip:n.activeSword.itemId!==e.itemId}):this.networkManager.room.send("Client:SlotController:equipOrUnequipWeapon",{itemId:e.itemId,itemType:e.type,isSword:t,equip:n.activeShield.itemId!==e.itemId}),this.inventoryController.detailPanel.enabled=!1,this.inventoryController.detailPanelEquipButton.children[0].element.text="Unequip"}),this),this.inventoryController.detailPanelName.element.text=l.name,"Common"===l.rarity?this.inventoryController.detailPanelName.element.color=new pc.Color(0,1,0,1):"Rare"===l.rarity?this.inventoryController.detailPanelName.element.color=new pc.Color(0,.7,1,1):"Epic"===l.rarity&&(this.inventoryController.detailPanelName.element.color=new pc.Color(.8,0,1,1)),this.inventoryController.detailPanelRarity.element.text=l.rarity+" (%"+l.commonnessPercentage+")";let s="\n";s+=this.app.i18n.getText("Level")+' [color="#00cc00"]'+e.level+"[/color]\n",0!=l.damage&&null!=l.damage&&(s+=this.app.i18n.getText("Damage Power")+' [color="#00cc00"]'+numRound(calculateLevelBoost(l.damage,e.level))+"[/color]\n"),0!=l.damageProtection&&null!=l.damageProtection&&(s+=this.app.i18n.getText("Damage Protection")+' [color="#00cc00"]'+numRound(calculateLevelBoost(l.damageProtection,e.level))+"[/color]\n"),0!=l.healthMultiplier&&null!=l.healthMultiplier&&(s+=this.app.i18n.getText("Health Multiplier")+' [color="#00cc00"]+'+calculateLevelBoost(l.healthMultiplier,e.level)+"x[/color]\n"),0!=l.goldMultiplier&&null!=l.goldMultiplier&&(s+=this.app.i18n.getText("Gold Multiplier")+' [color="#00cc00"]+'+calculateLevelBoost(l.goldMultiplier,e.level)+"x[/color]\n"),0!=l.damageMultiplier&&null!=l.damageMultiplier&&(s+=this.app.i18n.getText("Damage Multiplier")+' [color="#00cc00"]+'+calculateLevelBoost(l.goldMultiplier,e.level)+"x[/color]\n"),this.inventoryController.detailPanelStats.element.text=s};var TouchJoystick=pc.createScript("touchJoystick");TouchJoystick.attributes.add("identifier",{type:"string",default:"joystick0",title:"Idenitifier",description:"A unique name for the joystick to refer to it by in the API. Joysticks are also buttons so this will also be the name of button in the API. It will give a warning in browser tools if the name is not unique."}),TouchJoystick.attributes.add("type",{type:"string",default:"fixed",enum:[{"Fixed in place":"fixed"},{"Move to first touch and fixed":"relative"},{"Move to first touch and drags":"drag"}],title:"Type",description:"Set type of behavior for the joystick."}),TouchJoystick.attributes.add("baseEntity",{type:"entity",title:"Base Entity",description:"Image Element Entity that shows the base of the joystick."}),TouchJoystick.attributes.add("nubEntity",{type:"entity",title:"Nub Entity",description:"Image Element Entity that shows the nub (top) of the joystick."}),TouchJoystick.attributes.add("axisDeadZone",{type:"number",default:10,title:"Axis Dead Zone",description:"The number of UI units from the position of the Base Entity where input is not registered."}),TouchJoystick.attributes.add("axisRange",{type:"number",default:50,title:"Axis Range",description:"The number of UI units from the position of the Base Entity that the Nub Entity can move to and is the maximum range"}),TouchJoystick.attributes.add("hideOnRelease",{type:"boolean",default:!1,title:"Hide on Release",description:"Will only show the joystick when the user is using it and will hide it on touch end. This is commonly used if you don't want the joystick to block what's being shown on screen."}),TouchJoystick.attributes.add("positionOnRelease",{type:"string",default:"stay",enum:[{Stay:"stay"},{Original:"original"},{"Last start":"lastStart"}],title:"Position on Release",description:"Where to move the joystick on release and can help keep the screen tidy so that there are clear areas to show the game and arrange controls."}),TouchJoystick.attributes.add("vibrationPress",{type:"number",default:0,title:"Vibration duration (ms)",description:"If the device supports vibration with 'Navigator.vibrate', it will vibrate for the duration set here on touch down.Set to 0 to disable."}),TouchJoystick.prototype.initialize=function(){window.touchJoypad&&void 0!==window.touchJoypad.sticks[this.identifier]?console.warn("Touch joystick identifier already used, please use another for Entity: "+this.entity.name):(this._originalLocalPosition=this.baseEntity.getLocalPosition().clone(),this._lastPointerDownPosition=new pc.Vec3,this._setAxisValues(0,0),this._inputDown=!1,this._pointerId=-1,this._canVibrate=!!navigator.vibrate,this._setButtonState(!1),this.on("state",(t=>{this._setEvents(t?"on":"off")})),this.on("destroy",(()=>{window.touchJoypad&&(window.touchJoypad.sticks[this.identifier]=void 0)})),this._setEvents("on"))},TouchJoystick.prototype._setEvents=function(t){this._setAxisValues(0,0),this._pointerDown=!1,this._pointerId=-1,this.baseEntity.enabled=!this.hideOnRelease,this.entity.element[t]("mousedown",this._onMouseDown,this),this.entity.element[t]("mousemove",this._onMouseMove,this),this.entity.element[t]("mouseup",this._onMouseUp,this),this.app.touch&&(this.entity.element[t]("touchstart",this._onTouchDown,this),this.entity.element[t]("touchmove",this._onTouchMove,this),this.entity.element[t]("touchend",this._onTouchUp,this),this.entity.element[t]("touchcancel",this._onTouchUp,this))},TouchJoystick.__uiPos=new pc.Vec2,TouchJoystick.prototype.screenToUi=function(t){const i=TouchJoystick.__uiPos,o=this.app.graphicsDevice.canvas.clientWidth,e=this.app.graphicsDevice.canvas.clientHeight;return i.x=t.x/o,i.y=t.y/e,i.mulScalar(2).subScalar(1),i.y*=-1,i},TouchJoystick.prototype._onMouseDown=function(t){t.id=0,this._onPointerDown(t),this._pointerDown&&t.stopPropagation()},TouchJoystick.prototype._onMouseMove=function(t){t.id=0,this._onPointerMove(t),this._pointerDown&&t.stopPropagation()},TouchJoystick.prototype._onMouseUp=function(t){t.id=0,this._pointerDown&&t.stopPropagation(),this._onPointerUp(t)},TouchJoystick.prototype._onTouchDown=function(t){if(this._pointerDown)return;const i=this._pointerDown;t.id=t.touch.identifier,this._onPointerDown(t),!i&&this._pointerDown},TouchJoystick.prototype._onTouchMove=function(t){t.id=t.touch.identifier,this._onPointerMove(t)},TouchJoystick.prototype._onTouchUp=function(t){this._pointerDown&&(t.id=t.touch.identifier,this._onPointerUp(t))},TouchJoystick.prototype._onPointerDown=function(t){const i=this.screenToUi(t);switch(this.type){case"drag":case"relative":this.baseEntity.setPosition(i.x,i.y,0),this.nubEntity.setLocalPosition(0,0,0),this._pointerDown=!0;break;case"fixed":this.nubEntity.setPosition(i.x,i.y,0),this._updateAxisValuesFromNub(),this._pointerDown=!0}this._pointerDown&&(this._canVibrate&&0!==this.vibrationPress&&navigator.vibrate(this.vibrationPress),this._pointerId=t.id?t.id:0,this._setButtonState(!0),this._lastPointerDownPosition.copy(this.baseEntity.getLocalPosition()),this.baseEntity.enabled=!0,this._onPointerMove(t))},TouchJoystick.__tempNubPos=new pc.Vec3,TouchJoystick.__tempBasePos=new pc.Vec3,TouchJoystick.prototype._onPointerMove=function(t){if(this._pointerDown&&this._pointerId==t.id){const i=this.screenToUi(t),o=this.axisRange*this.axisRange;this.nubEntity.setPosition(i.x,i.y,0);const e=TouchJoystick.__tempNubPos;e.copy(this.nubEntity.getLocalPosition());if(e.lengthSq()>=o){if("drag"===this.type){const t=e.length()-this.axisRange,i=TouchJoystick.__tempBasePos;i.copy(e),i.normalize().mulScalar(t),i.add(this.baseEntity.getLocalPosition()),this.baseEntity.setLocalPosition(i)}e.normalize().mulScalar(this.axisRange),this.nubEntity.setLocalPosition(e)}this._updateAxisValuesFromNub()}},TouchJoystick.prototype._onPointerUp=function(t){if(this._pointerDown&&this._pointerId==t.id){switch(this.nubEntity.setLocalPosition(0,0,0),this.hideOnRelease&&(this.baseEntity.enabled=!1),this.positionOnRelease){case"original":this.baseEntity.setLocalPosition(this._originalLocalPosition);break;case"lastStart":this.baseEntity.setLocalPosition(this._lastPointerDownPosition)}this._pointerId=-1,this._updateAxisValuesFromNub(),this._setButtonState(!1),this._pointerDown=!1}},TouchJoystick.prototype._updateAxisValuesFromNub=function(){const t=this.axisRange-this.axisDeadZone,i=this.nubEntity.getLocalPosition(),o=Math.sign(i.x),e=Math.sign(i.y),s=pc.math.clamp(Math.abs(i.x)-this.axisDeadZone,0,t)*o,n=pc.math.clamp(Math.abs(i.y)-this.axisDeadZone,0,t)*e;this._setAxisValues(s/t,n/t)},TouchJoystick.prototype._setAxisValues=function(t,i){window.touchJoypad&&(window.touchJoypad.sticks[this.identifier]={x:t,y:i}),this.axisX=t,this.axisY=i},TouchJoystick.prototype._setButtonState=function(t){window.touchJoypad&&(window.touchJoypad.buttonStates[this.identifier]=t?Date.now():null),this._state=t};!function(){const t={},n={},o={buttons:{isPressed:function(t){return!!n[t]},wasPressed:function(o){const e=n[o],s=t[o];return void 0!==n[o]&&(!s&&e)},wasReleased:function(o){const e=n[o],s=t[o];return void 0!==n[o]&&(s&&!e)},wasTapped:function(n){if(this.wasReleased(n)){return Date.now()-t[n]<=200}return!1}},sticks:{}};o.buttonStates=n;pc.Application.getApplication().on("update",(()=>{for(const o of Object.keys(n)){const e=n[o];t[o]=e}})),window.touchJoypad=o}();var TouchButton=pc.createScript("touchButton");TouchButton.attributes.add("identifier",{type:"string",default:"button0",title:"Identifier",description:"A unique name for the button to refer to it by in the API. Will give a warning in browser tools if the name is not unique."}),TouchButton.attributes.add("vibration",{type:"number",default:0,title:"Vibration duration (ms)",description:"If the device supports vibration with 'Navigator.vibrate', it will vibrate for the duration set here on touch down.Set to 0 to disable."}),TouchButton.prototype.initialize=function(){window.touchJoypad&&void 0!==window.touchJoypad.buttonStates[this.identifier]?console.warn("Touch button identifier already used, please use another for Entity: "+this.entity.name):(this._canVibrate=!!navigator.vibrate,this._setState(!1),this.on("state",(t=>{this._setEvents(t?"on":"off")})),this.on("destroy",(()=>{window.touchJoypad&&(window.touchJoypad.buttonStates[this.identifier]=void 0)})),this._setEvents("on"))},TouchButton.prototype._setEvents=function(t){this._state=!1,this.entity.element[t]("mousedown",this._onMouseDown,this),this.entity.element[t]("mouseup",this._onMouseUp,this),this.app.touch&&(this.entity.element[t]("touchstart",this._onTouchDown,this),this.entity.element[t]("touchend",this._onTouchUp,this),this.entity.element[t]("touchcancel",this._onTouchUp,this))},TouchButton.prototype._onMouseDown=function(t){this._state||(this._onPointerDown(),t.stopPropagation())},TouchButton.prototype._onMouseUp=function(t){this._state&&this._onPointerUp()},TouchButton.prototype._onTouchDown=function(t){this._state||this._onPointerDown()},TouchButton.prototype._onTouchUp=function(t){this._state&&this._onPointerUp()},TouchButton.prototype._onPointerDown=function(){this._canVibrate&&0!==this.vibration&&navigator.vibrate(this.vibration),this._setState(!0)},TouchButton.prototype._onPointerUp=function(){this._setState(!1)},TouchButton.prototype._setState=function(t){window.touchJoypad&&(window.touchJoypad.buttonStates[this.identifier]=t?Date.now():null),this._state=t};var MobileCameraController=pc.createScript("mobileCameraController");MobileCameraController.attributes.add("touchLookSensitivity",{type:"number",default:0,title:"Touch Look Sensitivity"}),MobileCameraController.attributes.add("snappinessFactor",{type:"number",default:.1,title:"Snappiness Factor",description:"Lower is faster"}),MobileCameraController.prototype.initialize=function(){this.joystickBaseEntity=this.app.root.findByName("Left Half Touch Joystick").children[0],this._tempQuat1=new pc.Quat,this._tempQuat2=new pc.Quat,this._tempVec3_1=new pc.Vec3;var t=this.entity.getLocalRotation();this.ey=this.getYaw(t)*pc.math.RAD_TO_DEG,this.ex=this.getPitch(t,this.ey)*pc.math.RAD_TO_DEG,this.targetEx=this.ex,this.targetEy=this.ey,this.originEntity=this.entity.parent,this.lastTouchPosition=new pc.Vec2,this.addEventCallbacks(),this.app.on("Slider:mouseSensitivity",this.setSensitivity,this),this.app.on("Slider:mouseZoom",this.setMouseZoom,this),this.setSensitivity(),this.setMouseZoom(),this.on("destroy",(function(){this.app.off("Slider:mouseSensitivity"),this.removeEventCallbacks()}),this)},MobileCameraController.prototype.setMouseZoom=function(){let t=Number.parseFloat(Utils.getItem("mouseZoom"));if(null!=t&&0==isNaN(t)){const e=this.entity.getLocalPosition();t=13*t/100+7,this.entity.setLocalPosition(e.x,e.y,t),this.app.mouseZoom=t}this.targetEx=0,this.targetEy=0;const e=new pc.Vec3(-this.targetEx,-this.targetEy,0);this.originEntity.setEulerAngles(e),this.entity.lookAt(this.originEntity.getPosition())},MobileCameraController.prototype.setSensitivity=function(){const t=parseInt(Utils.getItem("mouseSensitivity"));console.log("sensitivity:",t),null!=t&&0==isNaN(t)?(this.mouseSpeed=t/100,console.log("this.mouseSpeed:",this.mouseSpeed)):this.mouseSpeed=.5},MobileCameraController.prototype.addEventCallbacks=function(){this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.app.touch.on(pc.EVENT_TOUCHMOVE,this.onTouchMove,this))},MobileCameraController.prototype.removeEventCallbacks=function(){this.app.touch&&(this.app.touch.off(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.app.touch.off(pc.EVENT_TOUCHMOVE,this.onTouchMove,this))},MobileCameraController.prototype.moveCamera=function(t,e,o){this.targetEx+=e*o,this.targetEx=pc.math.clamp(this.targetEx,-10,80),this.targetEy+=t*o;const i=new pc.Vec3(-this.targetEx,-this.targetEy,0);this.originEntity.setEulerAngles(i),this.entity.lookAt(this.originEntity.getPosition())},MobileCameraController.prototype.onTouchStart=function(t){var e;e=1===t.touches.length||t.touches[0].x>t.touches[1].x?t.touches[0]:t.touches[1],this.lastTouchPosition.set(e.x,e.y),this.app.firstTouch=!0},MobileCameraController.prototype.onTouchMove=function(t){var e;if(1===t.touches.length){if(this.joystickBaseEntity.enabled)return;e=t.touches[0]}else e=t.touches[0].x>t.touches[1].x?t.touches[0]:t.touches[1];this.moveCamera(e.x-this.lastTouchPosition.x,e.y-this.lastTouchPosition.y,this.touchLookSensitivity),this.lastTouchPosition.set(e.x,e.y)},MobileCameraController.prototype.getYaw=function(){var t=this.entity.forward.clone();return Math.atan2(-t.x,-t.z)},MobileCameraController.prototype.getPitch=function(t,e){var o=this._tempQuat1,i=this._tempQuat2;i.setFromEulerAngles(0,-e,0),o.mul2(i,t);var s=this._tempVec3_1;return o.transformVector(pc.Vec3.FORWARD,s),Math.atan2(s.y,-s.z)};var PortalController=pc.createScript("portalController");PortalController.attributes.add("nextWorldName",{type:"string",default:"world_1"}),PortalController.attributes.add("portalNameEntity",{type:"entity"}),PortalController.attributes.add("portalReqEntity",{type:"entity"}),PortalController.prototype.initialize=async function(){this.menuController=this.app.root.findByName("GameUI").script.menuController;const t=this.nextWorldName.match(/\d+/);if(t){const e=t[0];this.nextWorldNumber=parseInt(e)}this.portalNameEntity&&(this.portalNameEntity.element.text=worldNames[this.nextWorldNumber-1]),this.portalData=portalReqs[this.nextWorldNumber],this.portalReqEntity&&(0!=this.portalData.requiresLevel?this.portalReqEntity.element.text="Level "+this.portalData.requiresLevel:0!=this.portalData.requiresGold?this.portalReqEntity.element.text=numRound(this.portalData.requiresGold)+" Gold":0!=this.portalData.requiresPower&&(this.portalReqEntity.element.text=numRound(this.portalData.requiresPower)+" Power")),this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.loadingPanelController=this.app.root.findByName("LoadingPanel").script.loadingPanelController,this.entity.on("LoadingPanelCompleted",(()=>{})),this.entity.collision.on("triggerenter",(async function(t){t.tags.has("Player")&&(this.checkEligibility()?(!0===this.app.gameplayStarted&&(PokiSDK.gameplayStop(),this.app.gameplayStarted=!1),this.entity.sound.play("portal"),this.app.loadLevel=this.nextWorldName,this.entity.collision.enabled=!1,this.app.disconnectFromServer=!0,this.networkManager.room.leave(),console.log("Entering portal, going to the",this.nextWorldName),this.networkManager.currentPlayerEntity.script.playerController.canMove=!1,this.loadingPanelController.setLoading(!0,this.entity)):(this.menuController.sound.play("failed"),0!=this.portalData.requiresLevel&&this.networkManager.localInv.level<this.portalData.requiresLevel?this.app.fire("WarningTextController:setWarning","You need "+(this.portalData.requiresLevel-this.networkManager.localInv.level)+" more levels to enter!",3,new pc.Color(1,0,0,1)):0!=this.portalData.requiresGold&&this.networkManager.localInv.gold<this.portalData.requiresGold?this.app.fire("WarningTextController:setWarning","You need "+(this.portalData.requiresGold-this.networkManager.localInv.gold)+" more levels to enter!",3,new pc.Color(1,0,0,1)):0!=this.portalData.requiresPower&&this.networkManager.localInv.power<this.portalData.requiresPower&&this.app.fire("WarningTextController:setWarning","You need "+(this.portalData.requiresPower-this.networkManager.localInv.power)+" more levels to enter!",3,new pc.Color(1,0,0,1))))}),this)},PortalController.prototype.checkEligibility=function(){return"world_1"===this.nextWorldName||(0!=this.portalData.requiresLevel&&this.networkManager.localInv.level>=this.portalData.requiresLevel||(0!=this.portalData.requiresGold&&this.networkManager.localInv.gold>=this.portalData.requiresGold||0!=this.portalData.requiresPower&&this.networkManager.localInv.power>=this.portalData.requiresPower))};var ControllerInteraction=pc.createScript("controllerInteraction");ControllerInteraction.attributes.add("eventNameEnter",{type:"string"}),ControllerInteraction.attributes.add("eventNameExit",{type:"string"}),ControllerInteraction.attributes.add("eventListenerEntity",{type:"entity"}),ControllerInteraction.prototype.initialize=function(){this.entity.collision.on("triggerenter",(function(t){t.tags.has("Player")&&(null==this.eventListenerEntity?this.app.fire(this.eventNameEnter,t):this.eventListenerEntity.fire(this.eventNameEnter,t))}),this),this.entity.collision.on("triggerleave",(function(t){t.tags.has("Player")&&(null==this.eventListenerEntity?this.app.fire(this.eventNameExit,t):this.eventListenerEntity.fire(this.eventNameExit,t))}),this)};const spawnPositions=[{x:-17.297,y:6.5,z:-20.5},{x:2,y:3,z:50},{x:1,y:-1,z:95},{x:1,y:-1,z:101},{x:-2.179,y:15,z:96.501},{x:-25,y:25,z:-67}];var LoadingPanelController=pc.createScript("loadingPanelController");LoadingPanelController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.container=this.entity.children[0],this.bg=this.container.children[0].element,this.title=this.container.children[1].element,this.desc=this.container.children[2].element,this.closeButton=this.container.children[3],this.closeButton.button.on("click",(function(t){this.networkManager.room&&(this.app.disconnectFromServer=!0,this.networkManager.room.leave()),window.location.reload()}),this),this.app.on("LoadingPanelController:connectingToServer",this.connectingToServer,this),this.app.on("LoadingPanelController:connectedToServer",this.connectedToServer,this),this.on("destroy",(function(){this.app.off("LoadingPanelController:connectingToServer",this.connectingToServer,this),this.app.off("LoadingPanelController:connectedToServer",this.connectedToServer,this),clearInterval(this.loadingInterval),clearInterval(this.titleInterval),clearInterval(this.tipInterval)}),this)},LoadingPanelController.prototype.connectingToServer=function(){this.setLoadingImmediate(!0)},LoadingPanelController.prototype.connectedToServer=function(){this.setLoadingImmediate(!1)},LoadingPanelController.prototype.setLoadingImmediate=function(t){clearInterval(this.loadingInterval),clearInterval(this.titleInterval),clearInterval(this.loadingInterval),this.container.enabled=!0,t?(this.bg.opacity=1,this.title.opacity=1,this.title.outlineThickness=1,this.desc.opacity=1,this.closeButton.element.opacity=1):this.loadingInterval=setInterval((()=>{if(this.bg.opacity<=0)return clearInterval(this.loadingInterval),clearInterval(this.titleInterval),clearInterval(this.tipInterval),void(this.container.enabled=!1);this.bg.opacity-=.025,this.title.opacity-=.025,this.title.outlineThickness-=.025,this.desc.opacity-=.025,this.closeButton.element.opacity-=.025}),30),this.numDots=2,this.loadingText=this.title.text,this.titleIntervalFunc(),this.tipIntervalFunc(),this.titleInterval=setInterval(this.titleIntervalFunc.bind(this),250),this.tipInterval=setInterval(this.tipIntervalFunc.bind(this),5e3)},LoadingPanelController.prototype.setLoading=function(t,e){clearInterval(this.loadingInterval),clearInterval(this.titleInterval),clearInterval(this.loadingInterval),this.container.enabled=!0,!0===t?(console.log("LOAD SCENE ASSETS"),this.networkManager.loadSceneAssets(),this.bg.opacity=0,this.title.opacity=0,this.title.outlineThickness=0,this.desc.opacity=0,this.closeButton.element.opacity=0,this.loadingInterval=setInterval((()=>{if(this.bg.opacity>=1)return e&&e.fire("LoadingPanelCompleted"),clearInterval(this.loadingInterval),clearInterval(this.titleInterval),void clearInterval(this.tipInterval);this.bg.opacity+=.05,this.title.opacity+=.05,this.title.outlineThickness+=.05,this.desc.opacity+=.05,this.closeButton.element.opacity+=.05}),30)):(this.bg.opacity=1,this.title.opacity=1,this.title.outlineThickness=1,this.desc.opacity=1,this.closeButton.element.opacity=1,this.loadingInterval=setInterval((()=>{if(this.bg.opacity<=0)return e&&this.app.fire("LoadingPanelCompleted"),clearInterval(this.loadingInterval),clearInterval(this.titleInterval),void clearInterval(this.tipInterval);this.bg.opacity-=.025,this.title.opacity-=.025,this.title.outlineThickness-=.025,this.desc.opacity-=.025,this.closeButton.element.opacity-=.025}),30)),this.numDots=2,this.loadingText=this.title.text,this.titleIntervalFunc(),this.tipIntervalFunc(),this.titleInterval=setInterval(this.titleIntervalFunc.bind(this),250),this.tipInterval=setInterval(this.tipIntervalFunc.bind(this),3e3)},LoadingPanelController.prototype.titleIntervalFunc=function(){const t=".".repeat(this.numDots);this.title.text=this.loadingText+t,this.numDots=(this.numDots+1)%4},LoadingPanelController.prototype.tipIntervalFunc=function(){this.desc.text=tips[Math.floor(pc.math.random(0,tips.length))]};const tips=["Tip: You can level up your swords by merging them.","Tip: If you die, you will loose some of your gold and power.","Tip: Each world has its own unique items that are randomly obtained with a chance of luck.","Tip: Join our discord to get a chance to win epic giveaways!","Tip: Play the game from SwordMasters.io to enable chat!","Tip: Epic pets boosts your speed.","Tip: You can share your room with your friends!"];const worldNames=["Orkland","Sugarland","Iceworld","Desertland","Netherworld"],worldColors=[[0,1,0,1,1,1],[1,.8,0,1,1,1],[1,1,1,1,1,1],[1,.5,0,1,1,1],[1,0,0,1,0,0]];var AnnouncementController=pc.createScript("announcementController");AnnouncementController.prototype.initialize=function(){this.title=this.entity.children[0],this.body=this.entity.children[0].children[0].element,this.app.on("AnnouncementController:setAnnouncement",this.setAnnouncement,this),this.on("destroy",(function(){clearTimeout(this.hideTimeout),this.app.off("AnnouncementController:setAnnouncement",this.setAnnouncement,this)}),this)},AnnouncementController.prototype.setAnnouncement=function(t,e,i,n,o){clearTimeout(this.hideTimeout),this.tween1&&this.tween1.stop(),this.tween2&&this.tween2.stop(),this.tween3&&this.tween3.stop(),this.title.element.opacity=1,this.body.opacity=1,this.title.element.outlineThickness=1,this.body.outlineThickness=1,this.title.element.text=t,this.body.text=e,null==n&&(n=new pc.Color(1,1,1,1)),null==o&&(o=new pc.Color(1,1,1,1)),this.title.element.color=n,this.body.color=o,this.title.setLocalPosition(0,200,0),this.title.setLocalScale(0,0,0),this.title.enabled=!0,this.tween1=this.title.tween(this.title.getLocalPosition()).to(new pc.Vec3(0,0,0),.3,pc.SineOut).start(),this.tween2=this.title.tween(this.title.getLocalScale()).to(new pc.Vec3(1,1,1),.3,pc.SineOut).start(),null==i&&(i=5),this.hideTimeout=setTimeout((()=>{this.data={value:1},this.tween3=this.title.tween(this.data).to({value:0},.5,pc.SineOut).on("update",(t=>{this.title.element.opacity=this.data.value,this.body.opacity=this.data.value,this.title.element.outlineThickness=this.data.value-.2,this.body.outlineThickness=this.data.value-.2})).start()}),1e3*i)};var PopupController=pc.createScript("popupController");PopupController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.popup=this.entity.children[0],this.closeButton=this.popup.children[0],this.title=this.popup.children[1].element,this.desc=this.popup.children[2].element,this.yesButton=this.popup.children[3].children[1],this.noButton=this.popup.children[3].children[0],this.app.on("popupController:showPopup",this.showPopup,this),this.on("destroy",(function(){this.app.off("popupController:showPopup",this.showPopup,this)}),this)},PopupController.prototype.showPopup=function(t,e,o,p,n,i,s,a){o?(this.yesButton.enabled=!0,this.noButton.enabled=!0):this.noButton.enabled=!1,this.yesButton.children[0].children[1].enabled=!0===a,this.title.text=t,this.desc.text=e,this.closeButton.button.on("click",(function(t){"closePopup"!==i&&p.fire(i,s),this.setTween(!1),this.menuController.sound.play("close")}),this),this.yesButton.button.on("click",(function(t){p.fire(n,s),this.setTween(!1)}),this),this.noButton.button.on("click",(function(t){this.closeButton.button.fire("click",t)}),this),this.setTween(!0)},PopupController.prototype.setTween=function(t){this.popup.enabled=!0,t?(!0===this.app.gameplayStarted&&(PokiSDK.gameplayStop(),this.app.gameplayStarted=!1),this.menuController.sound.play("popup"),this.app.isPopupEnabled=!0,this.networkManager.blackBackground.enabled=!0,this.data={value:0},this.networkManager.blackBackground.tween(this.data).to({value:.5},.2,pc.SineOut).on("update",(t=>{this.networkManager.blackBackground.element.opacity=this.data.value})).start(),this.popup.setLocalScale(new pc.Vec3(.9,.9,.9)),this.popup.tween(this.popup.getLocalScale()).to(new pc.Vec3(1,1,1),.2,pc.SineOut).start()):(this.app.isPopupEnabled=!1,this.removeListeners(),this.popup.setLocalScale(new pc.Vec3(1,1,1)),this.popup.tween(this.popup.getLocalScale()).to(new pc.Vec3(.5,.5,.5),.1,pc.SineOut).start(),this.data={value:.5},this.networkManager.blackBackground.tween(this.data).to({value:0},.1,pc.SineOut).on("update",(t=>{this.networkManager.blackBackground.element.opacity=this.data.value})).on("complete",(()=>{this.networkManager.blackBackground.enabled=!1,this.popup.enabled=!1,this.app.isPopupEnabled=!1,!1!==this.app.gameplayStarted||this.app.isWatchingAd||this.app.isPopupEnabled||this.app.isPetInventoryEnabled||this.app.isMenuEnabled||this.app.isCustomizeEnabled||this.app.isBlacksmithEnabled||this.app.isQuestEnabled||this.app.isMagicianEnabled||this.app.isRewardPopupEnabled||(PokiSDK.gameplayStart(),this.app.gameplayStarted=!0)})).start())},PopupController.prototype.removeListeners=function(){this.closeButton.button.off("click"),this.yesButton.button.off("click"),this.noButton.button.off("click")};var WarningTextController=pc.createScript("warningTextController");WarningTextController.prototype.initialize=function(){this.title=this.entity.children[0],this.app.on("WarningTextController:setWarning",this.setWarning,this),this.on("destroy",(function(){clearTimeout(this.hideTimeout),this.app.off("WarningTextController:setWarning",this.setWarning,this)}),this)},WarningTextController.prototype.setWarning=function(t,e,n){const i=this.title.clone();this.entity.addChild(i),i.element.opacity=1,i.element.outlineThickness=1,i.element.text=t,null==n&&(n=new pc.Color(1,0,0,1)),i.element.color=n,i.setLocalPosition(0,0,0),i.setLocalScale(0,0,0),i.enabled=!0,null==e&&(e=5),i.tween(i.getLocalPosition()).to(new pc.Vec3(0,200,0),e,pc.SineOut).start(),i.tween(i.getLocalScale()).to(new pc.Vec3(1,1,1),.3,pc.SineOut).start(),this.hideTimeout=setTimeout((()=>{const t={value:1};i.tween(t).to({value:0},e/2,pc.SineOut).on("update",(e=>{i.element.opacity=t.value,i.element.outlineThickness=t.value-.2})).on("complete",(()=>{i.destroy()})).start()}),500*e)};pc.extend(pc,function(){var TweenManager=function(t){this._app=t,this._tweens=[],this._add=[]};TweenManager.prototype={add:function(t){return this._add.push(t),t},update:function(t){for(var i=0,e=this._tweens.length;i<e;)this._tweens[i].update(t)?i++:(this._tweens.splice(i,1),e--);if(this._add.length){for(let t=0;t<this._add.length;t++)this._tweens.indexOf(this._add[t])>-1||this._tweens.push(this._add[t]);this._add.length=0}}};var Tween=function(t,i,e){pc.events.attach(this),this.manager=i,e&&(this.entity=null),this.time=0,this.complete=!1,this.playing=!1,this.stopped=!0,this.pending=!1,this.target=t,this.duration=0,this._currentDelay=0,this.timeScale=1,this._reverse=!1,this._delay=0,this._yoyo=!1,this._count=0,this._numRepeats=0,this._repeatDelay=0,this._from=!1,this._slerp=!1,this._fromQuat=new pc.Quat,this._toQuat=new pc.Quat,this._quat=new pc.Quat,this.easing=pc.Linear,this._sv={},this._ev={}},_parseProperties=function(t){var i;return t instanceof pc.Vec2?i={x:t.x,y:t.y}:t instanceof pc.Vec3?i={x:t.x,y:t.y,z:t.z}:t instanceof pc.Vec4||t instanceof pc.Quat?i={x:t.x,y:t.y,z:t.z,w:t.w}:t instanceof pc.Color?(i={r:t.r,g:t.g,b:t.b},void 0!==t.a&&(i.a=t.a)):i=t,i};Tween.prototype={to:function(t,i,e,s,n,r){return this._properties=_parseProperties(t),this.duration=i,e&&(this.easing=e),s&&this.delay(s),n&&this.repeat(n),r&&this.yoyo(r),this},from:function(t,i,e,s,n,r){return this._properties=_parseProperties(t),this.duration=i,e&&(this.easing=e),s&&this.delay(s),n&&this.repeat(n),r&&this.yoyo(r),this._from=!0,this},rotate:function(t,i,e,s,n,r){return this._properties=_parseProperties(t),this.duration=i,e&&(this.easing=e),s&&this.delay(s),n&&this.repeat(n),r&&this.yoyo(r),this._slerp=!0,this},start:function(){var t,i,e,s;if(this.playing=!0,this.complete=!1,this.stopped=!1,this._count=0,this.pending=this._delay>0,this._reverse&&!this.pending?this.time=this.duration:this.time=0,this._from){for(t in this._properties)this._properties.hasOwnProperty(t)&&(this._sv[t]=this._properties[t],this._ev[t]=this.target[t]);this._slerp&&(this._toQuat.setFromEulerAngles(this.target.x,this.target.y,this.target.z),i=void 0!==this._properties.x?this._properties.x:this.target.x,e=void 0!==this._properties.y?this._properties.y:this.target.y,s=void 0!==this._properties.z?this._properties.z:this.target.z,this._fromQuat.setFromEulerAngles(i,e,s))}else{for(t in this._properties)this._properties.hasOwnProperty(t)&&(this._sv[t]=this.target[t],this._ev[t]=this._properties[t]);this._slerp&&(i=void 0!==this._properties.x?this._properties.x:this.target.x,e=void 0!==this._properties.y?this._properties.y:this.target.y,s=void 0!==this._properties.z?this._properties.z:this.target.z,void 0!==this._properties.w?(this._fromQuat.copy(this.target),this._toQuat.set(i,e,s,this._properties.w)):(this._fromQuat.setFromEulerAngles(this.target.x,this.target.y,this.target.z),this._toQuat.setFromEulerAngles(i,e,s)))}return this._currentDelay=this._delay,this.manager.add(this),this},pause:function(){this.playing=!1},resume:function(){this.playing=!0},stop:function(){this.playing=!1,this.stopped=!0},delay:function(t){return this._delay=t,this.pending=!0,this},repeat:function(t,i){return this._count=0,this._numRepeats=t,this._repeatDelay=i||0,this},loop:function(t){return t?(this._count=0,this._numRepeats=1/0):this._numRepeats=0,this},yoyo:function(t){return this._yoyo=t,this},reverse:function(){return this._reverse=!this._reverse,this},chain:function(){for(var t=arguments.length;t--;)t>0?arguments[t-1]._chained=arguments[t]:this._chained=arguments[t];return this},update:function(t){if(this.stopped)return!1;if(!this.playing)return!0;if(!this._reverse||this.pending?this.time+=t*this.timeScale:this.time-=t*this.timeScale,this.pending){if(!(this.time>this._currentDelay))return!0;this._reverse?this.time=this.duration-(this.time-this._currentDelay):this.time-=this._currentDelay,this.pending=!1}var i=0;(!this._reverse&&this.time>this.duration||this._reverse&&this.time<0)&&(this._count++,this.complete=!0,this.playing=!1,this._reverse?(i=this.duration-this.time,this.time=0):(i=this.time-this.duration,this.time=this.duration));var e,s,n=0===this.duration?1:this.time/this.duration,r=this.easing(n);for(var h in this._properties)this._properties.hasOwnProperty(h)&&(e=this._sv[h],s=this._ev[h],this.target[h]=e+(s-e)*r);if(this._slerp&&this._quat.slerp(this._fromQuat,this._toQuat,r),this.entity&&(this.entity._dirtifyLocal(),this.element&&this.entity.element&&(this.entity.element[this.element]=this.target),this._slerp&&this.entity.setLocalRotation(this._quat)),this.fire("update",t),this.complete){var a=this._repeat(i);return a?this.fire("loop"):(this.fire("complete",i),this.entity&&this.entity.off("destroy",this.stop,this),this._chained&&this._chained.start()),a}return!0},_repeat:function(t){if(this._count<this._numRepeats){if(this._reverse?this.time=this.duration-t:this.time=t,this.complete=!1,this.playing=!0,this._currentDelay=this._repeatDelay,this.pending=!0,this._yoyo){for(var i in this._properties){var e=this._sv[i];this._sv[i]=this._ev[i],this._ev[i]=e}this._slerp&&(this._quat.copy(this._fromQuat),this._fromQuat.copy(this._toQuat),this._toQuat.copy(this._quat))}return!0}return!1}};var BounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},BounceIn=function(t){return 1-BounceOut(1-t)};return{TweenManager:TweenManager,Tween:Tween,Linear:function(t){return t},QuadraticIn:function(t){return t*t},QuadraticOut:function(t){return t*(2-t)},QuadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},CubicIn:function(t){return t*t*t},CubicOut:function(t){return--t*t*t+1},CubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},QuarticIn:function(t){return t*t*t*t},QuarticOut:function(t){return 1- --t*t*t*t},QuarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},QuinticIn:function(t){return t*t*t*t*t},QuinticOut:function(t){return--t*t*t*t*t+1},QuinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},SineIn:function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)},SineOut:function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)},SineInOut:function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))},ExponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},ExponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},ExponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},CircularIn:function(t){return 1-Math.sqrt(1-t*t)},CircularOut:function(t){return Math.sqrt(1- --t*t)},CircularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},BackIn:function(t){var i=1.70158;return t*t*((i+1)*t-i)},BackOut:function(t){var i=1.70158;return--t*t*((i+1)*t+i)+1},BackInOut:function(t){var i=2.5949095;return(t*=2)<1?t*t*((i+1)*t-i)*.5:.5*((t-=2)*t*((i+1)*t+i)+2)},BounceIn:BounceIn,BounceOut:BounceOut,BounceInOut:function(t){return t<.5?.5*BounceIn(2*t):.5*BounceOut(2*t-1)+.5},ElasticIn:function(t){var i,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/.4))},ElasticOut:function(t){var i,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin((t-i)*(2*Math.PI)/.4)+1)},ElasticInOut:function(t){var i,e=.1,s=.4;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=s*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?e*Math.pow(2,10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/s)*-.5:e*Math.pow(2,-10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/s)*.5+1)}}}()),function(){pc.AppBase.prototype.addTweenManager=function(){this._tweenManager=new pc.TweenManager(this),this.on("update",(function(t){this._tweenManager.update(t)}))},pc.AppBase.prototype.tween=function(t){return new pc.Tween(t,this._tweenManager)},pc.Entity.prototype.tween=function(t,i){var e=this._app.tween(t);return e.entity=this,this.once("destroy",e.stop,e),i&&i.element&&(e.element=i.element),e};var t=pc.AppBase.getApplication();t&&t.addTweenManager()}();var QuestMark=pc.createScript("questMark");QuestMark.prototype.initialize=function(){this.scale1=new pc.Vec3(1.3,.7,1),this.scale2=new pc.Vec3(.7,1.3,1),this.tween1=this.entity.tween(this.entity.getLocalScale()).to(this.scale1,.1,pc.SineOut).delay(.5).on("complete",(()=>this.tween2.start())).yoyo(!1),this.tween2=this.entity.tween(this.entity.getLocalScale()).to(this.scale2,.15,pc.SineOut).on("complete",(()=>this.tween3.start())).yoyo(!1),this.tween3=this.entity.tween(this.entity.getLocalScale()).to(pc.Vec3.ONE,.2,pc.SineOut).on("complete",(()=>this.tween1.start())).yoyo(!1),this.tween1.start()};var QuestController=pc.createScript("questController");QuestController.attributes.add("questId",{type:"number"}),QuestController.attributes.add("questIcon",{type:"entity"}),QuestController.attributes.add("circle",{type:"entity"}),QuestController.attributes.add("questManFace",{type:"entity"}),QuestController.attributes.add("questManNewFaceMat",{type:"asset",assetType:"material"}),QuestController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.body=this.entity.children[0],this.closeButton=this.body.children[0],this.title=this.body.children[1].element,this.desc=this.body.children[2].element,this.nextButton=this.body.children[4].children[2],this.yesButton=this.body.children[4].children[1],this.noButton=this.body.children[4].children[0],this.msgCounter=0,this.quest=quests[this.questId],this.app.on("QuestController:showQuest"+this.questId,this.showQuest,this),this.app.on("QuestController:hideQuest"+this.questId,this.hideQuest,this),this.app.on("QuestController:questCompleted"+this.questId,this.questCompleted,this),this.on("destroy",(function(){this.app.off("QuestController:showQuest"+this.questId,this.showQuest,this),this.app.off("QuestController:hideQuest"+this.questId,this.hideQuest,this),this.app.off("QuestController:questCompleted"+this.questId,this.questCompleted,this)}),this)},QuestController.prototype.hideQuest=function(t=!1){!0===t&&(this.msgCounter=0),this.setTween(!1)},QuestController.prototype.showQuest=function(){this.menuController.sound.play("popup"),this.networkManager.localInv.activeQuest===this.questId&&(this.msgCounter=this.quest.msgs.length),this.body.enabled=!0,this.setTween(!0),this.setText(),0===this.msgCounter?(this.nextButton.enabled=!0,this.noButton.enabled=!0,this.yesButton.enabled=!1):this.msgCounter===this.quest.msgs.length&&(this.nextButton.enabled=!0,this.noButton.enabled=!1,this.yesButton.enabled=!1,console.log(this.quest),!0===this.quest.isCompleted?(this.desc.text=this.quest.thankMessage,this.app.fire("QuestPanelController:hideQuestPanel"+this.questId)):this.desc.text="You are not done yet, kill that monsters to claim your reward warrior!"),this.closeButton.button.on("click",(function(t){this.menuController.sound.play("close"),this.setTween(!1)}),this),this.yesButton.button.on("click",(function(t){this.app.activeQuest=this.questId,this.msgCounter+=1,this.nextButton.enabled=!0,this.noButton.enabled=!1,this.yesButton.enabled=!1,this.setText(),this.app.fire("QuestPanelController:showQuestPanel"+this.questId),this.networkManager.room.send("Client:QuestController:startQuest",this.questId),this.menuController.sound.play("questStarted"),this.networkManager.currentPlayerEntity.fire("Tutorial:OnTakeFarmerQuest")}),this),this.nextButton.button.on("click",(function(t){if(this.menuController.sound.play("buttonClick2"),!0===this.quest.isCompleted)return this.menuController.sound.play("bought"),this.networkManager.room.send("Client:QuestController:endQuest",this.questId),this.app.fire("WarningTextController:setWarning","You earned "+numRound(this.quest.rewardGold)+" gold!",5,new pc.Color(1,1,0,1)),this.setTween(!1),this.questCompleted(),this.app.activeQuest=null,this.app.fire("QuestPanelController:hideQuestPanel"+this.questId),this.app.isWatchingAd=!0,PokiSDK.commercialBreak((()=>{PokiSDK.gameplayStop(),this.app.systems.sound.volume=0,this.app.mouse.disablePointerLock()})).then((()=>{console.log("Commercial break finished, proceeding to game"),PokiSDK.gameplayStart(),this.app.systems.sound.volume=1,this.app.isWatchingAd=!1})),void(this.app.isDoingTutorial&&this.networkManager.currentPlayerEntity.fire("Tutorial:OnCompleteQuest"));if(this.msgCounter<this.quest.msgs.length&&(this.msgCounter+=1),this.msgCounter===this.quest.msgs.length-2)this.nextButton.enabled=!1,this.yesButton.enabled=!0;else if(this.msgCounter===this.quest.msgs.length)return void this.setTween(!1);this.setText()}),this),this.noButton.button.on("click",(function(t){this.closeButton.button.fire("click",t)}),this)},QuestController.prototype.questCompleted=function(){this.body.enabled=!1,this.questIcon.enabled=!1,this.circle.enabled=!1,this.questManFace&&(this.questManFace.render.meshInstances[0].material=this.questManNewFaceMat.resource),this.app.off("QuestController:showQuest"+this.questId),this.app.off("QuestController:hideQuest"+this.questId)},QuestController.prototype.setText=function(){this.title.text=this.quest.title,this.desc.text=this.quest.msgs[this.msgCounter]},QuestController.prototype.setTween=function(t){if(t)this.app.isQuestEnabled=!0,this.hiding=!1,this.body.enabled=!0,this.networkManager.blackBackground.enabled=!0,this.data={value:0},this.networkManager.blackBackground.tween(this.data).to({value:.5},.2,pc.SineOut).on("update",(t=>{this.networkManager.blackBackground.element.opacity=this.data.value})).start(),this.body.setLocalScale(new pc.Vec3(.9,.9,.9)),this.body.tween(this.body.getLocalScale()).to(new pc.Vec3(1,1,1),.2,pc.SineOut).start();else{if(this.app.isQuestEnabled=!1,!0===this.hiding)return;this.hiding=!0,this.removeListeners(),this.body.setLocalScale(new pc.Vec3(1,1,1)),this.body.tween(this.body.getLocalScale()).to(new pc.Vec3(.5,.5,.5),.1,pc.SineOut).start(),this.data={value:.5},this.networkManager.blackBackground.tween(this.data).to({value:0},.1,pc.SineOut).on("update",(t=>{this.networkManager.blackBackground.element.opacity=this.data.value})).on("complete",(()=>{this.networkManager.blackBackground.enabled=!1,this.body.enabled=!1,this.hiding=!1})).start()}},QuestController.prototype.removeListeners=function(){this.closeButton.button.off("click"),this.yesButton.button.off("click"),this.noButton.button.off("click"),this.nextButton.button.off("click")};const quests=[{type:0,rewardGold:5e3,enemyType:0,killedEnemyAmount:0,enemyAmount:30,title:"Farmer Steve",thankMessage:"Wow!! You nailed it, thank you my lord!"},{type:1,rewardGold:2e4,enemyType:1,killedEnemyAmount:0,enemyAmount:20,title:"Warrior Ellie",thankMessage:"HAHA! Thanks for slaying them all!"},{type:2,rewardGold:5e4,enemyType:2,killedEnemyAmount:0,enemyAmount:10,title:"Jack",thankMessage:"Woww! These skulls looks perfect. Good job!"},{type:3,rewardGold:1e5,enemyType:3,killedEnemyAmount:0,enemyAmount:15,title:"Richard",thankMessage:"Oh look at these, so yummy! Thank you so much!!"},{type:4,rewardGold:25e4,enemyType:4,killedEnemyAmount:0,enemyAmount:20,title:"Matilda",thankMessage:"Woww! This chocolate pieces looks awesome, thanks!!"},{type:5,rewardGold:5e5,enemyType:5,killedEnemyAmount:0,enemyAmount:3,title:"Sir Edmund",thankMessage:"You saved my life, thank you!!"},{type:6,rewardGold:5e6,enemyType:6,killedEnemyAmount:0,enemyAmount:2,title:"Sir Cedric",thankMessage:"HAHA! You are the best!!"},{type:7,rewardGold:2e7,enemyType:7,killedEnemyAmount:0,enemyAmount:2,title:"Akhenaten",thankMessage:"Wow, these are looking good, thanks!"},{type:8,rewardGold:5e7,enemyType:8,killedEnemyAmount:0,enemyAmount:2,title:"Cleopatra",thankMessage:"Yeey, you completed the quest!"},{type:9,rewardGold:1e8,enemyType:9,killedEnemyAmount:0,enemyAmount:2,title:"Senenmut",thankMessage:"Thank you for helping me brave warrior!"},{type:10,rewardGold:5e8,enemyType:10,killedEnemyAmount:0,enemyAmount:20,title:"Collector Emre",thankMessage:"Wow, this is gonna be really useful for my work. Thank you!"},{type:11,rewardGold:15e8,enemyType:11,killedEnemyAmount:0,enemyAmount:10,title:"Artist Violaty",thankMessage:"Holy cow, these are really good looking hell stones. Thank you so much!"},{type:12,rewardGold:6e9,enemyType:12,killedEnemyAmount:0,enemyAmount:3,title:"Tormentor Efe",thankMessage:"HAHA! NOW THEY LOOK BETTER WITHOUT THEIR CURSED SOULS >:)"}];quests[0].msgs=["Welcome to our cursed lands, stranger. Please forgive my tears of sorrow... :(","The orcs have brought devastation upon us, stealing my bag of coins and subjecting me to their brutal beatings.",'If you can [color="#ff0000"]defeat '+quests[0].enemyAmount+" "+enemyTypes[quests[0].enemyType].name+'[/color] creatures, I will reward you with [color="#FF7500"]'+numRound(quests[0].rewardGold)+" gold![/color]","You are a hero! May the gods guide your blade.."],quests[0].summary=["Defeat "+quests[0].enemyAmount+' [color="#ff0000"]'+enemyTypes[0].name+"[/color]"],quests[1].msgs=["Argh! Those blasted orcs have invaded our sacred forest! ","They're pillaging our resources and defiling our land! I can't stand their wretched presence any longer. ",'If you have guts to [color="#ff0000"]defeat '+quests[1].enemyAmount+" "+enemyTypes[quests[1].enemyType].name+'[/color] creatures, I might consider sparing you a reward of [color="#FF7500"]'+numRound(quests[1].rewardGold)+" gold![/color]","Good luck!"],quests[1].summary=["Defeat "+quests[1].enemyAmount+' [color="#ff0000"]'+enemyTypes[1].name+"[/color]"],quests[2].msgs=["Hey! I have some quest for you if you are interested..","I collect Orc skulls, and I'm looking to expand my collection",'If you can slash [color="#ff0000"]'+quests[2].enemyAmount+" "+enemyTypes[quests[2].enemyType].name+'[/color] creatures, I will give you a reward of [color="#FF7500"]'+numRound(quests[2].rewardGold)+" gold![/color]","Good luck!"],quests[2].summary=["Defeat "+quests[2].enemyAmount+' [color="#ff0000"]'+enemyTypes[2].name+"[/color]"],quests[3].msgs=["I am so hungry, please help me good lord  :(","It has been days since I last tasted the sweetness of sugar, and my stomach grumbles..",'If you can bring me some pieces of [color="#ff0000"]'+quests[3].enemyAmount+" "+enemyTypes[quests[3].enemyType].name+'[/color] sugar creatures, I will give you a reward of [color="#FF7500"]'+numRound(quests[3].rewardGold)+" gold![/color]","Good luck my lord!"],quests[3].summary=["Defeat "+quests[3].enemyAmount+' [color="#ff0000"]'+enemyTypes[3].name+"[/color]"],quests[4].msgs=["Hi stranger, today is my birthday!! May I ask you something?","I was making my birthday cake but couldn't find any chocolate bar, could you please help me?",'If you can bring me some pieces of [color="#ff0000"]'+quests[4].enemyAmount+" "+enemyTypes[quests[4].enemyType].name+'[/color] sugar creatures, I will give you a reward of [color="#FF7500"]'+numRound(quests[4].rewardGold)+" gold![/color]","Good luck stranger!"],quests[4].summary=["Defeat "+quests[4].enemyAmount+' [color="#ff0000"]'+enemyTypes[4].name+"[/color]"],quests[5].msgs=["Hi warrior, the king gave me a quest but i'm so sleepy..","If I cannot complete the quest given today, the king will punish me. Please help me.",'If you can kill [color="#ff0000"]'+quests[5].enemyAmount+" "+enemyTypes[quests[5].enemyType].name+'[/color] beasts, I will give you a reward of [color="#FF7500"]'+numRound(quests[5].rewardGold)+" gold![/color]","Good luck warrior!"],quests[5].summary=["Defeat "+quests[5].enemyAmount+' [color="#ff0000"]'+enemyTypes[5].name+"[/color]"],quests[6].msgs=["Hi young warrior, I have been assigned to protect this area as per the king's orders.","But this cursed snowman is way too stronger than me, would you like to help me?",'If you can kill [color="#ff0000"]'+quests[6].enemyAmount+" "+enemyTypes[quests[6].enemyType].name+'[/color] creatures, I will give you a reward of [color="#FF7500"]'+numRound(quests[6].rewardGold)+" gold![/color]","Good luck warrior!"],quests[6].summary=["Defeat "+quests[6].enemyAmount+' [color="#ff0000"]'+enemyTypes[6].name+"[/color]"],quests[7].msgs=["Hello warrior, I am a merchant and I am gathering turtle shells.","But turtles are quite aggressive. Would you like to help me?",'If you can kill [color="#ff0000"]'+quests[7].enemyAmount+" "+enemyTypes[quests[7].enemyType].name+'[/color] creatures, I will give you a reward of [color="#FF7500"]'+numRound(quests[7].rewardGold)+" gold![/color]","Good luck warrior!"],quests[7].summary=["Defeat "+quests[7].enemyAmount+' [color="#ff0000"]'+enemyTypes[7].name+"[/color]"],quests[8].msgs=["Arghhh! I hate those cursed stone heads!!","This area used to be very safe, but these cursed stones have disrupted all our peace.",'If you can help me kill [color="#ff0000"]'+quests[8].enemyAmount+" "+enemyTypes[quests[8].enemyType].name+'[/color] creatures, I will give you a reward of [color="#FF7500"]'+numRound(quests[8].rewardGold)+" gold![/color]","Good luck my friend!"],quests[8].summary=["Defeat "+quests[8].enemyAmount+' [color="#ff0000"]'+enemyTypes[8].name+"[/color]"],quests[9].msgs=["Psst! Are you new here?","I am a magician and looking for some dead souls. Would you like to help me?",'If you can bring me [color="#ff0000"]'+quests[9].enemyAmount+" "+enemyTypes[quests[9].enemyType].name+'[/color] souls, I will give you a reward of [color="#FF9500"]'+numRound(quests[9].rewardGold)+" gold![/color]","Good luck!"],quests[9].summary=["Defeat "+quests[9].enemyAmount+' [color="#ff0000"]'+enemyTypes[9].name+"[/color]"],quests[10].msgs=["Hey, do you need a quick cash?","I am an ancient stone collector and collecting Moai stones, can you help me collect some of them?",'If you can bring me [color="#ff0000"]'+quests[10].enemyAmount+" "+enemyTypes[quests[10].enemyType].name+'[/color], I will give you a reward of [color="#FF10500"]'+numRound(quests[10].rewardGold)+" gold![/color]","Good luck warrior!"],quests[10].summary=["Defeat "+quests[10].enemyAmount+' [color="#ff0000"]'+enemyTypes[10].name+"[/color]"],quests[11].msgs=["Look at these beautiful creatures! Oh my God..","I really would like to collect and make an art from their stones but they are very strong :(",'If you can bring me [color="#ff0000"]'+quests[11].enemyAmount+" "+enemyTypes[quests[11].enemyType].name+'[/color], I will give you a reward of [color="#FF11500"]'+numRound(quests[11].rewardGold)+" gold![/color]","Good luck!"],quests[11].summary=["Defeat "+quests[11].enemyAmount+' [color="#ff0000"]'+enemyTypes[11].name+"[/color]"],quests[12].msgs=["The only true tormentor here is me. I must kill everyone!","If you wish to assist me, I can reward you..",'Kill [color="#ff0000"]'+quests[12].enemyAmount+" "+enemyTypes[quests[12].enemyType].name+'[/color] and get [color="#FF12500"]'+numRound(quests[12].rewardGold)+" gold[/color]","Good luck.."],quests[12].summary=["Defeat "+quests[12].enemyAmount+' [color="#ff0000"]'+enemyTypes[12].name+"[/color]"];var QuestPanelController=pc.createScript("questPanelController");QuestPanelController.attributes.add("questId",{type:"number"}),QuestPanelController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.body=this.entity.children[0],this.desc=this.body.children[0].element,this.checkIcon=this.body.children[1],this.msgCounter=0,this.app.on("QuestPanelController:showQuestPanel"+this.questId,this.showQuest,this),this.app.on("QuestPanelController:hideQuestPanel"+this.questId,this.hideQuest,this),this.app.on("enemyDied",this.enemyDied,this),this.on("destroy",(function(){this.app.off("QuestPanelController:showQuestPanel"+this.questId,this.showQuest,this),this.app.off("QuestPanelController:hideQuestPanel"+this.questId,this.hideQuest,this),this.app.off("enemyDied",this.enemyDied,this)}),this)},QuestPanelController.prototype.hideQuest=function(){this.setTween(!1)},QuestPanelController.prototype.showQuest=function(){this.quest=quests[this.questId];const t=this.networkManager.localInv.killedEnemyTypes.get(this.quest.enemyType.toString());null==t?this.quest.killedEnemyAmount=0:null!=t&&(this.quest.killedEnemyAmount=t),this.body.enabled=!0,this.setTween(!0),this.setText(),this.quest.killedEnemyAmount>=this.quest.enemyAmount&&this.questCompleted()},QuestPanelController.prototype.enemyDied=function(t,e=1){if(null==this.quest||this.networkManager.localInv.activeQuest!=this.questId)return;if(this.quest.enemyType!=t)return;const s=quests[t];s&&(s.killedEnemyAmount+=e),this.quest.killedEnemyAmount>=this.quest.enemyAmount?this.questCompleted():this.setText()},QuestPanelController.prototype.questCompleted=function(){1!=this.quest.isCompleted&&(this.quest.isCompleted=!0,this.checkIcon.setLocalScale(new pc.Vec3(0,0,0)),this.time=0,this.checkTween=this.checkIcon.tween(this.checkIcon.getLocalScale()).to({x:1,y:1,z:1},.5,pc.SineInOut).on("update",(t=>{this.time-=t,this.checkIcon.setLocalEulerAngles(0,0,60*this.time*12)})).start(),this.desc.text="Go back to the "+this.quest.title,this.menuController.sound.play("questCompleted"),this.app.isDoingTutorial&&this.networkManager.currentPlayerEntity.fire("Tutorial:OnFinishQuest"))},QuestPanelController.prototype.setText=function(){this.desc.text=this.quest.summary+" "+this.quest.killedEnemyAmount+"/"+this.quest.enemyAmount},QuestPanelController.prototype.setTween=function(t){if(t)this.hiding=!1,this.body.enabled=!0,this.body.setLocalScale(new pc.Vec3(.9,.9,.9)),this.body.tween(this.body.getLocalScale()).to(new pc.Vec3(1,1,1),.2,pc.SineOut).start();else{if(!0===this.hiding)return;this.hiding=!0,this.body.setLocalScale(new pc.Vec3(1,1,1)),this.body.tween(this.body.getLocalScale()).to(new pc.Vec3(0,0,0),.1,pc.SineOut).on("complete",(()=>{this.body.enabled=!1,this.hiding=!1})).start()}};var BlacksmithController=pc.createScript("blacksmithController");BlacksmithController.attributes.add("leftButtonEntity",{type:"entity"}),BlacksmithController.attributes.add("rightButtonEntity",{type:"entity"}),BlacksmithController.attributes.add("equipButtonEntity",{type:"entity"}),BlacksmithController.attributes.add("priceButtonEntity",{type:"entity"}),BlacksmithController.attributes.add("closeButtonEntity",{type:"entity"}),BlacksmithController.attributes.add("itemTitle",{type:"entity"}),BlacksmithController.attributes.add("itemsParent",{type:"entity"}),BlacksmithController.attributes.add("boughtParticle",{type:"entity"}),BlacksmithController.attributes.add("statTitle",{type:"entity"}),BlacksmithController.attributes.add("stats",{type:"entity",array:!0,default:[""],title:"Stats Array"}),BlacksmithController.prototype.postInitialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.priceText=this.priceButtonEntity.children[0].element,this.blacksmithCamera=this.entity.children[0],this.activeItemIndex=0,this.items=this.itemsParent.children,this.rewardedButton=this.app.root.findByName("BlacksmithRewardedButton"),this.priceButtonEntity.button.on("click",(function(t){let e=this.activeSlot.itemData.priceGold,i=!1,a=!1;!0===this.activeSlot.bought?a=!0:null==e||0===e?(e=numRound(this.activeSlot.itemData.pricePower)+" Power",i=!1,0===this.activeSlot.itemData.pricePower&&(e="FREE",a=!0)):(e+=" Gold",i=!0);let n="Confirmation";i?a?(this.menuController.sound.play("equip"),this.entity.fire("BlacksmithController:buyCustomize",this.activeSlot)):this.networkManager.localInv.gold>=this.activeSlot.itemData.priceGold?this.app.fire("popupController:showPopup",n,"Are you sure to buy "+this.activeSlot.itemData.name+" for "+e,!0,this.entity,"BlacksmithController:buyCustomize","closePopup",this.activeSlot):this.networkManager.localInv.gold>=3*this.activeSlot.itemData.priceGold/4?(this.menuController.sound.play("failed"),this.app.fire("popupController:showPopup","Insufficent Funds..","Would you like to watch an ad to buy "+this.activeSlot.itemData.name+"?",!0,this.entity,"BlacksmithController:buyCustomizeWithAd","closePopup",this.activeSlot,!0)):(this.menuController.sound.play("failed"),this.app.fire("WarningTextController:setWarning","Purchase failed.. You need "+numRound(this.activeSlot.itemData.priceGold-this.networkManager.localInv.gold)+" gold to buy "+this.activeSlot.itemData.name,5)):a?(this.menuController.sound.play("equip"),this.entity.fire("BlacksmithController:buyCustomize",this.activeSlot)):this.networkManager.localInv.power>=this.activeSlot.itemData.pricePower?this.app.fire("popupController:showPopup",n,"Are you sure to buy "+this.activeSlot.itemData.name+" for "+e,!0,this.entity,"BlacksmithController:buyCustomize","closePopup",this.activeSlot):this.networkManager.localInv.power>=3*this.activeSlot.itemData.pricePower/4?(this.menuController.sound.play("failed"),this.app.fire("popupController:showPopup","Insufficent Funds..","Would you like to watch an ad to buy "+this.activeSlot.itemData.name+"?",!0,this.entity,"BlacksmithController:buyCustomizeWithAd","closePopup",this.activeSlot,!0)):(this.menuController.sound.play("failed"),this.app.fire("WarningTextController:setWarning","Purchase failed.. You need "+numRound(this.activeSlot.itemData.pricePower-this.networkManager.localInv.power)+" power to buy "+this.activeSlot.itemData.name,5))}),this),this.equipButtonEntity.button.on("click",(function(t){this.priceButtonEntity.button.fire("click",t)}),this),this.leftButtonEntity.button.on("click",(function(t){this.menuController.sound.play("buttonClick2"),this.changeItem(this.activeItemIndex-1<0?this.items.length-1:this.activeItemIndex-1),this.setStats(),this.leftButtonTween=this.leftButtonEntity.tween(this.leftButtonEntity.getLocalScale()).to(new pc.Vec3(.8,.8,.8),.06,pc.Linear).yoyo(!0).repeat(2).start()}),this),this.rightButtonEntity.button.on("click",(function(t){this.menuController.sound.play("buttonClick2"),this.changeItem(this.activeItemIndex+1>=this.items.length?0:this.activeItemIndex+1),this.setStats(),this.rightButtonTween=this.rightButtonEntity.tween(this.rightButtonEntity.getLocalScale()).to(new pc.Vec3(.8,.8,.8),.06,pc.Linear).yoyo(!0).repeat(2).start()}),this),this.closeButtonEntity.button.on("click",(function(t){this.menuController.sound.play("close"),this.entity.fire("BlacksmithController:hideMarket")}),this),this.entity.on("BlacksmithController:buyCustomize",this.buyCustomize,this),this.entity.on("BlacksmithController:buyCustomizeWithAd",this.buyCustomizeWithAd,this),this.entity.on("BlacksmithController:showMarket",this.showMarket,this),this.entity.on("BlacksmithController:hideMarket",this.hideMarket,this),this.on("destroy",(function(){}))},BlacksmithController.prototype.setupRewardedButton=function(){let t;1===this.networkManager.worldNumber?t=13:2===this.networkManager.worldNumber?t=14:3===this.networkManager.worldNumber?t=15:4===this.networkManager.worldNumber?t=16:5===this.networkManager.worldNumber&&(t=17),this.networkManager.claimedChests.find((e=>e===t))?this.rewardedButton.enabled=!1:(this.rewardedButton.enabled=!0,this.rewardedButton.button.off("click"),this.rewardedButton.button.on("click",(function(e){this.app.isWatchingAd=!0,PokiSDK.rewardedBreak((()=>{this.app.systems.sound.volume=0,this.app.mouse.disablePointerLock()})).then((e=>{e&&(this.networkManager.room.send("Client:ChestController:openChest",{chestId:t,isRewarded:!1,noMultiplier:!0}),this.menuController.sound.play("coin"),this.menuController.sound.play("chest"),this.rewardedButton.enabled=!1),console.log("Rewarded break finished, proceeding to game",e),this.app.systems.sound.volume=1,this.app.isWatchingAd=!1}))}),this))},BlacksmithController.prototype.buyCustomize=function(t){this.priceButtonEntity.enabled=!1,this.equipButtonEntity.enabled=!1,this.networkManager.room.send("Client:CustomizeController:buyCustomize",{itemType:t.itemType,type:t.itemData.type})},BlacksmithController.prototype.buyCustomizeWithAd=function(t){this.app.isWatchingAd=!0,PokiSDK.rewardedBreak((()=>{this.app.systems.sound.volume=0,this.app.mouse.disablePointerLock()})).then((e=>{e&&(this.priceButtonEntity.enabled=!1,this.equipButtonEntity.enabled=!1,this.networkManager.room.send("Client:CustomizeController:buyCustomize",{itemType:t.itemType,type:t.itemData.type,ad:!0})),console.log("Rewarded break finished, proceeding to game",e),this.app.systems.sound.volume=1,this.app.isWatchingAd=!1}))},BlacksmithController.prototype.changeItem=function(t){this.activeItemIndex=t,this.activeSlot=this.items[this.activeItemIndex].script.blacksmithItemController,this.itemData=this.activeSlot.itemData,this.items[this.activeItemIndex].enabled=!0,this.itemsParent.tween(this.itemsParent.getLocalPosition()).to(new pc.Vec3(-15*this.activeItemIndex,0,-8.779),.5,pc.SineOut).yoyo(!1).on("complete",(()=>this.items[t].enabled=t===this.activeItemIndex)).start()},BlacksmithController.prototype.setStats=function(){null!=this.itemData&&(this.itemTitle.element.text=this.itemData.name,3===this.activeSlot.itemType?this.networkManager.localInv.activeHelmet===this.activeSlot.itemData.type?this.activeSlot.equipped=!0:this.activeSlot.equipped=!1:4===this.activeSlot.itemType?this.networkManager.localInv.activeTorso===this.activeSlot.itemData.type?this.activeSlot.equipped=!0:this.activeSlot.equipped=!1:5===this.activeSlot.itemType?this.networkManager.localInv.activePant===this.activeSlot.itemData.type?this.activeSlot.equipped=!0:this.activeSlot.equipped=!1:6===this.activeSlot.itemType&&(this.networkManager.localInv.activeShoe===this.activeSlot.itemData.type?this.activeSlot.equipped=!0:this.activeSlot.equipped=!1),!0===this.activeSlot.bought?(this.priceButtonEntity.enabled=!1,this.statTitle.element.text="Owned",this.equipButtonEntity.enabled=!this.activeSlot.equipped):(this.statTitle.element.text="UNLOCK!",this.priceButtonEntity.enabled=!0,this.equipButtonEntity.enabled=!1),null==this.itemData.extraHealth?this.itemData.damageProtection&&(this.stats[0].parent.element.text="Damage Protection",this.stats[0].element.text="+"+this.itemData.damageProtection):(this.stats[0].parent.element.text="Extra Health",this.stats[0].element.text="+"+numRound(this.itemData.extraHealth)),null==this.itemData.powerMultiplier?this.itemData.damageMultiplier?(this.stats[3].parent.element.text="Damage Multiplier",this.stats[3].element.text=this.itemData.damageMultiplier+"x"):this.itemData.damage&&(this.stats[3].parent.element.text="Damage",this.stats[3].element.text="+"+numRound(this.itemData.damage)):(this.stats[3].parent.element.text="Power Multiplier",this.stats[3].element.text=this.itemData.powerMultiplier+"x"),this.stats[1].element.text=this.itemData.healthMultiplier+"x",this.stats[2].element.text=this.itemData.goldMultiplier+"x",this.itemData.priceGold&&this.itemData.priceGold>0?(this.priceButtonEntity.children[0].element.text=numRound(this.itemData.priceGold),this.priceButtonEntity.children[1].enabled=!0,this.priceButtonEntity.children[2].enabled=!1):this.itemData.pricePower&&this.itemData.pricePower>0&&(this.priceButtonEntity.children[0].element.text=numRound(this.itemData.pricePower),this.priceButtonEntity.children[1].enabled=!1,this.priceButtonEntity.children[2].enabled=!0))},BlacksmithController.prototype.showMarket=function(){!0===this.app.gameplayStarted&&(PokiSDK.gameplayStop(),this.app.gameplayStarted=!1),this.app.isBlacksmithEnabled=!0,this.blacksmithCamera.enabled=!0,this.networkManager.camera.enabled=!1,this.networkManager.buttonsGroup.enabled=!1,this.networkManager.experienceBarParent.enabled=!1,this.networkManager.healthStatParent.reparent(this.networkManager.statsLayoutVerticalRightSide),this.networkManager.goldStatParent.reparent(this.networkManager.statsLayoutVerticalRightSide),this.networkManager.powerStatParent.reparent(this.networkManager.statsLayoutVerticalRightSide),this.activeSlot=this.items[this.activeItemIndex].script.blacksmithItemController,this.itemData=this.activeSlot.itemData,this.setStats(),this.app.fire("InventoryController:enableDisableInventory",!1),this.app.fire("InventoryController:enableDisableSkillbar",!1),this.app.fire("CoinController:destroyCoins"),this.setupRewardedButton()},BlacksmithController.prototype.hideMarket=function(){!1!==this.app.isBlacksmithEnabled&&(this.app.isBlacksmithEnabled=!1,this.blacksmithCamera.enabled=!1,this.networkManager.camera.enabled=!0,this.networkManager.buttonsGroup.enabled=!0,this.networkManager.experienceBarParent.enabled=!0,this.networkManager.healthStatParent.reparent(this.networkManager.statsLayoutVertical),this.networkManager.goldStatParent.reparent(this.networkManager.statsLayoutVertical),this.networkManager.powerStatParent.reparent(this.networkManager.statsLayoutVertical),this.app.fire("InventoryController:enableDisableSkillbar",!0),this.app.isWatchingAd=!0,PokiSDK.commercialBreak((()=>{this.app.systems.sound.volume=0,this.app.mouse.disablePointerLock()})).then((()=>{console.log("Commercial break finished, proceeding to game"),this.app.systems.sound.volume=1,this.app.isWatchingAd=!1})),this.rewardedButton.enabled=!1)};const helmets=[{type:0,name:"Empty",extraHealth:0,healthMultiplier:0,goldMultiplier:0,powerMultiplier:0,priceGold:0,pricePower:0},{type:1,name:"Leather Bandana",extraHealth:100,healthMultiplier:0,goldMultiplier:0,powerMultiplier:0,priceGold:500,pricePower:0},{type:2,name:"Iron Helmet",extraHealth:400,healthMultiplier:0,goldMultiplier:.25,powerMultiplier:0,priceGold:1e4,pricePower:0},{type:3,name:"King's Crown",extraHealth:1e3,healthMultiplier:.75,goldMultiplier:.5,powerMultiplier:.25,priceGold:0,pricePower:1e5},{type:4,name:"Sweetmallow",extraHealth:5e3,healthMultiplier:.5,goldMultiplier:.5,powerMultiplier:.5,priceGold:0,pricePower:5e4},{type:5,name:"Chocohead",extraHealth:2e4,healthMultiplier:1,goldMultiplier:0,powerMultiplier:1,priceGold:1e5,pricePower:0},{type:6,name:"Lollipop Helmet",extraHealth:5e4,healthMultiplier:1.25,goldMultiplier:.75,powerMultiplier:.75,priceGold:0,pricePower:1e6},{type:7,name:"Cactus Helmet",extraHealth:1e5,healthMultiplier:1.75,goldMultiplier:.75,powerMultiplier:.75,priceGold:2e7,pricePower:0},{type:8,name:"Bone Helmet",extraHealth:4e5,healthMultiplier:2,goldMultiplier:.75,powerMultiplier:.75,priceGold:1e8,pricePower:0},{type:9,name:"Immortal Helmet",extraHealth:8e5,healthMultiplier:2.5,goldMultiplier:1,powerMultiplier:1,priceGold:4e8,pricePower:0},{type:10,name:"Obsidian Helmet",extraHealth:15e5,healthMultiplier:2.75,goldMultiplier:1,powerMultiplier:1,priceGold:7e8,pricePower:0},{type:11,name:"Nether Helmet",extraHealth:3e6,healthMultiplier:3,goldMultiplier:1,powerMultiplier:1.25,priceGold:4e9,pricePower:0},{type:12,name:"Hellfire Headguard",extraHealth:45e5,healthMultiplier:3.5,goldMultiplier:1,powerMultiplier:1,priceGold:15e9,pricePower:0}];const torsos=[{type:0,name:"Empty",extraHealth:0,healthMultiplier:0,goldMultiplier:0,powerMultiplier:0,priceGold:0,pricePower:0},{type:1,name:"Leather Chestplate",extraHealth:200,healthMultiplier:0,goldMultiplier:0,powerMultiplier:0,priceGold:1e3,pricePower:0},{type:2,name:"Iron Chestplate",extraHealth:600,healthMultiplier:0,goldMultiplier:.25,powerMultiplier:0,priceGold:15e3,pricePower:0},{type:3,name:"Golden Chestplate",extraHealth:1200,healthMultiplier:.25,goldMultiplier:.5,powerMultiplier:.25,priceGold:5e4,pricePower:0},{type:4,name:"Fluffymellow",extraHealth:4e3,healthMultiplier:.75,goldMultiplier:.75,powerMultiplier:.75,priceGold:0,pricePower:75e3},{type:5,name:"Chocoblock",extraHealth:14e3,healthMultiplier:1.25,goldMultiplier:.25,powerMultiplier:1,priceGold:125e3,pricePower:0},{type:6,name:"Candyshell",extraHealth:4e4,healthMultiplier:1.5,goldMultiplier:1,powerMultiplier:1,priceGold:25e4,pricePower:0},{type:7,name:"Spiked Shell",extraHealth:15e4,healthMultiplier:2,goldMultiplier:1,powerMultiplier:1,priceGold:25e6,pricePower:0},{type:8,name:"Boneshell",extraHealth:5e5,healthMultiplier:2.25,goldMultiplier:1,powerMultiplier:1.25,priceGold:15e7,pricePower:0},{type:9,name:"Immortal Chestplate",extraHealth:1e6,healthMultiplier:2.5,goldMultiplier:1,powerMultiplier:1.25,priceGold:5e8,pricePower:0},{type:10,name:"Obsidian Chestplate",extraHealth:16e5,healthMultiplier:2.5,goldMultiplier:1,powerMultiplier:1.25,priceGold:85e7,pricePower:0},{type:11,name:"Nether Chestplate",extraHealth:32e5,healthMultiplier:2.75,goldMultiplier:1,powerMultiplier:1,priceGold:45e8,pricePower:0},{type:12,name:"Hellfire Chestplate",extraHealth:5e6,healthMultiplier:3,goldMultiplier:1,powerMultiplier:1,priceGold:2e10,pricePower:0}];const pants=[{type:0,name:"Empty",extraHealth:0,healthMultiplier:0,goldMultiplier:0,powerMultiplier:0,priceGold:0,pricePower:0},{type:1,name:"Leather Short",extraHealth:200,healthMultiplier:0,goldMultiplier:0,powerMultiplier:0,priceGold:1e3,pricePower:0},{type:2,name:"Iron Short",extraHealth:600,healthMultiplier:0,goldMultiplier:.25,powerMultiplier:.25,priceGold:15e3,pricePower:0},{type:3,name:"Golden Short",extraHealth:1200,healthMultiplier:.25,goldMultiplier:.5,powerMultiplier:.25,priceGold:4e4,pricePower:0},{type:4,name:"Softmallow Short",extraHealth:6e3,healthMultiplier:.75,goldMultiplier:.75,powerMultiplier:.75,priceGold:0,pricePower:75e3},{type:5,name:"Chocoshort",extraHealth:25e3,healthMultiplier:1.25,goldMultiplier:.25,powerMultiplier:1,priceGold:12e4,pricePower:0},{type:6,name:"Lollishort",extraHealth:6e4,healthMultiplier:1.5,goldMultiplier:1,powerMultiplier:1,priceGold:25e4,pricePower:0},{type:7,name:"Cactus Short",extraHealth:1e5,healthMultiplier:1.75,goldMultiplier:1,powerMultiplier:1,priceGold:25e6,pricePower:0},{type:8,name:"Bone Short",extraHealth:5e5,healthMultiplier:2,goldMultiplier:1,powerMultiplier:1,priceGold:15e7,pricePower:0},{type:9,name:"Immortal Short",extraHealth:1e6,healthMultiplier:2.5,goldMultiplier:1,powerMultiplier:1.25,priceGold:5e8,pricePower:0},{type:10,name:"Obsidian Short",extraHealth:16e5,healthMultiplier:2.75,goldMultiplier:1,powerMultiplier:1,priceGold:85e7,pricePower:0},{type:11,name:"Nether Short",extraHealth:32e5,healthMultiplier:2.75,goldMultiplier:1,powerMultiplier:1.25,priceGold:45e8,pricePower:0},{type:12,name:"Hellfire Short",extraHealth:5e6,healthMultiplier:3,goldMultiplier:1,powerMultiplier:1,priceGold:2e10,pricePower:0}];const shoes=[{type:0,name:"Empty",extraHealth:0,healthMultiplier:0,goldMultiplier:0,powerMultiplier:0,priceGold:0,pricePower:0},{type:1,name:"Leather Shoes",extraHealth:100,healthMultiplier:0,goldMultiplier:0,powerMultiplier:0,priceGold:500,pricePower:0},{type:2,name:"Iron Boots",extraHealth:250,healthMultiplier:0,goldMultiplier:.25,powerMultiplier:0,priceGold:1e4,pricePower:0},{type:3,name:"Golden Boots",extraHealth:500,healthMultiplier:0,goldMultiplier:.25,powerMultiplier:.25,priceGold:3e4,pricePower:0},{type:4,name:"Soft Boots",extraHealth:3e3,healthMultiplier:.25,goldMultiplier:.5,powerMultiplier:.5,priceGold:0,pricePower:5e4},{type:5,name:"Cake Boots",extraHealth:1e4,healthMultiplier:.75,goldMultiplier:.25,powerMultiplier:.75,priceGold:1e5,pricePower:0},{type:6,name:"Candy Boots",extraHealth:2e4,healthMultiplier:1,goldMultiplier:.75,powerMultiplier:1,priceGold:2e5,pricePower:0},{type:7,name:"Cactus Boots",extraHealth:7e4,healthMultiplier:1.25,goldMultiplier:1,powerMultiplier:1,priceGold:2e7,pricePower:0},{type:8,name:"Bone Boots",extraHealth:25e4,healthMultiplier:1.5,goldMultiplier:1,powerMultiplier:1,priceGold:1e8,pricePower:0},{type:9,name:"Immortal Boots",extraHealth:4e5,healthMultiplier:2,goldMultiplier:1.25,powerMultiplier:1,priceGold:4e8,pricePower:0},{type:10,name:"Obsidian Boots",extraHealth:1e6,healthMultiplier:2.25,goldMultiplier:1,powerMultiplier:1,priceGold:7e8,pricePower:0},{type:11,name:"Nether Boots",extraHealth:2e6,healthMultiplier:2.5,goldMultiplier:1,powerMultiplier:1,priceGold:4e9,pricePower:0},{type:12,name:"Hellfire Boots",extraHealth:45e5,healthMultiplier:2.5,goldMultiplier:1,powerMultiplier:1,priceGold:15e9,pricePower:0}];var BlacksmithItemController=pc.createScript("blacksmithItemController");BlacksmithItemController.attributes.add("type",{type:"number"}),BlacksmithItemController.attributes.add("itemType",{type:"number",enum:[{helmet:3},{torso:4},{pant:5},{shoe:6},{sword:7},{shield:8}]}),BlacksmithItemController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.blacksmithController=this.app.root.findByName("Blacksmith").script.blacksmithController,this.itemData=this.getItemData(),this.equipped=!1,this.networkManager.localInv.helmets.forEach((t=>this.boughtNewHelmet(t,!1))),this.networkManager.localInv.torsos.forEach((t=>this.boughtNewTorso(t,!1))),this.networkManager.localInv.pants.forEach((t=>this.boughtNewPant(t,!1))),this.networkManager.localInv.shoes.forEach((t=>this.boughtNewShoe(t,!1))),this.app.on("BlacksmithItemController:boughtNewHelmet",this.boughtNewHelmet,this),this.app.on("BlacksmithItemController:boughtNewTorso",this.boughtNewTorso,this),this.app.on("BlacksmithItemController:boughtNewPant",this.boughtNewPant,this),this.app.on("BlacksmithItemController:boughtNewShoe",this.boughtNewShoe,this),this.on("destroy",(function(){this.app.off("BlacksmithItemController:boughtNewHelmet",this.boughtNewHelmet,this),this.app.off("BlacksmithItemController:boughtNewTorso",this.boughtNewTorso,this),this.app.off("BlacksmithItemController:boughtNewPant",this.boughtNewPant,this),this.app.off("BlacksmithItemController:boughtNewShoe",this.boughtNewShoe,this)}))},BlacksmithItemController.prototype.boughtEffect=function(){this.menuController.sound.play("bought"),this.app.fire("WarningTextController:setWarning","You successfully bought "+this.itemData.name,5,new pc.Color(0,1,0,1)),this.blacksmithController.boughtParticle.particlesystem.reset(),this.blacksmithController.boughtParticle.particlesystem.play()},BlacksmithItemController.prototype.boughtNewHelmet=function(t,e=!0){this.type===t&&3===this.itemType&&(this.bought=!0,this.networkManager.localInv.activeHelmet===t?this.equipped=!0:this.equipped=!1,this.blacksmithController.priceButtonEntity.enabled=!1,this.blacksmithController.equipButtonEntity.enabled=!1,0!=t&&0!=e&&this.boughtEffect())},BlacksmithItemController.prototype.boughtNewTorso=function(t,e){this.type===t&&4===this.itemType&&(this.bought=!0,this.networkManager.localInv.activeTorso===t?this.equipped=!0:this.equipped=!1,this.blacksmithController.priceButtonEntity.enabled=!1,this.blacksmithController.equipButtonEntity.enabled=!1,0!=t&&0!=e&&this.boughtEffect())},BlacksmithItemController.prototype.boughtNewPant=function(t,e){this.type===t&&5===this.itemType&&(this.bought=!0,this.networkManager.localInv.activePant===t?this.equipped=!0:this.equipped=!1,this.blacksmithController.priceButtonEntity.enabled=!1,this.blacksmithController.equipButtonEntity.enabled=!1,0!=t&&0!=e&&this.boughtEffect())},BlacksmithItemController.prototype.boughtNewShoe=function(t,e){this.type===t&&6===this.itemType&&(this.bought=!0,this.networkManager.localInv.activeShoe===t?this.equipped=!0:this.equipped=!1,this.blacksmithController.priceButtonEntity.enabled=!1,this.blacksmithController.equipButtonEntity.enabled=!1,0!=t&&0!=e&&this.boughtEffect())},BlacksmithItemController.prototype.getItemData=function(){return 3===this.itemType?helmets[this.type]:4===this.itemType?torsos[this.type]:5===this.itemType?pants[this.type]:6===this.itemType?shoes[this.type]:7===this.itemType?swords[this.type]:8===this.itemType?shields[this.type]:void 0};var CustomizeSlotController=pc.createScript("customizeSlotController");CustomizeSlotController.attributes.add("type",{type:"number"}),CustomizeSlotController.attributes.add("itemType",{type:"number",enum:[{skinColor:0},{face:1},{hair:2}]}),CustomizeSlotController.prototype.initialize=function(){let t;this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.customizeController=this.app.root.findByName("Customize").script.customizeController,this.inventoryController=this.app.root.findByName("InventoryButton").script.inventoryController,this.itemImage=this.entity.children[0].element,this.bg=this.entity.children[1],this.priceText=this.entity.children[2].element,this.coinIcon=this.entity.children[3],this.powerIcon=this.entity.children[4],this.bought=!1,0===this.itemType?this.itemData=skinColors[this.type]:1===this.itemType?this.itemData=faces[this.type]:2===this.itemType&&(this.itemData=hairs[this.type]),0!=this.itemData.priceGold?(this.coinIcon.enabled=!0,this.powerIcon.enabled=!1,t=this.itemData.priceGold,this.priceText.text=numRound(t)):0!=this.itemData.pricePower?(this.coinIcon.enabled=!1,this.powerIcon.enabled=!0,t=this.itemData.pricePower,this.priceText.text=numRound(t),this.priceText.color=new pc.Color(.2,.8,1,1)):(this.coinIcon.enabled=!1,this.powerIcon.enabled=!1,this.bg.enabled=!1,this.priceText.enabled=!1);try{this.networkManager.localInv.skinColors.forEach((t=>this.boughtNewSkinColor(t,!0))),this.networkManager.localInv.faces.forEach((t=>this.boughtNewFaceType(t,!0))),this.networkManager.localInv.hairs.forEach((t=>this.boughtNewHair(t,!0)))}catch(t){console.log(t)}this.entity.button.on("click",(function(t){this.menuController.sound.play("buttonClick"),this.customizeController.activeSlot&&(this.customizeController.activeSlot.entity.element.sprite=this.inventoryController.slotImages[0].resource),this.customizeController.activeSlot=this,this.entity.element.sprite=this.inventoryController.slotImages[1].resource,this.equip(this.type),!0===this.bought||0===this.type?(this.customizeController.buyButtonEntity.button.fire("click"),this.customizeController.buyButtonEntity.enabled=!1):this.customizeController.buyButtonEntity.enabled=!0}),this),this.app.on("CustomizeSlotController:boughtNewSkinColor",this.boughtNewSkinColor,this),this.app.on("CustomizeSlotController:boughtNewFaceType",this.boughtNewFaceType,this),this.app.on("CustomizeSlotController:boughtNewHair",this.boughtNewHair,this),this.on("destroy",(function(){this.app.off("CustomizeSlotController:boughtNewSkinColor",this.boughtNewSkinColor,this),this.app.off("CustomizeSlotController:boughtNewFaceType",this.boughtNewFaceType,this),this.app.off("CustomizeSlotController:boughtNewHair",this.boughtNewHair,this)}),this)},CustomizeSlotController.prototype.boughtNewSkinColor=function(t,e){this.type===t&&0===this.itemType&&(this.coinIcon.enabled=!1,this.powerIcon.enabled=!1,this.bg.enabled=!1,this.priceText.enabled=!1,this.bought=!0,this.customizeController.buyButtonEntity.enabled=!1,e?this.networkManager.localInv.activeSkinColor===t&&this.equip(t):(this.equip(t),0!=t&&this.boughtEffect()))},CustomizeSlotController.prototype.boughtNewFaceType=function(t,e){this.type===t&&1===this.itemType&&(this.coinIcon.enabled=!1,this.powerIcon.enabled=!1,this.bg.enabled=!1,this.priceText.enabled=!1,this.bought=!0,this.customizeController.buyButtonEntity.enabled=!1,e?this.networkManager.localInv.activeFace===t&&this.equip(t):(this.equip(t),0!=t&&this.boughtEffect()))},CustomizeSlotController.prototype.boughtNewHair=function(t,e){this.type===t&&2===this.itemType&&(this.coinIcon.enabled=!1,this.powerIcon.enabled=!1,this.bg.enabled=!1,this.priceText&&(this.priceText.enabled=!1),this.bought=!0,this.customizeController.buyButtonEntity.enabled=!1,e?this.networkManager.localInv.activeHair===t&&this.equip(t):(this.equip(t),0!=t&&this.boughtEffect()))},CustomizeSlotController.prototype.equip=function(t){if(0===this.itemType){const e=this.customizeController.customizePlayerSkin.render.meshInstances[0];e&&(e.material=this.customizeController.skinColorMats[t].resource)}else if(1===this.itemType){const e=this.customizeController.customizePlayerFace.render.meshInstances[0];e&&(e.material=this.customizeController.faceMats[t].resource)}else if(2===this.itemType){this.customizeController.activeHair&&this.customizeController.activeHair.destroy();const e=this.app.scene.layers.getLayerByName("Sprite");this.customizeController.activeHair=this.customizeController.hairs[t].resource.instantiate(),this.customizeController.customizePlayerHairParent.addChild(this.customizeController.activeHair),this.customizeController.activeHair.setLocalPosition(0,0,0),this.customizeController.activeHair.render&&(this.customizeController.activeHair.render.layers=[e.id])}},CustomizeSlotController.prototype.boughtEffect=function(){this.customizeController.boughtParticle&&this.customizeController.boughtParticle.particlesystem&&(this.menuController.sound.play("bought"),this.app.fire("WarningTextController:setWarning","You successfully bought "+this.itemData.name,5,new pc.Color(0,1,0,1)),this.customizeController.boughtParticle.particlesystem.reset(),this.customizeController.boughtParticle.particlesystem.play(),this.customizeController.customizePlayer.setLocalEulerAngles(0,0,0),this.startTween=this.customizeController.customizePlayer.tween(this.customizeController.customizePlayer.getLocalEulerAngles()).rotate({x:0,y:180,z:0},.3,pc.Linear),this.startTween2=this.customizeController.customizePlayer.tween(this.customizeController.customizePlayer.getLocalEulerAngles()).rotate({x:0,y:360,z:0},.3,pc.Linear),this.startTween.chain(this.startTween2).start())};var CustomizeController=pc.createScript("customizeController");CustomizeController.attributes.add("buyButtonEntity",{type:"entity"}),CustomizeController.attributes.add("closeButtonEntity",{type:"entity"}),CustomizeController.attributes.add("boughtParticle",{type:"entity"}),CustomizeController.attributes.add("customizePlayer",{type:"entity"}),CustomizeController.attributes.add("colorButton",{type:"entity"}),CustomizeController.attributes.add("faceButton",{type:"entity"}),CustomizeController.attributes.add("hairButton",{type:"entity"}),CustomizeController.attributes.add("colorPanel",{type:"entity"}),CustomizeController.attributes.add("facePanel",{type:"entity"}),CustomizeController.attributes.add("hairPanel",{type:"entity"}),CustomizeController.attributes.add("customizePlayerFace",{type:"entity"}),CustomizeController.attributes.add("faceMats",{type:"asset",assetType:"material",array:!0}),CustomizeController.attributes.add("customizePlayerSkin",{type:"entity"}),CustomizeController.attributes.add("skinColorMats",{type:"asset",assetType:"material",array:!0}),CustomizeController.attributes.add("customizePlayerHairParent",{type:"entity"}),CustomizeController.attributes.add("hairs",{type:"asset",assetType:"template",array:!0}),CustomizeController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.customizeCamera=this.entity.children[0],this.activeInventorySlot=1,this.closeButtonEntity.button.on("click",(function(t){this.entity.fire("CustomizeController:hideMarket")}),this),this.buyButtonEntity.button.on("click",(function(t){let e,o=this.activeSlot.itemData.priceGold,i=!1,n=!1;!0===this.activeSlot.bought?n=!0:null==o||0===o?(o=numRound(this.activeSlot.itemData.pricePower)+" Power",i=!1,0===this.activeSlot.itemData.pricePower&&(o="FREE",n=!0)):(o+=" Gold",i=!0),e=0===this.activeInventorySlot?"New Skin Color":"New Face",i?n?(this.menuController.sound.play("equip"),this.entity.fire("CustomizeController:buyCustomize",this.activeSlot)):this.networkManager.localInv.gold>=this.activeSlot.itemData.priceGold?this.app.fire("popupController:showPopup",e,"Are you sure to buy "+this.activeSlot.itemData.name+" for "+o,!0,this.entity,"CustomizeController:buyCustomize","closePopup",this.activeSlot):this.networkManager.localInv.gold>=3*this.activeSlot.itemData.priceGold/4?(this.menuController.sound.play("failed"),this.app.fire("popupController:showPopup","Insufficent Funds..","Would you like to watch an ad to buy "+this.activeSlot.itemData.name+"?",!0,this.entity,"CustomizeController:buyCustomizeWithAd","closePopup",this.activeSlot,!0)):(this.menuController.sound.play("failed"),this.app.fire("WarningTextController:setWarning","Purchase failed.. You need "+numRound(this.activeSlot.itemData.priceGold-this.networkManager.localInv.gold)+" gold to buy "+this.activeSlot.itemData.name,5)):n?(this.menuController.sound.play("equip"),this.entity.fire("CustomizeController:buyCustomize",this.activeSlot)):this.networkManager.localInv.power>=this.activeSlot.itemData.pricePower?this.app.fire("popupController:showPopup",e,"Are you sure to buy "+this.activeSlot.itemData.name+" for "+o,!0,this.entity,"CustomizeController:buyCustomize","closePopup",this.activeSlot):this.networkManager.localInv.power>=3*this.activeSlot.itemData.pricePower/4?(this.menuController.sound.play("failed"),this.app.fire("popupController:showPopup","Insufficent Funds..","Would you like to watch an ad to buy "+this.activeSlot.itemData.name+"?",!0,this.entity,"CustomizeController:buyCustomizeWithAd","closePopup",this.activeSlot,!0)):(this.menuController.sound.play("failed"),this.app.fire("WarningTextController:setWarning","Purchase failed.. You need "+numRound(this.activeSlot.itemData.pricePower-this.networkManager.localInv.power)+" power to buy "+this.activeSlot.itemData.name,5))}),this),this.colorButton.button.on("click",(function(t){0!==this.activeInventorySlot&&(this.menuController.sound.play("buttonClick2"),this.activeInventorySlot=0,this.faceButton.element.color=new pc.Color(.87,.95,1,1),this.hairButton.element.color=new pc.Color(.87,.95,1,1),this.colorButton.element.color=new pc.Color(1,1,1,1),this.faceButton.setLocalPosition(-431.951,33.5,0),this.hairButton.setLocalPosition(-431.951,-71.994,0),this.colorButton.setLocalPosition(-421.951,140.086,0),this.colorPanel.enabled=!0,this.facePanel.enabled=!1,this.hairPanel.enabled=!1)}),this),this.faceButton.button.on("click",(function(t){1!==this.activeInventorySlot&&(this.menuController.sound.play("buttonClick2"),this.activeInventorySlot=1,this.faceButton.element.color=new pc.Color(1,1,1,1),this.colorButton.element.color=new pc.Color(.87,.95,1,1),this.hairButton.element.color=new pc.Color(.87,.95,1,1),this.faceButton.setLocalPosition(-421.951,33.5,0),this.colorButton.setLocalPosition(-431.951,140.086,0),this.hairButton.setLocalPosition(-431.951,-71.994,0),this.colorPanel.enabled=!1,this.facePanel.enabled=!0,this.hairPanel.enabled=!1)}),this),this.hairButton.button.on("click",(function(t){2!==this.activeInventorySlot&&(this.menuController.sound.play("buttonClick2"),this.activeInventorySlot=2,this.faceButton.element.color=new pc.Color(.87,.95,1,1),this.colorButton.element.color=new pc.Color(.87,.95,1,1),this.hairButton.element.color=new pc.Color(1,1,1,1),this.faceButton.setLocalPosition(-431.951,33.5,0),this.colorButton.setLocalPosition(-431.951,140.086,0),this.hairButton.setLocalPosition(-421.951,-71.994,0),this.colorPanel.enabled=!1,this.facePanel.enabled=!1,this.hairPanel.enabled=!0)}),this),this.entity.on("CustomizeController:buyCustomize",this.buyCustomize,this),this.entity.on("CustomizeController:buyCustomizeWithAd",this.buyCustomizeWithAd,this),this.entity.on("CustomizeController:showMarket",this.showMarket,this),this.entity.on("CustomizeController:hideMarket",this.hideMarket,this)},CustomizeController.prototype.buyCustomize=function(t){this.networkManager.room.send("Client:CustomizeController:buyCustomize",{itemType:t.itemType,type:t.itemData.type})},CustomizeController.prototype.buyCustomizeWithAd=function(t){this.app.isWatchingAd=!0,PokiSDK.rewardedBreak((()=>{this.app.systems.sound.volume=0,this.app.mouse.disablePointerLock()})).then((e=>{e?this.networkManager.room.send("Client:CustomizeController:buyCustomize",{itemType:t.itemType,type:t.itemData.type,ad:!0}):this.app.fire("WarningTextController:setWarning","Ad failed to load :/ ",5),console.log("Rewarded break finished, proceeding to game",e),this.app.systems.sound.volume=1,this.app.isWatchingAd=!1}))},CustomizeController.prototype.showMarket=function(){!0===this.app.gameplayStarted&&(PokiSDK.gameplayStop(),this.app.gameplayStarted=!1),this.app.isCustomizeEnabled=!0,this.customizeCamera.enabled=!0,this.networkManager.buttonsGroup.enabled=!1,this.networkManager.experienceBarParent.enabled=!1,this.networkManager.camera.enabled=!1,this.app.fire("CoinController:destroyCoins"),this.colorPanel.enabled=!1,this.facePanel.enabled=!0,this.hairPanel.enabled=!1,this.app.fire("InventoryController:enableDisableInventory",!1),this.app.fire("InventoryController:enableDisableSkillbar",!1),this.app.fire("CoinController:destroyCoins")},CustomizeController.prototype.hideMarket=function(){!1!==this.app.isCustomizeEnabled&&(this.app.isCustomizeEnabled=!1,this.customizeCamera.enabled=!1,this.networkManager.buttonsGroup.enabled=!0,this.networkManager.experienceBarParent.enabled=!0,this.networkManager.camera.enabled=!0,this.app.fire("InventoryController:enableDisableSkillbar",!0),this.app.isWatchingAd=!0,PokiSDK.commercialBreak((()=>{this.app.systems.sound.volume=0,this.app.mouse.disablePointerLock()})).then((()=>{console.log("Commercial break finished, proceeding to game"),this.app.systems.sound.volume=1,this.app.isWatchingAd=!1})))};const skinColors=[{name:"Standard Skin Color",type:0,priceGold:0,pricePower:0},{name:"Light Skin Color",type:1,priceGold:1e3,pricePower:0},{name:"Brown Skin Color",type:2,priceGold:1e3,pricePower:0},{name:"Red Skin Color",type:3,priceGold:1e6,pricePower:0},{name:"Blue Skin Color",type:4,priceGold:0,pricePower:1e7},{name:"Purple Skin Color",type:5,priceGold:2e6,pricePower:0}];const faces=[{name:"Noob face",type:0,priceGold:0,pricePower:0},{name:"Relax face",type:1,priceGold:1e3,pricePower:0},{name:"Crying face",type:2,priceGold:5e3,pricePower:0},{name:"Eyeliner face",type:3,priceGold:0,pricePower:1e4},{name:"Face with Tongue",type:4,priceGold:0,pricePower:25e3},{name:"WoW face",type:5,priceGold:0,pricePower:1e4},{name:"Happy face",type:6,priceGold:3e3,pricePower:0},{name:"Pro face",type:7,priceGold:5e3,pricePower:0},{name:"Warrior face",type:8,priceGold:0,pricePower:5e4},{name:"Serious face",type:9,priceGold:1e4,pricePower:0},{name:"Pink makeup face",type:10,priceGold:2e4,pricePower:0},{name:"Sleepy face",type:11,priceGold:0,pricePower:75e3},{name:"Kissing face",type:12,priceGold:2e4,pricePower:0},{name:"Cute face",type:13,priceGold:25e3,pricePower:0},{name:"Angry face",type:14,priceGold:0,pricePower:1e5}];const hairs=[{name:"Bald",type:0,priceGold:0,pricePower:0},{name:"Short blond hair",type:1,priceGold:2e3,pricePower:0},{name:"Metalhead",type:2,priceGold:5e3,pricePower:0},{name:"Short brown hair",type:3,priceGold:0,pricePower:1e4},{name:"Long blond hair",type:4,priceGold:0,pricePower:5e4},{name:"Long pink hair",type:5,priceGold:0,pricePower:1e5},{name:"Long brown hair",type:6,priceGold:3e4,pricePower:0}];var MageController=pc.createScript("mageController");MageController.attributes.add("leftButtonEntity",{type:"entity"}),MageController.attributes.add("rightButtonEntity",{type:"entity"}),MageController.attributes.add("priceButtonEntity",{type:"entity"}),MageController.attributes.add("closeButtonEntity",{type:"entity"}),MageController.attributes.add("itemTitle",{type:"entity"}),MageController.attributes.add("itemsParent",{type:"entity"}),MageController.attributes.add("boughtParticle",{type:"entity"}),MageController.attributes.add("statDescText",{type:"entity"}),MageController.attributes.add("statQuestText",{type:"entity"}),MageController.attributes.add("bookImages",{type:"asset",assetType:"texture",array:"true"}),MageController.prototype.postInitialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.priceText=this.priceButtonEntity.children[0].element,this.blacksmithCamera=this.entity.children[0],this.activeItemIndex=0,this.items=this.itemsParent.children,this.priceButtonEntity.button.on("click",(function(t){this.activeSlot.itemData.completedAmount>=this.activeSlot.itemData.requiredAmount?this.networkManager.localInv.level>=this.activeSlot.itemData.requiredLevel?this.buyBook(this.activeSlot):(this.menuController.sound.play("failed"),this.app.fire("WarningTextController:setWarning","Failed.. You need to be level "+this.activeSlot.itemData.requiredLevel,5)):(this.menuController.sound.play("failed"),this.app.fire("WarningTextController:setWarning","Failed.. You need to kill "+(this.activeSlot.itemData.requiredAmount-this.activeSlot.itemData.completedAmount)+" more "+enemyTypes[this.activeSlot.itemData.enemyType].name,5))}),this),this.leftButtonEntity.button.on("click",(function(t){this.menuController.sound.play("buttonClick2"),this.changeItem(this.activeItemIndex-1<0?this.items.length-1:this.activeItemIndex-1),this.setStats(),this.leftButtonTween=this.leftButtonEntity.tween(this.leftButtonEntity.getLocalScale()).to(new pc.Vec3(.8,.8,.8),.06,pc.Linear).yoyo(!0).repeat(2).start()}),this),this.rightButtonEntity.button.on("click",(function(t){this.menuController.sound.play("buttonClick2"),this.changeItem(this.activeItemIndex+1>=this.items.length?0:this.activeItemIndex+1),this.setStats(),this.rightButtonTween=this.rightButtonEntity.tween(this.rightButtonEntity.getLocalScale()).to(new pc.Vec3(.8,.8,.8),.06,pc.Linear).yoyo(!0).repeat(2).start()}),this),this.closeButtonEntity.button.on("click",(function(t){this.menuController.sound.play("close"),this.entity.fire("MageController:hideMarket")}),this);for(let t=0;t<books.length;t++)books[t].mission="Requires level "+books[t].requiredLevel+"\nDefeat "+books[t].completedAmount+"/"+books[t].requiredAmount+' [color="#ff0000"]'+enemyTypes[books[t].enemyType].name+"[/color]";this.entity.on("MageController:buyBook",this.buyBook,this),this.entity.on("MageController:showMarket",this.showMarket,this),this.entity.on("MageController:hideMarket",this.hideMarket,this),this.app.on("enemyDied",this.enemyDied,this),this.on("destroy",(function(){this.app.off("enemyDied",this.enemyDied,this)}))},MageController.prototype.enemyDied=function(t,e=1){for(let i=0;i<books.length;i++)books[i].enemyType===Number(t)&&(books[i].completedAmount+=e,books[i].mission="Requires level "+books[i].requiredLevel+"\nDefeat "+books[i].completedAmount+"/"+books[i].requiredAmount+' [color="#ff0000"]'+enemyTypes[books[i].enemyType].name+"[/color]")},MageController.prototype.buyBook=function(t){this.priceButtonEntity.enabled=!1,this.networkManager.room.send("Client:MageController:buyBook",{itemType:t.itemType,type:t.itemData.type})},MageController.prototype.changeItem=function(t){this.activeItemIndex=t,this.activeSlot=this.items[this.activeItemIndex].script.mageItemController,this.itemData=this.activeSlot.itemData,this.items[this.activeItemIndex].enabled=!0,this.itemsParent.tween(this.itemsParent.getLocalPosition()).to(new pc.Vec3(-15*this.activeItemIndex,0,-8.779),.5,pc.SineOut).yoyo(!1).on("complete",(()=>this.items[t].enabled=t===this.activeItemIndex)).start()},MageController.prototype.setStats=function(){null!=this.itemData&&(this.itemTitle.element.text=this.itemData.name,9===this.activeSlot.itemType&&(this.networkManager.localInv.books.find((t=>t===this.activeSlot.itemData.type))?this.activeSlot.equipped=!0:this.activeSlot.equipped=!1),!0===this.activeSlot.bought?(this.priceButtonEntity.enabled=!1,this.statQuestText.element.text=""):(this.priceButtonEntity.enabled=!0,this.statQuestText.element.text=this.itemData.mission),this.statDescText.element.text=this.itemData.desc)},MageController.prototype.showMarket=function(){!0===this.app.gameplayStarted&&(PokiSDK.gameplayStop(),this.app.gameplayStarted=!1),this.app.isMagicianEnabled=!0,this.blacksmithCamera.enabled=!0,this.networkManager.camera.enabled=!1,this.networkManager.buttonsGroup.enabled=!1,this.networkManager.experienceBarParent.enabled=!1,this.networkManager.healthStatParent.reparent(this.networkManager.statsLayoutVerticalRightSide),this.networkManager.goldStatParent.reparent(this.networkManager.statsLayoutVerticalRightSide),this.networkManager.powerStatParent.reparent(this.networkManager.statsLayoutVerticalRightSide),this.activeSlot=this.items[this.activeItemIndex].script.mageItemController,this.itemData=this.activeSlot.itemData,this.app.fire("InventoryController:enableDisableInventory",!1),this.app.fire("InventoryController:enableDisableSkillbar",!1);for(let t=0;t<books.length;t++){const e=books[t];let i=this.networkManager.localInv.killedEnemyTypes.get(e.enemyType.toString());(isNaN(i)||null==i)&&(i=0),e.completedAmount=Number.parseInt(i),e.mission="Requires level "+e.requiredLevel+"\nDefeat "+e.completedAmount+"/"+e.requiredAmount+' [color="#ff0000"]'+enemyTypes[e.enemyType].name+"[/color]"}this.setStats()},MageController.prototype.hideMarket=function(){!1!==this.app.isMagicianEnabled&&(this.app.isMagicianEnabled=!1,this.blacksmithCamera.enabled=!1,this.networkManager.camera.enabled=!0,this.networkManager.buttonsGroup.enabled=!0,this.networkManager.experienceBarParent.enabled=!0,this.networkManager.healthStatParent.reparent(this.networkManager.statsLayoutVertical),this.networkManager.goldStatParent.reparent(this.networkManager.statsLayoutVertical),this.networkManager.powerStatParent.reparent(this.networkManager.statsLayoutVertical),this.app.fire("InventoryController:enableDisableSkillbar",!0),this.app.isWatchingAd=!0,PokiSDK.commercialBreak((()=>{this.app.systems.sound.volume=0,this.app.mouse.disablePointerLock()})).then((()=>{console.log("Commercial break finished, proceeding to game"),this.app.systems.sound.volume=1,this.app.isWatchingAd=!1})))};var MageItemController=pc.createScript("mageItemController");MageItemController.attributes.add("type",{type:"number"}),MageItemController.attributes.add("itemType",{type:"number",enum:[{book:9}]}),MageItemController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.mageController=this.app.root.findByName("Mage").script.mageController,this.itemData=this.getItemData(),this.equipped=!1,this.networkManager.localInv.books.forEach((t=>this.boughtNewBook(t,!1))),this.app.on("MageItemController:boughtNewBook",this.boughtNewBook,this),this.on("destroy",(function(){this.app.off("MageItemController:boughtNewBook",this.boughtNewBook,this)}))},MageItemController.prototype.boughtEffect=function(){this.menuController.sound.play("success"),this.app.fire("WarningTextController:setWarning","You successfully equiped "+this.itemData.name,5,new pc.Color(0,.9,1,1)),this.mageController.boughtParticle.particlesystem.reset(),this.mageController.boughtParticle.particlesystem.play()},MageItemController.prototype.boughtNewBook=function(t,e=!0){this.type===t&&9===this.itemType&&(this.bought=!0,this.networkManager.localInv.books.find((e=>e===t))?this.equipped=!0:this.equipped=!1,this.mageController.priceButtonEntity.enabled=!1,0!=t&&0!=e&&this.boughtEffect())},MageItemController.prototype.getItemData=function(){if(9===this.itemType)return books[this.type]};const books=[{type:0,name:"",desc:"",completedAmount:0,requiredAmount:0,enemyType:0,requiredLevel:0,damageAmount:0},{type:1,name:"Strike Master",desc:"This book, written with the blood of the mountain giants, enables you to perform a highly powerful top-down strike that lifts you off the ground, allowing you to unleash a devastating attack.",completedAmount:0,requiredAmount:100,enemyType:1,requiredLevel:200,damageAmount:1e5,requiresPower:1e8},{type:2,name:"The Storm Whirl",desc:"This mystical book grants you the ability to unleash a whirlwind of devastating strikes, swiftly striking down your opponents with a ferocious and relentless assault.",completedAmount:0,requiredAmount:50,enemyType:5,requiredLevel:300,damageAmount:1e6,requiresPower:2e8},{type:3,name:"Frostborn Conjuring",desc:"This enchanting book reveals the ancient art of summoning snowmen, allowing you to command their icy powers to aid you in battle. Master the art of frosty conjuring and watch as your enemies freeze in awe.",completedAmount:0,requiredAmount:10,enemyType:6,requiredLevel:400,damageAmount:7e6,requiresPower:1e9},{type:4,name:"Lightning Conduit",desc:"This legendary book empowers you to channel the raw energy of thunderstorms, becoming a living conduit of electric might. Harness the unpredictable force of lightning and strike fear into the hearts of your foes.",completedAmount:0,requiredAmount:100,enemyType:7,requiredLevel:500,damageAmount:2e7,requiresPower:25e8},{type:5,name:"The Arcane Chronoblast",desc:"This mastery book unveils the ability to create temporal explosions, bending the fabric of reality to obliterate everything in their path. Embrace the power of chronomancy and become a master of temporal devastation.",completedAmount:0,requiredAmount:66,enemyType:11,requiredLevel:600,damageAmount:5e7,requiresPower:5e9},{type:6,name:"The Ethereal Rift",desc:"This extraordinary book unveils the secrets of teleportation, allowing you to effortlessly teleport and hit your enemies. Harness the power of the rift and vanish in an instant, reappearing amidst your enemies to deliver swift and decisive blows.",completedAmount:0,requiredAmount:1,enemyType:1,requiredLevel:700,damageAmount:1e8,requiresPower:1e10}];var SlotControllerBook=pc.createScript("slotControllerBook");SlotControllerBook.attributes.add("background",{type:"entity"}),SlotControllerBook.attributes.add("itemImage",{type:"entity"}),SlotControllerBook.attributes.add("itemTitle",{type:"entity"}),SlotControllerBook.attributes.add("itemLevel",{type:"entity"}),SlotControllerBook.prototype.initialize=function(){!0!==this.initialized&&(this.initialized=!0,this.isFull=!1,this.isActiveSlot=!1,this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.inventoryController=this.app.root.findByName("InventoryButton").script.inventoryController,this.mageController=this.app.root.findByName("Mage").script.mageController,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.entity.button.on("click",(function(t){if(null==this.item)return;this.menuController.sound.play("slotClick");null!=this.networkManager.localInv.activeBooks.find((t=>t===this.item.type))?this.networkManager.room.send("Client:SlotControllerBook:equipOrUnequipBook",{type:this.item.type,equip:!1}):(this.app.fire("WarningTextController:setWarning","You successfully equiped "+this.item.name,5,new pc.Color(0,1,0,1)),this.networkManager.room.send("Client:SlotControllerBook:equipOrUnequipBook",{type:this.item.type,equip:!0}))}),this))},SlotControllerBook.prototype.setup=function(t){this.item=t,this.isSword=!1,this.item.name.length>10?this.itemTitle.element.text=this.item.name.substring(0,10)+"..":this.itemTitle.element.text=this.item.name,this.itemLevel.element.text="",this.itemImage.element.texture=this.mageController.bookImages[t.type].resource,this.itemImage.setLocalScale(new pc.Vec3(.5,.5,.5)),this.itemImage.setLocalEulerAngles(0,0,0),this.isFull=!0},SlotControllerBook.prototype.setSlotActive=function(t){null==this.inventoryController&&(this.inventoryController=this.app.root.findByName("InventoryButton").script.inventoryController),t?(this.entity.element.sprite=this.inventoryController.slotImages[2].resource,this.isActiveSlot=!0):(this.entity.element.sprite=this.inventoryController.slotImages[0].resource,this.isActiveSlot=!1)},SlotControllerBook.prototype.setupEmpty=function(){this.initialize(),this.item=null,this.itemTitle.element.text="",this.itemLevel.element.text="",this.itemImage.element.texture=this.mageController.bookImages[0].resource,this.background.element.color=new pc.Color(1,1,1,1),this.inventoryController.detailPanelEquipButton.button.off("click"),this.inventoryController.detailPanelMergeButton.button.off("click"),this.inventoryController.detailPanelSellButton.button.off("click"),this.inventoryController.detailPanelEquipButton.enabled=!0,this.inventoryController.detailPanelMergeButton.enabled=!1,this.inventoryController.detailPanelSellButton.enabled=!1,this.isActiveSlot=!1,this.isFull=!1};var PlayerSkillController=pc.createScript("playerSkillController");PlayerSkillController.attributes.add("skillTemplates",{type:"asset",assetType:"template",array:!0}),PlayerSkillController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.playerController=this.entity.script.playerController,this.cameraShakeController=this.app.root.findByName("Camera").script.cameraShakeController;const t=this.app.root.findByName("Mage");t&&(this.mageController=t.script.mageController),this.isPerformingSkillAnimation=!1,!0===this.entity.isLocalPlayer&&(this.skillLayout=this.app.root.findByName("SkillLayout"),this.setupSkillButtons()),this.app.on("Server:PlayerSkillController:useSkill",this.callSkillFromBookType,this),this.on("destroy",(function(){this.app.off("Server:PlayerSkillController:useSkill"),clearTimeout(this.resetOverrideLayerTimeout)}),this)},PlayerSkillController.prototype.update=function(t){!1!==this.entity.isLocalPlayer&&((this.app.keyboard.wasPressed(pc.KEY_1)||this.app.keyboard.wasPressed(pc.KEY_NUMPAD_1))&&this.skillButton_0.button.fire("click"),(this.app.keyboard.wasPressed(pc.KEY_2)||this.app.keyboard.wasPressed(pc.KEY_NUMPAD_2))&&this.skillButton_1.button.fire("click"),(this.app.keyboard.wasPressed(pc.KEY_3)||this.app.keyboard.wasPressed(pc.KEY_NUMPAD_3))&&this.skillButton_2.button.fire("click"))},PlayerSkillController.prototype.setupSkillButtons=function(){!1!==this.entity.isLocalPlayer&&(this.skillButton_0=this.skillLayout.children[0],this.skillButton_0_image=this.skillButton_0.children[1],this.skillButton_1=this.skillLayout.children[1],this.skillButton_1_image=this.skillButton_1.children[1],this.skillButton_2=this.skillLayout.children[2],this.skillButton_2_image=this.skillButton_2.children[1],this.skillButton_0.button.off("click"),this.skillButton_1.button.off("click"),this.skillButton_2.button.off("click"),this.skillButton_0.button.on("click",(function(t){this.callSkillFromBookType(this.skillButton_0)}),this),this.skillButton_1.button.on("click",(function(t){this.callSkillFromBookType(this.skillButton_1)}),this),this.skillButton_2.button.on("click",(function(t){this.callSkillFromBookType(this.skillButton_2)}),this))},PlayerSkillController.prototype.callSkillFromBookType=function(t){const e=null!=t.skillPlayerSessionId;let i;1===t.bookType?i="Skill_StrikeMaster":2===t.bookType?i="Skill_TheStormWhirl":3===t.bookType?i="Skill_FrostbornConjuring":4===t.bookType?i="Skill_LightningConduit":5===t.bookType&&(i="Skill_ArcaneChronoblast"),null!=i&&(0==e?this.networkManager.localInv.power>=books[t.bookType].requiresPower?(this.networkManager.room.send("Client:PlayerSkillController:callSkill",t.bookType),this.useSkill(i,!0),this.app.fire("WarningTextController:setWarning","-"+numRound(books[t.bookType].requiresPower)+" Power",3,new pc.Color(1,.9,0,1))):this.app.fire("WarningTextController:setWarning","Failed to use book.. You need "+numRound(books[t.bookType].requiresPower-this.networkManager.localInv.power)+" Power",3,new pc.Color(1,0,0,1)):e&&t.skillPlayerSessionId===this.entity.sessionId&&this.useSkill(i,!1))},PlayerSkillController.prototype.setupSkillSlots=function(){if(!1===this.entity.isLocalPlayer)return;this.skillButton_0.enabled=!1,this.skillButton_1.enabled=!1,this.skillButton_2.enabled=!1,this.skillButton_0.bookType=0,this.skillButton_1.bookType=0,this.skillButton_2.bookType=0;let t=0;for(let e=0;e<this.playerController.inv.activeBooks.length;e++)0!=this.playerController.inv.activeBooks[e]&&(t+=1);1===t?this.skillButton_0.enabled=!0:2===t?(this.skillButton_0.enabled=!0,this.skillButton_1.enabled=!0):3===t&&(this.skillButton_0.enabled=!0,this.skillButton_1.enabled=!0,this.skillButton_2.enabled=!0),t=0;for(let e=0;e<this.playerController.inv.activeBooks.length;e++){const i=this.playerController.inv.activeBooks[e];0!=i&&(0===t?(this.skillButton_0.bookType=i,this.skillButton_0_image.element.texture=this.mageController.bookImages[i].resource):1===t?(this.skillButton_1.bookType=i,this.skillButton_1_image.element.texture=this.mageController.bookImages[i].resource):2===t&&(this.skillButton_2.bookType=i,this.skillButton_2_image.element.texture=this.mageController.bookImages[i].resource),t++)}},PlayerSkillController.prototype.useSkill=function(t,e){if(!0===this.isPerformingSkillAnimation||!0===this.entity.anim.getBoolean("isDied"))return;let i;if(this.entity.anim.setBoolean("isRunning",!1),this.entity.anim.setTrigger(t,!0),this.playerController.overrideLayer.weight=1,this.isPerformingSkillAnimation=!0,this.resetOverrideLayerTimeout&&clearTimeout(this.resetOverrideLayerTimeout),this.uiTween(!0),"Skill_StrikeMaster"===t){this.entity.sound.play("skill1"),i=2100,this.playerController.pickupSwordInHand(),this.playerController.pickupShieldInHand(),clearInterval(this.strikeMasterInterval);let t=0;var l=new pc.Vec3,o=new pc.Vec3;this.entity.isLocalPlayer&&e&&this.cameraShakeController.shakeEffect_0(),this.strikeMasterInterval=setInterval((()=>{if(t>=30)clearInterval(this.strikeMasterInterval);else{if(t>20){if(21==t){this.entity.isLocalPlayer&&e&&this.cameraShakeController.shakeEffect_1();const t=this.entity.getPosition().clone().add(new pc.Vec3(0,-50,0)),i=this.app.systems.rigidbody.raycastAll(this.entity.getPosition(),t);for(let t=0;t<i.length;t++){if(!0===i[t].entity.tags.has("Ground")){s=i[t].point.y;break}}a=this.entity.getPosition().clone(),startDir=this.playerController.playerModel.forward.clone().mulScalar(-1),startRightDir=this.playerController.playerModel.right.clone().mulScalar(3),l.add2(this.playerController.playerModel.forward.clone().mulScalar(-3),this.playerController.playerModel.right).normalize(),o.add2(this.playerController.playerModel.forward.clone().mulScalar(-3),this.playerController.playerModel.right.clone().mulScalar(-1)).normalize();const n=this.skillTemplates[1].resource.instantiate(),r=new pc.Vec3(.05,.05,.05);n.setLocalScale(0,0,0),n.tween(n.getLocalScale()).to(r,.5,pc.SineOut).start(),n.setPosition(a.x,s+1,a.z),this.app.root.addChild(n)}if(23==t){const t=this.skillTemplates[1].resource.instantiate(),e=new pc.Vec3(.04,.04,.04);t.setLocalScale(0,0,0),t.tween(t.getLocalScale()).to(e,.5,pc.SineOut).start(),t.setPosition(a.x,s+1,a.z),this.app.root.addChild(t)}const i=this.skillTemplates[t%2*8].resource.instantiate();i.skillType=1,i.isThisPlayerUsingSkill=e;const n=(t-17)*(t-17)/t,r=new pc.Vec3(n,n,n);i.setLocalScale(0,0,0),i.tween(i.getLocalScale()).to(r,.3,pc.SineOut).start(),i.setPosition(a.x+l.x*(3*t-58),25,a.z+l.z*(3*t-58));const c=i.getPosition().clone().add(new pc.Vec3(0,-50,0)),h=i.getPosition().clone().add(new pc.Vec3(0,50,0)),p=this.app.systems.rigidbody.raycastAll(h,c);for(let t=0;t<p.length;t++){if(!0===p[t].entity.tags.has("Ground")){s=p[t].point.y;break}}i.setPosition(i.getPosition().x,s,i.getPosition().z);const d=new pc.Quat;d.setFromEulerAngles(90*Math.random()-45,90*Math.random()-45,90*Math.random()-45),i.setRotation(d),this.app.root.addChild(i);const y=this.skillTemplates[t%2*8].resource.instantiate();y.skillType=1,y.isThisPlayerUsingSkill=e,y.setLocalScale(0,0,0),y.tween(y.getLocalScale()).to(r,.3,pc.SineOut).start(),y.setPosition(a.x+o.x*(3*t-58),25,a.z+o.z*(3*t-58)),y.setPosition(y.getPosition().x,s,y.getPosition().z);const k=new pc.Quat;k.setFromEulerAngles(90*Math.random()-45,90*Math.random()-45,90*Math.random()-45),y.setRotation(k),this.app.root.addChild(y)}t++}}),50)}else if("Skill_TheStormWhirl"===t){this.entity.sound.play("skill2"),i=2200;const t=this.skillTemplates[2].resource.instantiate();t.skillType=2,t.isThisPlayerUsingSkill=e,this.entity.addChild(t),t.setLocalPosition(0,2,0)}else if("Skill_FrostbornConjuring"===t){this.entity.sound.play("skill3"),i=2500;const t=this.skillTemplates[3].resource.instantiate();this.playerController.swordParent.addChild(t),t.setLocalPosition(0,0,0);const l=this.skillTemplates[3].resource.instantiate();this.playerController.shieldParent.addChild(l),l.setLocalPosition(0,0,0),clearInterval(this.frostbornInterval);let o=0;this.entity.isLocalPlayer&&e&&this.cameraShakeController.shakeEffect_0(),this.frostbornInterval=setInterval((()=>{if(o>=35)clearInterval(this.frostbornInterval);else{if(o>20){if(21==o){this.entity.isLocalPlayer&&e&&this.cameraShakeController.shakeEffect_1();const t=this.entity.getPosition().clone().add(new pc.Vec3(0,-50,0)),i=this.entity.getPosition().clone().add(new pc.Vec3(0,50,0)),l=this.app.systems.rigidbody.raycastAll(i,t);for(let t=0;t<l.length;t++){if(!0===l[t].entity.tags.has("Ground")){s=l[t].point.y;break}}a=this.entity.getPosition().clone(),startDir=this.playerController.playerModel.forward.clone().mulScalar(-1),startRightDir=this.playerController.playerModel.right.clone().mulScalar(3);const o=this.skillTemplates[1].resource.instantiate(),n=new pc.Vec3(0,0,0);o.setLocalScale(.05,.05,.05),o.tween(o.getLocalScale()).to(n,.5,pc.SineOut).start(),o.setPosition(a.x,s+1,a.z),this.app.root.addChild(o)}if(23==o){const t=this.skillTemplates[1].resource.instantiate(),e=new pc.Vec3(.04,.04,.04);t.setLocalScale(0,0,0),t.tween(t.getLocalScale()).to(e,.5,pc.SineOut).start(),t.setPosition(a.x,s+1,a.z),this.app.root.addChild(t)}const t=this.skillTemplates[4].resource.instantiate();t.skillType=3,t.isThisPlayerUsingSkill=e;const i=(o-17)*(o-17)/o,l=new pc.Vec3(i,i,i);t.setLocalScale(0,0,0),t.tween(t.getLocalScale()).to(l,.3,pc.SineOut).start(),t.setPosition(a.x+startDir.x*(3*o-58),25,a.z+startDir.z*(3*o-58));const n=t.getPosition().clone().add(new pc.Vec3(0,-50,0)),r=t.getPosition().clone().add(new pc.Vec3(0,50,0)),c=this.app.systems.rigidbody.raycastAll(r,n);for(let t=0;t<c.length;t++){if(!0===c[t].entity.tags.has("Ground")){s=c[t].point.y;break}}t.setPosition(t.getPosition().x,s,t.getPosition().z);const h=new pc.Quat;h.setFromEulerAngles(50*Math.random()-25,50*Math.random()-25,50*Math.random()-25),t.setRotation(h),this.app.root.addChild(t)}o++}}),50)}else if("Skill_LightningConduit"===t){this.entity.sound.play("skill4"),i=2600,clearInterval(this.lightningConduitInterval);let t=0;var s,a=this.entity.getPosition().clone();const l=this.entity.getPosition().clone().add(new pc.Vec3(0,-50,0)),o=this.entity.getPosition().clone().add(new pc.Vec3(0,50,0)),n=this.app.systems.rigidbody.raycastAll(o,l);for(let t=0;t<n.length;t++){if(!0===n[t].entity.tags.has("Ground")){s=n[t].point.y;break}}this.entity.isLocalPlayer&&e&&this.cameraShakeController.shakeEffect_0(),this.lightningConduitInterval=setInterval((()=>{if(t>=30)clearInterval(this.lightningConduitInterval);else{if(t>20){if(21==t){this.entity.isLocalPlayer&&e&&this.cameraShakeController.shakeEffect_1();const t=this.skillTemplates[6].resource.instantiate();t.skillType=4,t.isThisPlayerUsingSkill=e;const i=new pc.Vec3(.075,.075,.075);t.setLocalScale(0,0,0),t.tween(t.getLocalScale()).to(i,.5,pc.Linear).start(),this.entity.addChild(t),t.setLocalPosition(0,1,0)}}else if(1==t){const t=this.skillTemplates[1].resource.instantiate(),e=new pc.Vec3(0,0,0);t.setLocalScale(.05,.05,.05),t.tween(t.getLocalScale()).to(e,1.5,pc.SineOut).start(),this.entity.addChild(t),t.setLocalPosition(0,1,0)}else if(7==t){const t=this.skillTemplates[1].resource.instantiate(),e=new pc.Vec3(0,0,0);t.setLocalScale(.05,.05,.05),t.tween(t.getLocalScale()).to(e,1.2,pc.SineOut).start(),this.entity.addChild(t),t.setLocalPosition(0,0,0)}else if(12==t){const t=this.skillTemplates[1].resource.instantiate(),e=new pc.Vec3(0,0,0);t.setLocalScale(.05,.05,.05),t.tween(t.getLocalScale()).to(e,1,pc.SineOut).start(),this.entity.addChild(t),t.setLocalPosition(0,1,0)}else if(16==t){const t=this.skillTemplates[1].resource.instantiate(),e=new pc.Vec3(0,0,0);t.setLocalScale(.05,.05,.05),t.tween(t.getLocalScale()).to(e,.8,pc.SineOut).start(),this.entity.addChild(t),t.setLocalPosition(0,0,0)}else if(18==t){const t=this.skillTemplates[1].resource.instantiate(),e=new pc.Vec3(0,0,0);t.setLocalScale(.05,.05,.05),t.tween(t.getLocalScale()).to(e,.6,pc.SineOut).start(),this.entity.addChild(t),t.setLocalPosition(0,1,0)}t++}}),50)}else if("Skill_ArcaneChronoblast"===t){this.entity.sound.play("skill5"),i=1100,clearInterval(this.lightningConduitInterval);let t=0;var n;a=this.entity.getPosition().clone();this.entity.isLocalPlayer&&e&&this.cameraShakeController.shakeEffect_0(),this.lightningConduitInterval=setInterval((()=>{if(t>=10)clearInterval(this.lightningConduitInterval);else{if(t>5){if(6==t){this.entity.isLocalPlayer&&e&&this.cameraShakeController.shakeEffect_1();const t=this.skillTemplates[1].resource.instantiate(),i=new pc.Vec3(5,5,5);t.setLocalScale(0,0,0),t.tween(t.getLocalScale()).to(i,.35,pc.Linear).on("complete",(()=>{t.destroy()})).start(),this.playerController.playerModel.addChild(t),t.setLocalPosition(0,200,200),t.setLocalEulerAngles(90,0,0)}}else if(0==t){const t=this.skillTemplates[5].resource.instantiate(),i=new pc.Vec3(200,200,200);t.setLocalScale(0,0,0),t.tween(t.getLocalScale()).to(i,.2,pc.Linear).start(),this.playerController.playerModel.addChild(t),t.setLocalPosition(0,700,400),t.tween(t.getLocalPosition()).to(new pc.Vec3(0,200,200),.3,pc.Linear).on("complete",(()=>{t.reparent(this.app.root),t.setLocalScale(2,2,2);const i=this.entity.getPosition().clone();i.x+=this.playerController.playerModel.forward.mulScalar(-2).x,i.z+=this.playerController.playerModel.forward.mulScalar(-2).z,i.y=this.playerController.playerModel.getPosition().y+2,t.setLocalPosition(i);const l=t.getPosition().clone().add(this.playerController.playerModel.forward.clone().mulScalar(-20)).add(new pc.Vec3(0,-50,0)),o=this.app.systems.rigidbody.raycastAll(t.getPosition().clone().add(this.playerController.playerModel.forward.clone().mulScalar(-20)).add(new pc.Vec3(0,50,0)),l);for(let t=0;t<o.length;t++){if(!0===o[t].entity.tags.has("Ground")){n=o[t].point.y;break}}const s=t.getPosition().clone().add(this.playerController.playerModel.forward.clone().mulScalar(-20));s.y=n+1,t.tween(t.getLocalPosition()).to(s,.5,pc.Linear).on("complete",(()=>{clearInterval(this.bombInterval);let i=0;var l,o,s=new pc.Vec3,a=new pc.Vec3;this.bombInterval=setInterval((()=>{if(i>=10)return void clearInterval(this.bombInterval);if(0==i){const e=t.getPosition().clone().add(new pc.Vec3(0,-50,0)),i=t.getPosition().clone().add(new pc.Vec3(0,50,0)),n=this.app.systems.rigidbody.raycastAll(i,e);for(let t=0;t<n.length;t++){if(!0===n[t].entity.tags.has("Ground")){o=n[t].point.y;break}}l=t.getPosition().clone(),startDir=t.forward.clone().mulScalar(-1),startDir2=t.forward.clone(),startRightDir=t.right.clone(),startRightDir2=t.right.clone().mulScalar(-1),s.add2(this.playerController.playerModel.forward.clone().mulScalar(-3),this.playerController.playerModel.right).normalize(),a.add2(this.playerController.playerModel.forward.clone().mulScalar(-3),this.playerController.playerModel.right.clone().mulScalar(-1)).normalize()}if(3==i){const i=this.skillTemplates[7].resource.instantiate();i.skillType=5,i.isThisPlayerUsingSkill=e;const s=new pc.Vec3(.08,.08,.08);i.setLocalScale(0,0,0),i.tween(i.getLocalScale()).to(s,.4,pc.Linear).on("complete",(()=>{i.destroy()})).start(),i.setPosition(l.x,o+1,l.z),this.app.root.addChild(i),t.destroy()}const n=this.skillTemplates[8].resource.instantiate();n.skillType=5,n.isThisPlayerUsingSkill=e;const r=i/3,c=new pc.Vec3(r,r,r);n.setLocalScale(0,0,0),n.tween(n.getLocalScale()).to(c,.3,pc.SineOut).start(),n.setPosition(l.x+startDir.x*(3*i-5),25,l.z+startDir.z*(3*i-5));const h=n.getPosition().clone().add(new pc.Vec3(0,-50,0)),p=n.getPosition().clone().add(new pc.Vec3(0,50,0)),d=this.app.systems.rigidbody.raycastAll(p,h);for(let t=0;t<d.length;t++){if(!0===d[t].entity.tags.has("Ground")){o=d[t].point.y;break}}n.setPosition(n.getPosition().x,o,n.getPosition().z);const y=new pc.Quat;y.setFromEulerAngles(90*Math.random()-45,90*Math.random()-45,90*Math.random()-45),n.setRotation(y),this.app.root.addChild(n);const k=this.skillTemplates[8].resource.instantiate();k.skillType=5,k.isThisPlayerUsingSkill=e,k.setLocalScale(0,0,0),k.tween(k.getLocalScale()).to(c,.3,pc.SineOut).start(),k.setPosition(l.x+startRightDir.x*(3*i-5),25,l.z+startRightDir.z*(3*i-5)),k.setPosition(k.getPosition().x,o,k.getPosition().z);const u=new pc.Quat;u.setFromEulerAngles(90*Math.random()-45,90*Math.random()-45,90*Math.random()-45),k.setRotation(u),this.app.root.addChild(k);const g=this.skillTemplates[8].resource.instantiate();g.skillType=5,g.isThisPlayerUsingSkill=e,g.setLocalScale(0,0,0),g.tween(g.getLocalScale()).to(c,.3,pc.SineOut).start(),g.setPosition(l.x+startRightDir2.x*(3*i-5),25,l.z+startRightDir2.z*(3*i-5)),g.setPosition(g.getPosition().x,o,g.getPosition().z);const m=new pc.Quat;m.setFromEulerAngles(90*Math.random()-45,90*Math.random()-45,90*Math.random()-45),g.setRotation(m),this.app.root.addChild(g);const S=this.skillTemplates[8].resource.instantiate();S.skillType=5,S.isThisPlayerUsingSkill=e,S.setLocalScale(0,0,0),S.tween(S.getLocalScale()).to(c,.3,pc.SineOut).start(),S.setPosition(l.x+startDir2.x*(3*i-5),25,l.z+startDir2.z*(3*i-5)),S.setPosition(S.getPosition().x,o,S.getPosition().z);const P=new pc.Quat;P.setFromEulerAngles(90*Math.random()-45,90*Math.random()-45,90*Math.random()-45),S.setRotation(P),this.app.root.addChild(S),i++}),20)})).start()})).start()}t++}}),50)}this.resetOverrideLayerTimeout=setTimeout((()=>{if(!0===this.entity.anim.getBoolean("isDied"))return this.isPerformingSkillAnimation=!1,this.resetOverrideLayerTimeout=null,void this.uiTween(!1);this.skillOver(),this.resetOverrideLayerTimeout=null}),i)},PlayerSkillController.prototype.skillOver=function(){this.playerController.overrideLayer.weight=0,this.isPerformingSkillAnimation=!1,this.playerController.putSwordBack(),this.playerController.putShieldBack(),this.uiTween(!1)},PlayerSkillController.prototype.uiTween=function(t=!1){!1!==this.entity.isLocalPlayer&&(this.uiTweenAnim&&this.uiTweenAnim.stop(),!0===t?(this.skillLayout.setLocalPosition(new pc.Vec3(0,52.894,0)),this.uiTweenAnim=this.skillLayout.tween(this.skillLayout.getLocalPosition()).to(new pc.Vec3(0,-100,0),.2,pc.SineIn).on("complete",(()=>{this.uiTweenAnim=null,this.skillLayout.enabled=!1})).start()):(this.skillLayout.enabled=!0,this.skillLayout.setLocalPosition(new pc.Vec3(0,-100,0)),this.uiTweenAnim=this.skillLayout.tween(this.skillLayout.getLocalPosition()).to(new pc.Vec3(0,35,0),.3,pc.SineOut).on("complete",(()=>{this.uiTweenAnim=null})).start()))};var Destroyer=pc.createScript("destroyer");Destroyer.attributes.add("delay",{type:"number",default:3}),Destroyer.attributes.add("speed",{type:"number",default:1}),Destroyer.prototype.initialize=function(){const t=this.entity.getLocalPosition().clone();t.y-=100,this.entity.tween(this.entity.getLocalPosition()).to(t,this.speed,pc.SineOut).delay(this.delay).on("complete",(()=>{this.entity.destroy()})).start()};var CameraShakeController=pc.createScript("cameraShakeController");CameraShakeController.prototype.initialize=function(){this.pov={value:55}},CameraShakeController.prototype.shakeEffect_0=function(){const t=this.entity.tween(this.pov).to({value:75},1,pc.SinOut).on("update",(t=>{this.entity.camera.fov=this.pov.value})),e=this.entity.tween(this.pov).to({value:55},.2,pc.SinOut).on("update",(t=>{this.entity.camera.fov=this.pov.value}));t.chain(e).start()},CameraShakeController.prototype.shakeEffect_1=function(){const t=this.entity.parent.getLocalPosition().clone();t.x+=2*Math.random()-1,t.z+=2*Math.random()-1,this.entity.tween(this.entity.parent.getLocalPosition()).to(t,.1,pc.SineIn).yoyo(!0).repeat(4).start()};var SpinObject=pc.createScript("spinObject");SpinObject.attributes.add("spinVector",{type:"vec3"}),SpinObject.prototype.update=function(t){var e=new pc.Vec3;e.copy(this.spinVector),this.entity.rotateLocal(e.x*t,e.y*t,e.z*t)};var DamageGiver=pc.createScript("damageGiver");DamageGiver.attributes.add("time",{type:"number",default:3}),DamageGiver.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.counter=0,this.entity.collision.on("triggerenter",(function(e){if(null!=this.entity.skillType)if(e.tags.has("Player")&&1!=this.entity.isThisPlayerUsingSkill&&-1===this.networkManager.worldNumber){this.networkManager.room.send("Client:EnemyController:playerGotDamage",{isSkillDamage:!0,skillType:this.entity.skillType});const t=e.getPosition().clone().sub(this.entity.getPosition()).mul(new pc.Vec3(20,1,20));e.script.playerController.getDamage(t)}else e.script&&(e.tags.has("Enemy")||null!=e.script.enemyController)&&this.entity.isThisPlayerUsingSkill&&this.networkManager.room.send("Client:EnemyController:checkDamage",{enemyId:e.enemyId,isSkillDamage:!0,skillType:this.entity.skillType})}),this)},DamageGiver.prototype.update=function(e){this.counter+=e,this.counter>this.time&&(this.entity.collision.off("triggerenter"),this.enabled=!1)};var PhysicsLayer=pc.createScript("physicsLayer");PhysicsLayer.attributes.add("groupA",{type:"boolean",default:!0,title:"Group A"}),PhysicsLayer.attributes.add("groupB",{type:"boolean",default:!1,title:"Group B"}),PhysicsLayer.attributes.add("groupC",{type:"boolean",default:!1,title:"Group C"}),PhysicsLayer.attributes.add("groupD",{type:"boolean",default:!1,title:"Group D"}),PhysicsLayer.attributes.add("maskAll",{type:"boolean",default:!1,title:"Mask All"}),PhysicsLayer.attributes.add("maskA",{type:"boolean",default:!0,title:"Mask A"}),PhysicsLayer.attributes.add("maskB",{type:"boolean",default:!1,title:"Mask B"}),PhysicsLayer.attributes.add("maskC",{type:"boolean",default:!1,title:"Mask C"}),PhysicsLayer.attributes.add("maskD",{type:"boolean",default:!1,title:"Mask D"}),PhysicsLayer.prototype.initialize=function(){var t=this.entity.rigidbody;this.groupA&&(t.group|=pc.BODYGROUP_USER_1),this.groupB&&(t.group|=pc.BODYGROUP_USER_2),this.groupC&&(t.group|=pc.BODYGROUP_USER_3),this.groupD&&(t.group|=pc.BODYGROUP_USER_4),t.mask=pc.BODYGROUP_TRIGGER,this.maskAll&&(t.mask|=pc.BODYMASK_ALL),this.maskA&&(t.mask|=pc.BODYGROUP_USER_1),this.maskB&&(t.mask|=pc.BODYGROUP_USER_2),this.maskC&&(t.mask|=pc.BODYGROUP_USER_3),this.maskD&&(t.mask|=pc.BODYGROUP_USER_4)};var ChestController=pc.createScript("chestController");ChestController.attributes.add("chestType",{type:"number",enum:[{empty:0},{"Frozen Chest":1},{"Pirates Chest":2},{"Orc's Power Chest":3},{"Discord Chest":4},{"Sky Chest":5},{"Snowman's Chest":6},{"King's Chest #1":7},{"King's Chest #2":8},{"King's Chest #3":9},{"King's Chest #4":10},{"King's Treasure":11},{"Demon's Power":12}]}),ChestController.attributes.add("chestImageType",{type:"number",enum:[{empty:0},{"Gold Chest":1},{"Power Chest":2},{"Frozen Chest":3}]}),ChestController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.coinPool=this.app.root.findByName("CoinPool").script.PoolController,this.chestModel=this.entity.children[0],1===this.chestType?this.setChestTween():this.startY=this.entity.getLocalPosition().y,this.setTrigger(),this.chest=chests[this.chestType],this.entity.on("ChestController:openChestAndLink",this.openChestAndLink,this),this.entity.on("ChestController:openChest",this.openChest,this),this.entity.on("ChestController:openChestRewarded",this.openChestRewarded,this),this.app.on("ChestController:ChestClaimed",(t=>{t==this.chestType&&this.destroyChest()}),this),this.on("destroy",(function(){this.app.off("ChestController:ChestClaimed")}),this)},ChestController.prototype.setTrigger=function(){this.entity.collision.on("triggerenter",(function(t){t.tags.has("Player")&&(4===this.chestType?this.app.fire("rewardPopupController:showPopup",this.chest.title,"Join our Discord to open the chest!",this.entity,"ChestController:openChestAndLink",""):this.app.fire("rewardPopupController:showPopup",this.chest.title,"Would you like to open the chest?",this.entity,"ChestController:openChest","ChestController:openChestRewarded"))}),this),this.entity.collision.on("triggerleave",(function(t){t.tags.has("Player")&&(this.app.fire("rewardPopupController:hidePopup"),this.menuController.sound.play("close"))}),this)},ChestController.prototype.openChestAndLink=function(){window.open("https://discord.com/invite/tnderadSdy"),this.networkManager.room.send("Client:ChestController:openChest",{chestId:this.chestType,isRewarded:!1}),this.chestModel.anim.setTrigger("open",!0),0!=this.chest.rewardGold?this.dropCoin(this.chest.spawnAmount):this.dropPower(this.chest.spawnAmount),this.disableChest()},ChestController.prototype.openChest=function(){this.menuController.sound.play("chest"),this.networkManager.room.send("Client:ChestController:openChest",{chestId:this.chestType,isRewarded:!1}),this.chestModel.anim.setTrigger("open",!0),0!=this.chest.rewardGold?this.dropCoin(this.chest.spawnAmount):this.dropPower(this.chest.spawnAmount),this.disableChest()},ChestController.prototype.openChestRewarded=function(){this.app.isWatchingAd=!0,PokiSDK.rewardedBreak((()=>{this.app.systems.sound.volume=0,this.app.mouse.disablePointerLock()})).then((t=>{t&&(this.menuController.sound.play("chest"),this.networkManager.room.send("Client:ChestController:openChest",{chestId:this.chestType,isRewarded:!0}),this.chestModel.anim.setTrigger("open",!0),0!=this.chest.rewardGold?this.dropCoin(2*this.chest.spawnAmount):this.dropPower(2*this.chest.spawnAmount),this.disableChest()),console.log("Rewarded break finished, proceeding to game",t),this.app.systems.sound.volume=1,this.app.isWatchingAd=!1}))},ChestController.prototype.dropPower=function(t){if(this.networkManager.poppingTextTween(t,[0,128,255],!1),(t-=1)>0){const e=setInterval((()=>{if(0==t)return this.destroyChest(),void clearInterval(e);t-=1,this.networkManager.poppingTextTween(this.chest.rewardPower,[0,128,255],!1)}),50)}},ChestController.prototype.dropCoin=function(t){if(this.dropCoinImpl(),(t-=1)>0){const e=setInterval((()=>{if(0==t)return this.destroyChest(),void clearInterval(e);t-=1,this.dropCoinImpl()}),50)}},ChestController.prototype.dropCoinImpl=function(){this.networkManager.activeCoinCount+=1;const t=this.coinPool.get(),e=this.entity.getPosition().clone();e.y=this.startY,t.setPosition(e),t.firstY=this.startY+1;const o=2*Math.random()*Math.PI,s=3+Math.random()+5,n=s*Math.cos(o),i=s*Math.sin(o),r=pc.math.random(3,5),h=e.clone().add(new pc.Vec3(n,r,i));t.enemyType=0,t.enabled=!0,t.amount=this.chest.rewardGold;const l=(Math.random()-.5)/6;t.setLocalScale(.8+l,.8+l,.8+l),t.collision.enabled=!0,t.tween(t.getLocalPosition()).to(h,.4,pc.QuinticInOut).on("complete",(()=>{h.y=t.firstY,t&&t.tween(t.getLocalPosition()).to(h,.4,pc.SineIn).start()})).start()},ChestController.prototype.setChestTween=function(){var t=0;const e=this.chestModel.getLocalPosition().clone();e.y-=1,this.startY=e.y;const o=new pc.Quat;this.chestModel.tween(this.chestModel.getLocalPosition()).to(e,.5,pc.SineInOut).on("update",(e=>{t+=e,o.setFromEulerAngles(0,200*t,0),this.chestModel.setRotation(o)})).yoyo(!0).loop(!0).start()},ChestController.prototype.destroyChest=function(){this.entity.tween(this.entity.getLocalScale()).to(pc.Vec3.ZERO,.5,pc.SineInOut).on("complete",(()=>{this.entity.destroy()})).start()},ChestController.prototype.disableChest=function(){this.entity.collision.off("triggerenter"),this.entity.collision.on("triggerleave")};var RewardPopupController=pc.createScript("rewardPopupController");RewardPopupController.attributes.add("chestImage",{type:"entity"}),RewardPopupController.attributes.add("chestImages",{type:"asset",assetType:"texture",array:!0}),RewardPopupController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.popup=this.entity.children[0],this.closeButton=this.popup.children[0],this.title=this.popup.children[1].element,this.desc=this.popup.children[2].element,this.firstButton=this.popup.children[3].children[0],this.secondButton=this.popup.children[3].children[1],this.hidden=!1,this.app.on("rewardPopupController:showPopup",this.showPopup,this),this.app.on("rewardPopupController:hidePopup",this.hidePopup,this),this.on("destroy",(function(){this.app.off("rewardPopupController:showPopup",this.showPopup,this)}),this)},RewardPopupController.prototype.hidePopup=function(){this.setTween(!1)},RewardPopupController.prototype.showPopup=function(t,e,o,n,i,p){this.title.text=t,this.desc.text=e,this.chestImage.element.texture=this.chestImages[o.script.chestController.chestImageType].resource,this.closeButton.button.on("click",(function(t){this.setTween(!1)}),this),this.firstButton.button.on("click",(function(t){o.fire(n,p),this.setTween(!1)}),this),this.secondButton.enabled=""!=i,this.secondButton.button.on("click",(function(t){o.fire(i,p),this.setTween(!1)}),this),this.setTween(!0)},RewardPopupController.prototype.setTween=function(t){if(this.popup.enabled=!0,t)this.menuController.sound.play("popup"),this.app.isRewardPopupEnabled=!0,this.hidden=!1,this.networkManager.blackBackground.enabled=!0,this.data={value:0},this.networkManager.blackBackground.tween(this.data).to({value:.5},.2,pc.SineOut).on("update",(t=>{this.networkManager.blackBackground.element.opacity=this.data.value})).start(),this.popup.setLocalScale(new pc.Vec3(.9,.9,.9)),this.popup.tween(this.popup.getLocalScale()).to(new pc.Vec3(1,1,1),.2,pc.SineOut).start();else{if(this.app.isRewardPopupEnabled=!1,!0===this.hidden)return void(this.popup.enabled=!1);this.hidden=!0,this.removeListeners(),this.popup.setLocalScale(new pc.Vec3(1,1,1)),this.popup.tween(this.popup.getLocalScale()).to(new pc.Vec3(.5,.5,.5),.1,pc.SineOut).start(),this.data={value:.5},this.networkManager.blackBackground.tween(this.data).to({value:0},.1,pc.SineOut).on("update",(t=>{this.networkManager.blackBackground.element&&(this.networkManager.blackBackground.element.opacity=this.data.value)})).on("complete",(()=>{this.networkManager.blackBackground.enabled=!1,this.popup.enabled=!1})).start()}},RewardPopupController.prototype.removeListeners=function(){this.closeButton.button&&this.closeButton.button.off("click"),this.firstButton.button&&this.firstButton.button.off("click"),this.secondButton.button&&this.secondButton.button.off("click")};var RewardedAdanimation=pc.createScript("rewardedAdanimation");RewardedAdanimation.attributes.add("whiteCover",{type:"entity"}),RewardedAdanimation.prototype.initialize=function(){this.whiteCover2=this.entity.findByName("WhiteCover"),this.whiteCover2.element.opacity=0,this.opacity={value:0},this.startScale=this.entity.getLocalScale().clone(),this.targetScale=new pc.Vec3(this.startScale.x+this.startScale.x/5,this.startScale.y+this.startScale.y/5,this.startScale.z+this.startScale.z/5),this.line=this.entity.findByName("Line"),this.line2=this.entity.findByName("Line2"),this.linePos=this.line.getLocalPosition().clone(),this.line2Pos=this.line2.getLocalPosition().clone(),this.timerTween=this.entity.tween(0).to(1,.25,pc.Linear).yoyo(!1).on("complete",function(){this.FadeIn()}.bind(this)),this.lineTween=this.line.tween(this.line.getLocalPosition()).to({x:this.line.getLocalPosition().x+600,y:0,z:0},.5,pc.SineInOut).yoyo(!0).repeat(2).on("complete",function(){this.line.setLocalPosition(this.linePos.x,this.linePos.y,this.linePos.z)}.bind(this)),this.line2Tween=this.line2.tween(this.line2.getLocalPosition()).to({x:this.line2.getLocalPosition().x+600,y:0,z:0},.5,pc.SineInOut).yoyo(!0).repeat(2).on("complete",function(){this.line2.setLocalPosition(this.line2Pos.x,this.line2Pos.y,this.line2Pos.z)}.bind(this)),this.animateTween=this.entity.tween(this.entity.getLocalScale()).to(this.targetScale,.25,pc.SineInOut).delay(.25).yoyo(!0).repeat(2),this.time=0,this.tweenTime=0},RewardedAdanimation.prototype.update=function(t){this.time+=t,this.tweenTime<Date.now()&&(this.tweenTime=Date.now()+2e3,this.lineTween.stop(),this.line2Tween.stop(),this.animateTween.stop(),this.timerTween.stop(),this.entity.setLocalScale(this.startScale),this.line.setLocalPosition(this.linePos.x,this.linePos.y,this.linePos.z),this.line2.setLocalPosition(this.line2Pos.x,this.line2Pos.y,this.line2Pos.z),this.lineTween.start(),this.line2Tween.start(),this.animateTween.start(),this.timerTween.start())},RewardedAdanimation.prototype.FadeIn=function(){this.opacity.value=this.whiteCover2.element.opacity,this.tween&&this.tween.stop(),this.tween=this.whiteCover2.tween(this.opacity).on("update",this.onFadeIn,this).on("complete",function(){this.FadeOut()}.bind(this)).to({value:.6},.25,pc.SineOut).start()},RewardedAdanimation.prototype.onFadeIn=function(){this.whiteCover2.element.opacity=this.opacity.value},RewardedAdanimation.prototype.onFadeOut=function(){this.whiteCover2.element.opacity=this.opacity.value},RewardedAdanimation.prototype.FadeOut=function(){this.opacity.value=this.whiteCover2.element.opacity,this.tween&&this.tween.stop(),this.tween=this.whiteCover2.tween(this.opacity).on("update",this.onFadeOut,this).to({value:0},.25,pc.SineOut).start()};const chests=[{type:0,title:"",rewardGold:0,rewardPower:0},{type:1,title:"Frozen Chest",spawnAmount:50,rewardGold:5e4,rewardPower:0},{type:2,title:"Pirates Chest",spawnAmount:50,rewardGold:2e3,rewardPower:0,isParkourChest:!0},{type:3,title:"Orc's Power Chest",spawnAmount:50,rewardGold:0,rewardPower:1e4,isParkourChest:!0},{type:4,title:"Discord Chest",spawnAmount:50,rewardGold:200,rewardPower:0,isParkourChest:!0},{type:5,title:"Sky Chest",spawnAmount:20,rewardGold:5e3,rewardPower:0,isParkourChest:!0},{type:6,title:"Snowman's Chest",spawnAmount:20,rewardGold:0,rewardPower:5e4,isParkourChest:!0},{type:7,title:"King's Chest #1",spawnAmount:20,rewardGold:5e4,rewardPower:0,isParkourChest:!0},{type:8,title:"King's Chest #2",spawnAmount:20,rewardGold:5e4,rewardPower:0,isParkourChest:!0},{type:9,title:"King's Chest #3",spawnAmount:20,rewardGold:5e4,rewardPower:0,isParkourChest:!0},{type:10,title:"King's Chest #4",spawnAmount:20,rewardGold:5e4,rewardPower:0,isParkourChest:!0},{type:11,title:"King's Treasure",spawnAmount:40,rewardGold:5e4,rewardPower:0,isParkourChest:!0},{type:12,title:"Demon's Power",spawnAmount:20,rewardGold:0,rewardPower:1e6,isParkourChest:!0},{type:13,title:"BlacksmithRewardedButton_1",spawnAmount:0,rewardGold:5e4,rewardPower:0,isRewardedButton:!0},{type:14,title:"BlacksmithRewardedButton_2",spawnAmount:0,rewardGold:25e4,rewardPower:0,isRewardedButton:!0},{type:15,title:"BlacksmithRewardedButton_3",spawnAmount:0,rewardGold:1e6,rewardPower:0,isRewardedButton:!0},{type:16,title:"BlacksmithRewardedButton_4",spawnAmount:0,rewardGold:5e7,rewardPower:0,isRewardedButton:!0},{type:17,title:"BlacksmithRewardedButton_5",spawnAmount:0,rewardGold:15e8,rewardPower:0,isRewardedButton:!0}];const enemies=[[{type:0,x:10.123,y:-.577,z:-96.375,rotationY:0},{type:0,x:23.679,y:-.577,z:-87.292,rotationY:0},{type:0,x:27.398,y:-.577,z:-116.047,rotationY:0},{type:0,x:11.156,y:-.577,z:-128.46,rotationY:0},{type:0,x:3.763,y:-.577,z:-111.084,rotationY:0},{type:1,x:-31.582,y:-.577,z:-107.981,rotationY:0},{type:1,x:-39.784,y:-.577,z:-121.539,rotationY:0},{type:1,x:-21.943,y:-.577,z:-119.255,rotationY:0},{type:1,x:-46.599,y:-.577,z:-108.504,rotationY:0},{type:2,x:10.812,y:6.494,z:-178.306,rotationY:0},{type:2,x:20.236,y:6.494,z:-202.833,rotationY:0},{type:2,x:1.459,y:6.494,z:-222.953,rotationY:0}],[{type:3,x:-23.687,y:-3.089,z:60.707,rotationY:0},{type:3,x:-6.476,y:-3.089,z:47.436,rotationY:0},{type:3,x:3.882,y:-3.089,z:59.337,rotationY:0},{type:4,x:32.478,y:7.77,z:-24.269,rotationY:0},{type:4,x:38.391,y:7.77,z:-38.096,rotationY:0},{type:4,x:28.217,y:7.77,z:-53.495,rotationY:0},{type:4,x:10.535,y:7.77,z:-45.705,rotationY:0},{type:5,x:16.182,y:15.234,z:-141.193,rotationY:0}],[{type:6,x:20,y:-3.5,z:-24,rotationY:0}],[{type:7,x:-1.621,y:8.275,z:34.36,rotationY:0},{type:7,x:-10.825,y:8.275,z:49.735,rotationY:0},{type:8,x:-23.644,y:2.457,z:3.242,rotationY:0},{type:8,x:-25.24,y:2.457,z:-16.348,rotationY:0},{type:9,x:-40.213,y:-2.554,z:-62.83,rotationY:0},{type:9,x:-30.123,y:-2.554,z:-78.141,rotationY:0},{type:9,x:-7.566,y:-2.554,z:-62.634,rotationY:0}],[{type:10,x:-15.494,y:25.586,z:-144.07,rotationY:0},{type:10,x:-.451,y:25.586,z:-149.507,rotationY:0},{type:11,x:-71.55,y:35.881,z:-141.307,rotationY:0},{type:11,x:-65.467,y:35.881,z:-165.753,rotationY:0},{type:11,x:55.994,y:26.586,z:-278.612,rotationY:0},{type:12,x:-103.512,y:55.192,z:-345.961,rotationY:0},{type:12,x:-62.246,y:55.192,z:-347.213,rotationY:0},{type:12,x:-62.111,y:55.192,z:-318.587,rotationY:0}]];var YoyoPos=pc.createScript("yoyoPos");YoyoPos.attributes.add("isRotate",{type:"boolean"}),YoyoPos.attributes.add("yDistance",{type:"number",default:1}),YoyoPos.attributes.add("tweenSpeed",{type:"number",default:1}),YoyoPos.prototype.initialize=function(){var t=0;const e=this.entity.getLocalPosition().clone();e.y-=this.yDistance;const o=new pc.Quat;this.entity.tween(this.entity.getLocalPosition()).to(e,this.tweenSpeed,pc.SineInOut).on("update",(e=>{this.isRotate&&(t+=e,o.setFromEulerAngles(0,200*t,0),this.entity.setRotation(o))})).yoyo(!0).loop(!0).start()};var EggHatchController=pc.createScript("eggHatchController");EggHatchController.attributes.add("eggType",{type:"number"}),EggHatchController.attributes.add("buyUI",{type:"entity"}),EggHatchController.attributes.add("buyButton",{type:"entity"}),EggHatchController.attributes.add("keyButton",{type:"entity"}),EggHatchController.attributes.add("slotParent",{type:"entity"}),EggHatchController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.eggData=eggs[this.eggType],0!=this.eggData.priceGold?(this.price=this.eggData.priceGold,this.isRequiresGold=!0,this.buyButton.children[1].enabled=!0,this.buyButton.children[2].enabled=!1,this.buyButton.children[0].element.text=numRound(this.price)+" gold"):(this.price=this.eggData.pricePower,this.isRequiresGold=!1,this.buyButton.children[1].enabled=!1,this.buyButton.children[2].enabled=!0,this.buyButton.children[0].element.text=numRound(this.price)+" power");let t=0;this.slotParent.children.forEach((e=>{null!=this.eggData.drops[t]&&(e.children[2].element.text=pets[this.eggData.drops[t++]].commonnessPercentage+"%")})),this.buyButton.button.on("click",(function(t){!0===this.isRequiresGold?this.app.fire("popupController:showPopup","Buy Egg","Are you sure to buy an egg for "+this.price+" gold?",!0,this.entity,"EggHatchController:buyEgg","closePopup"):this.app.fire("popupController:showPopup","Buy Egg","Are you sure to buy an egg for "+this.price+" power?",!0,this.entity,"EggHatchController:buyEgg","closePopup")}),this),this.app.touch&&(this.keyButton.enabled=!1),this.entity.on("EggHatchController:buyEgg",this.buyEgg,this),this.app.on("EggHatchController:showUI",this.showUI,this),this.app.on("EggHatchController:hideUI",this.hideUI,this),this.on("destroy",(function(){this.app.off("EggHatchController:showUI",this.showUI,this),this.app.off("EggHatchController:hideUI",this.hideUI,this)}),this)},EggHatchController.prototype.buyEgg=function(){if(this.networkManager.localInv.pets.length>=32)this.app.fire("WarningTextController:setWarning","Failed.. Your pet inventory is full!",5,new pc.Color(1,0,0,1));else{if(this.isRequiresGold&&this.networkManager.localInv.gold>=this.price)this.networkManager.room.send("Client:EggHatchController:buyEgg",this.eggType);else{if(!(0==this.isRequiresGold&&this.networkManager.localInv.power>=this.price))return this.menuController.sound.play("failed"),void(this.isRequiresGold?this.app.fire("WarningTextController:setWarning","Purchase failed.. You need "+numRound(this.price-this.networkManager.localInv.gold)+" gold to buy an egg",5):this.app.fire("WarningTextController:setWarning","Purchase failed.. You need "+numRound(this.price-this.networkManager.localInv.power)+" power to buy an egg",5));this.networkManager.room.send("Client:EggHatchController:buyEgg",this.eggType)}this.buyEggSuccess()}},EggHatchController.prototype.buyEggSuccess=function(){this.app.fire("WarningTextController:setWarning","You successfully bought an egg",2,new pc.Color(1,1,0,1)),this.menuController.sound.play("bought")},EggHatchController.prototype.update=function(t){this.app.keyboard.wasPressed(pc.KEY_E)&&this.app.isNearEggHatch&&this.buyButton.button.fire("click")},EggHatchController.prototype.showUI=function(){this.app.isNearEggHatch=!0,this.buyUI.enabled=!0},EggHatchController.prototype.hideUI=function(){this.app.isNearEggHatch=!1,this.buyUI.enabled=!1};const eggs=[{type:0,priceGold:1e3,pricePower:0,drops:[0,1,2]},{type:1,priceGold:5e4,pricePower:0,drops:[3,4,5]},{type:2,priceGold:0,pricePower:1e6,drops:[6,7,8]},{type:3,priceGold:1e7,pricePower:0,drops:[9,10,11]},{type:4,priceGold:0,pricePower:1e8,drops:[12,13,14]}];const pets=[{type:0,commonnessPercentage:100,name:"Piggie",priceGold:100,attackDamage:0,goldMultiplier:.25,powerMultiplier:0,speedMultiplier:0},{type:1,commonnessPercentage:15,name:"Chicko",priceGold:2e3,attackDamage:0,goldMultiplier:.5,powerMultiplier:.25,speedMultiplier:0},{type:2,commonnessPercentage:1,name:"Peppy",priceGold:1e4,attackDamage:0,goldMultiplier:2,powerMultiplier:1.5,speedMultiplier:.25},{type:3,commonnessPercentage:100,name:"Gumbear",priceGold:1e3,attackDamage:0,goldMultiplier:.75,powerMultiplier:.5,speedMultiplier:0},{type:4,commonnessPercentage:18,name:"Croco",priceGold:5e3,attackDamage:0,goldMultiplier:1,powerMultiplier:.75,speedMultiplier:0},{type:5,commonnessPercentage:.1,name:"Blue Axolotl",priceGold:5e4,attackDamage:0,goldMultiplier:3,powerMultiplier:3,speedMultiplier:.5},{type:6,commonnessPercentage:100,name:"Fluffy",priceGold:5e5,attackDamage:0,goldMultiplier:1.25,powerMultiplier:1,speedMultiplier:0},{type:7,commonnessPercentage:20,name:"Sandy",priceGold:1e6,attackDamage:0,goldMultiplier:1.5,powerMultiplier:1.25,speedMultiplier:0},{type:8,commonnessPercentage:.05,name:"Pengoo",priceGold:1e7,attackDamage:0,goldMultiplier:4,powerMultiplier:5,speedMultiplier:.25},{type:9,commonnessPercentage:100,name:"Scorp",priceGold:5e6,attackDamage:0,goldMultiplier:1.75,powerMultiplier:1.75,speedMultiplier:0},{type:10,commonnessPercentage:12,name:"Kamel",priceGold:1e7,attackDamage:0,goldMultiplier:2,powerMultiplier:2.5,speedMultiplier:0},{type:11,commonnessPercentage:.001,name:"Leo",priceGold:2e8,attackDamage:0,goldMultiplier:5,powerMultiplier:6,speedMultiplier:1},{type:12,commonnessPercentage:100,name:"Lava Slime",priceGold:1e5,attackDamage:0,goldMultiplier:2.5,powerMultiplier:3,speedMultiplier:0},{type:13,commonnessPercentage:5,name:"Firebat",priceGold:5e5,attackDamage:0,goldMultiplier:2.75,powerMultiplier:3.5,speedMultiplier:1},{type:14,commonnessPercentage:1e-4,name:"Phoenix",priceGold:5e8,attackDamage:0,goldMultiplier:7,powerMultiplier:8,speedMultiplier:.5}];var HatchedPetPanelController=pc.createScript("hatchedPetPanelController");HatchedPetPanelController.attributes.add("egg",{type:"entity"}),HatchedPetPanelController.attributes.add("pet",{type:"entity"}),HatchedPetPanelController.attributes.add("petname",{type:"entity"}),HatchedPetPanelController.attributes.add("blackBackground",{type:"entity"}),HatchedPetPanelController.attributes.add("whiteFlash",{type:"entity"}),HatchedPetPanelController.attributes.add("petImages",{type:"asset",assetType:"texture",array:!0}),HatchedPetPanelController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.app.on("HatchedPetController:hatchedPet",this.hatchedPet,this),this.on("destroy",(function(){this.app.off("HatchedPetController:hatchedPet",this.hatchedPet,this)}),this)},HatchedPetPanelController.prototype.hatchedPet=function(t){this.tween0&&this.tween0.stop(),this.tween1&&this.tween1.stop(),this.tween2&&this.tween2.stop(),this.tween3&&this.tween3.stop(),this.tween4&&this.tween4.stop(),this.tween5&&this.tween5.stop(),this.tween6&&this.tween6.stop(),this.tween7&&this.tween7.stop(),this.tween8&&this.tween8.stop(),this.tween9&&this.tween9.stop(),this.tween10&&this.tween10.stop();const e=pets[t].commonnessPercentage;let n=!1;e>15?this.petname.element.color=new pc.Color(0,1,0,1):e>5?this.petname.element.color=new pc.Color(0,.7,1,1):(this.petname.element.color=new pc.Color(.8,0,1,1),n=!0),this.petname.element.text=pets[t].name+" ("+pets[t].commonnessPercentage+"%)",this.egg.enabled=!0,this.blackBackground.enabled=!0,this.data={value:0},this.tween0=this.blackBackground.tween(this.data).to({value:.7},.2,pc.SineOut).on("update",(t=>{this.blackBackground.element.opacity=this.data.value})).start(),this.pet.enabled=!1,this.pet.setLocalPosition(0,0,0),this.egg.element.opacity=1,this.egg.setLocalPosition(0,500,0),this.egg.setLocalScale(1,1,1),this.whiteFlash.element.opacity=0,this.whiteFlash.enabled=!1;const a=new pc.Vec3(0,0,0);this.menuController.sound.play("egg1"),this.egg.setLocalRotation((new pc.Quat).setFromEulerAngles(0,0,0)),this.tween1=this.egg.tween(this.egg.getLocalPosition()).to(a,.7,pc.SineOut).on("complete",(()=>{this.menuController.sound.play("egg2"),this.tween2=this.egg.tween(this.egg.getLocalRotation()).to((new pc.Quat).setFromEulerAngles(0,0,35),.2,pc.QuinticOut).yoyo(!0).repeat(2).delay(.1).on("complete",(()=>{this.menuController.sound.play("egg2"),this.tween3=this.egg.tween(this.egg.getLocalRotation()).to((new pc.Quat).setFromEulerAngles(0,0,-35),.2,pc.QuinticOut).yoyo(!0).repeat(2).delay(.1).on("complete",(()=>{this.menuController.sound.play("egg2"),this.tween4=this.egg.tween(this.egg.getLocalRotation()).to((new pc.Quat).setFromEulerAngles(0,0,35),.2,pc.QuinticOut).yoyo(!0).repeat(2).delay(.1).on("complete",(()=>{this.menuController.sound.play("egg4"),this.tween5=this.egg.tween(this.egg.getLocalScale()).to(new pc.Vec3(.5,.5,.5),.7,pc.SineOut).on("complete",(()=>{this.menuController.sound.play("egg3"),this.flashData={value:0},this.whiteFlash.element.opacity=0,this.whiteFlash.enabled=!0,this.tween6=this.whiteFlash.tween(this.flashData).to({value:1},.3,pc.Linear).on("update",(t=>{this.whiteFlash.element.opacity=this.flashData.value})).on("complete",(()=>{this.whiteFlash.enabled=!1})).yoyo(!0).repeat(2).start(),this.tween7=this.egg.tween(this.egg.getLocalScale()).to(new pc.Vec3(1.5,1.5,1.5),.2,pc.SineOut).on("update",(t=>{this.egg.element.opacity-=5*t})).on("complete",(()=>{this.pet.element.texture=this.petImages[t].resource,this.pet.setLocalScale(0,0,0),this.pet.enabled=!0,n&&this.menuController.sound.play("epic"),this.tween8=this.pet.tween(this.pet.getLocalScale()).to(new pc.Vec3(1,1,1),.4,pc.SineOut).on("complete",(()=>{this.data={value:.7},this.tween9=this.blackBackground.tween(this.data).to({value:0},.2,pc.SineOut).on("update",(t=>{this.blackBackground.element.opacity=this.data.value})).on("complete",(()=>{this.blackBackground.enabled=!1,this.pet.enabled=!1,this.egg.enabled=!1,this.app.isDoingTutorial&&this.networkManager.currentPlayerEntity.fire("Tutorial:OnBoughtFirstEgg")})).delay(2).start(),this.tween10=this.pet.tween(this.pet.getLocalPosition()).to(new pc.Vec3(0,500,0),1,pc.ElasticIn).on("complete",(()=>{})).delay(1).start()})).start()})).start()})).start()})).start()})).start()})).start()})).start()};var PetSlotController=pc.createScript("petSlotController");PetSlotController.attributes.add("background",{type:"entity"}),PetSlotController.attributes.add("itemImage",{type:"entity"}),PetSlotController.attributes.add("itemTitle",{type:"entity"}),PetSlotController.attributes.add("itemRarity",{type:"entity"}),PetSlotController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.petUIController=this.app.root.findByName("PetsButton").script.petUIController,this.inventoryController=this.app.root.findByName("InventoryButton").script.inventoryController,this.entity.button.on("click",(function(t){if(null==this.isFull||!1===this.isFull)return void(this.petUIController.detailPanel.enabled=!1);this.menuController.sound.play("slotClick"),this.petUIController.detailPanel.enabled=!0,this.petUIController.detailPanel.setPosition(this.entity.getPosition().clone());const e=this.petUIController.detailPanel.getLocalPosition().clone();this.petUIController.detailPanel.setLocalPosition(e.x-185,Math.max(-100,Math.min(e.y,150)),e.z),!0===this.isFull&&(this.petUIController.detailPanel.petId=this.item.itemId),this.isActiveSlot?this.petUIController.detailPanelEquipButton.children[0].element.text="Unequip":this.petUIController.detailPanelEquipButton.children[0].element.text="Equip",this.petUIController.detailPanelName.element.text=this.petData.name,this.petUIController.detailPanelRarity.element.text=this.petData.commonnessPercentage+"%",this.petUIController.detailPanelName.element.text=this.petData.name,this.petUIController.detailPanelSellButton.children[0].element.text="SELL ("+numRound(this.petData.priceGold)+" GOLD)";let l="";0!=this.petData.goldMultiplier&&(l+='Gold Multiplier [color="#FF9F00"]+'+this.petData.goldMultiplier+"x[/color]\n"),0!=this.petData.powerMultiplier&&(l+='Power Multiplier [color="#37DDFF"]+'+this.petData.powerMultiplier+"x[/color]\n"),0!=this.petData.speedMultiplier&&(l+='Speed Multiplier [color="#37DDFF"]+'+this.petData.speedMultiplier+"x[/color]\n"),this.petUIController.detailPanelBody.element.text=l}),this)},PetSlotController.prototype.setSlotActive=function(t){null==this.inventoryController&&(this.inventoryController=this.app.root.findByName("InventoryButton").script.inventoryController),t?(this.entity.element.sprite=this.inventoryController.slotImages[2].resource,this.isActiveSlot=!0):(this.entity.element.sprite=this.inventoryController.slotImages[0].resource,this.isActiveSlot=!1)},PetSlotController.prototype.setup=function(t){this.item=t,this.petData=pets[t.type],this.itemTitle.element.text=this.petData.name.substring(0,10),this.petData.name.length>=10&&(this.itemTitle.element.text+=".."),this.itemRarity.element.text=this.petData.commonnessPercentage+"%",this.itemImage.element.texture=this.hatchedPetPanelController.petImages[t.type].resource,this.isFull=!0,this.petData.commonnessPercentage>15?this.background.element.color=new pc.Color(0,1,0,1):this.petData.commonnessPercentage>5?this.background.element.color=new pc.Color(0,.7,1,1):this.background.element.color=new pc.Color(.8,0,1,1),this.itemImage.enabled=!0},PetSlotController.prototype.setupEmpty=function(){this.item=null,this.itemTitle.element.text="",this.itemRarity.element.text="",this.hatchedPetPanelController=this.app.root.findByName("EggPanel").script.hatchedPetPanelController,null==this.inventoryController&&(this.inventoryController=this.app.root.findByName("InventoryButton").script.inventoryController),this.entity.element.sprite=this.inventoryController.slotImages[0].resource,this.itemImage.enabled=!1,this.background.element.color=new pc.Color(1,1,1,1),this.isActiveSlot=!1,this.isFull=!1};var PetUIController=pc.createScript("petUIController");PetUIController.attributes.add("closeButton",{type:"entity"}),PetUIController.attributes.add("petPanel",{type:"entity"}),PetUIController.attributes.add("detailPanel",{type:"entity"}),PetUIController.attributes.add("slotParent",{type:"entity"}),PetUIController.attributes.add("sellUnusedButton",{type:"entity"}),PetUIController.attributes.add("unequipAllButton",{type:"entity"}),PetUIController.attributes.add("petTemplates",{type:"asset",assetType:"template",array:!0}),PetUIController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.app.on("petUIController:enableDisableInventory",this.enableDisableInventory,this),this.sellUnusedButton.button.on("click",(function(t){this.app.fire("popupController:showPopup","Sell Item","Are you sure to sell all of your unused pets?",!0,this.entity,"PetUIController:sellUnusedPets","closePopup")}),this),this.unequipAllButton.button.on("click",(function(t){this.menuController.sound.play("buttonClick"),this.networkManager.room.send("Client:PetUIController:unequipAllPets"),this.app.fire("WarningTextController:setWarning","You successfully unequipped all your pets!",5,new pc.Color(0,1,0,1))}),this),this.inventoryEnabled=!1,this.entity.button.on("click",(function(t){!0===this.app.gameplayStarted&&(PokiSDK.gameplayStop(),this.app.gameplayStarted=!1),this.menuController.sound.play("buttonClick2"),this.app.isPetInventoryEnabled=!0,this.inventoryEnabled=!0,this.app.fire("lockCamera",!0),this.petPanelTween(this.inventoryEnabled),this.detailPanel.enabled=!1,this.entity.button.fire("hoverend",t),this.app.isDoingTutorial&&this.networkManager.currentPlayerEntity.fire("Tutorial:OnOpenedPetInventory")}),this),this.closeButton.button.on("click",(function(t){this.menuController.sound.play("close"),this.app.isPetInventoryEnabled=!1,this.inventoryEnabled=!1,this.app.fire("lockCamera",!1),this.petPanelTween(this.inventoryEnabled),!1!==this.app.gameplayStarted||this.app.isWatchingAd||this.app.isPopupEnabled||this.app.isPetInventoryEnabled||this.app.isMenuEnabled||this.app.isCustomizeEnabled||this.app.isBlacksmithEnabled||this.app.isQuestEnabled||this.app.isMagicianEnabled||this.app.isRewardPopupEnabled||(PokiSDK.gameplayStart(),this.app.gameplayStarted=!0)}),this),this.entity.button.on("hoverstart",(function(t){this.buttonTween&&this.buttonTween.stop(),this.entity.setLocalScale(new pc.Vec3(1,1,1)),this.buttonTween=this.entity.tween(this.entity.getLocalScale()).to(new pc.Vec3(1.1,1.1,1.1),.2,pc.SineOut).on("complete",(()=>{this.buttonTween=null})).start()}),this),this.entity.button.on("hoverend",(function(t){this.buttonTween&&this.buttonTween.stop(),this.entity.setLocalScale(new pc.Vec3(1.1,1.1,1.1)),this.buttonTween=this.entity.tween(this.entity.getLocalScale()).to(new pc.Vec3(1,1,1),.2,pc.SineOut).on("complete",(()=>{this.buttonTween=null})).start()}),this),this.setupDetailPanel(),this.app.on("PetUIController:soldUnusedPets",this.soldUnusedPets,this),this.app.on("PetUIController:soldPet",this.soldPet,this),this.on("destroy",(function(){this.app.off("petUIController:enableDisableInventory",this.enableDisableInventory,this),this.app.off("PetUIController:soldUnusedPets",this.soldUnusedPets,this)}),this)},PetUIController.prototype.setupDetailPanel=function(){this.detailPanelCloseButton=this.detailPanel.children[0],this.detailPanelName=this.detailPanel.children[1],this.detailPanelRarity=this.detailPanel.children[2],this.detailPanelBody=this.detailPanel.children[3],this.detailPanelEquipButton=this.detailPanel.children[4],this.detailPanelSellButton=this.detailPanel.children[5],this.detailPanelCloseButton.button.on("click",(function(t){this.menuController.sound.play("close"),this.detailPanel.enabled=!1}),this),this.detailPanelEquipButton.button.on("click",(function(t){this.menuController.sound.play("equip"),this.networkManager.room.send("Client:PetUIController:equipDequipPet",this.detailPanel.petId),this.detailPanel.enabled=!1}),this),this.detailPanelSellButton.button.on("click",(function(t){this.networkManager.room.send("Client:PetUIController:sellPet",this.detailPanel.petId),this.detailPanel.enabled=!1}),this),this.entity.on("PetUIController:sellUnusedPets",(function(t){this.sellUnusedPets()}),this)},PetUIController.prototype.sellUnusedPets=function(){this.networkManager.room.send("Client:PetUIController:sellUnusedPets")},PetUIController.prototype.soldPet=function(t){this.menuController.sound.play("bought"),this.app.fire("WarningTextController:setWarning","You successfully sold your pet for "+numRound(t)+" gold!",5,new pc.Color(0,1,0,1))},PetUIController.prototype.soldUnusedPets=function(t){this.menuController.sound.play("bought"),this.app.fire("WarningTextController:setWarning","You successfully sold all your unused pets for "+numRound(t)+" gold!",5,new pc.Color(0,1,0,1))},PetUIController.prototype.enableDisablePetPanel=function(t){t&&0==this.inventoryEnabled?this.entity.button.fire("click"):0==t&&this.inventoryEnabled&&this.closeButton.button.fire("click")},PetUIController.prototype.update=function(t){this.app.keyboard.wasPressed(pc.KEY_P)&&(0==this.inventoryEnabled?this.entity.button.fire("click"):this.closeButton.button.fire("click"))},PetUIController.prototype.sortInventory=function(){for(let t=0;t<this.slotParent.children.length;t++){this.slotParent.children[t].script.petSlotController.setupEmpty()}const t=Object.values(this.networkManager.petItems).sort(((t,e)=>pets[e.type].commonnessPercentage-pets[t.type].commonnessPercentage));for(let e=0;e<t.length;e++){const n=this.slotParent.children[e].script.petSlotController;!1===n.isFull&&n.setup(t[e])}this.setActiveSlot()},PetUIController.prototype.setActiveSlot=function(){const t=this.networkManager.currentPlayerEntity.script.playerController.inv;for(let e=0;e<this.slotParent.children.length;e++){const n=this.slotParent.children[e].script.petSlotController;!0===n.isFull&&t.activePets.find((t=>t.itemId===n.item.itemId))?n.setSlotActive(!0):n.setSlotActive(!1)}},PetUIController.prototype.petPanelTween=function(t){this.petUITweenAnim&&this.petUITweenAnim.stop(),!0===t?(this.petPanel.enabled=!0,this.petPanel.setLocalScale(0,0,0),this.petUITweenAnim=this.petPanel.tween(this.petPanel.getLocalScale()).to(new pc.Vec3(1,1,1),.2,pc.SineOut).on("complete",(()=>{this.petUITweenAnim=null})).start()):(this.petPanel.setLocalScale(1,1,1),this.petUITweenAnim=this.petPanel.tween(this.petPanel.getLocalScale()).to(new pc.Vec3(0,0,0),.2,pc.SineOut).on("complete",(()=>{this.petUITweenAnim=null,this.petPanel.enabled=!1})).start())};var PetController=pc.createScript("petController");PetController.attributes.add("petType",{type:"number"}),PetController.attributes.add("nameEntity",{type:"entity"}),PetController.prototype.initialize=function(){this.petData=pets[this.petType],this.nameEntity.element.text=this.petData.name;const t=pets[this.petType].commonnessPercentage;this.nameEntity.element.color=t>20?new pc.Color(0,1,0,1):t>5?new pc.Color(0,.7,1,1):new pc.Color(.8,0,1,1)},PetController.prototype.update=function(t){this.followTarget(t)},PetController.prototype.followTarget=function(t){null!=this.target&&(this.entity.getPosition().distance(this.target.getPosition())>.1&&(this.interpolatedPosition=this.entity.getPosition().clone(),this.interpolatedPosition.lerp(this.interpolatedPosition,this.target.getPosition(),2*t),this.entity.setPosition(this.interpolatedPosition)),this.entity.lookAt(this.target.getPosition()),this.entity.rotateLocal(0,180,0))};var Trail=pc.createScript("trail");Trail.attributes.add("color",{type:"rgb",title:"color"}),Trail.attributes.add("radius",{type:"number",title:"radius",default:.5}),Trail.attributes.add("lifetime",{type:"number",title:"lifetime",default:1.2}),Trail.attributes.add("trailfadeness",{type:"number",title:"trailfadeness",default:2,min:1,max:4}),Trail.attributes.add("opacityFactor",{type:"number",title:"opacityFactor",default:.8,min:.1,max:1}),Trail.v1=new pc.Vec3,Trail.q1=new pc.Quat,Trail.m1=new pc.Mat4,Trail.prototype.initialize=function(){this.MAX_VERTICES=1800,this.VERTEX_SIZE=4,this.timer=0,this.node=null,this.vertices=[],this.vertexData=new Float32Array(this.MAX_VERTICES*this.VERTEX_SIZE),this.model=null;var e=this.color.r+", "+this.color.g+", "+this.color.b,t={attributes:{poslist:pc.SEMANTIC_POSITION},vshader:["attribute vec4 poslist;","","uniform mat4 matrix_viewProjection;","uniform float trail_time;","","varying float vAge;","","void main(void)","{","   vAge = trail_time - poslist.w;","   gl_Position = matrix_viewProjection * vec4(poslist.xyz, 1.0);","}"].join("\n"),fshader:["precision mediump float;","","varying float vAge;","","uniform float trail_lifetime;","uniform bool visible;","void main(void)","{","   vec4 color = vec4(0);","   if(visible) color = vec4("+e+", (1.0 - (vAge / trail_lifetime)) *"+this.opacityFactor+");","   gl_FragColor = color;","}"].join("\n")},i=new pc.Shader(this.app.graphicsDevice,t),r=this.material=new pc.scene.Material;r.shader=i,r.setParameter("trail_time",0),r.setParameter("trail_lifetime",this.lifetime),r.setParameter("visible",!0),r.cull=pc.CULLFACE_NONE,r.blendType=pc.BLEND_ADDITIVE,r.blendSrc=pc.BLENDMODE_SRC_ALPHA,r.blendDst=pc.BLENDMODE_ONE_MINUS_SRC_ALPHA,r.blendEquation=pc.BLENDEQUATION_ADD,r.depthWrite=!1;var a=new pc.VertexFormat(this.app.graphicsDevice,[{semantic:pc.SEMANTIC_POSITION,components:4,type:pc.TYPE_FLOAT32}]),s=new pc.VertexBuffer(this.app.graphicsDevice,a,this.MAX_VERTICES,pc.BUFFER_DYNAMIC),o=new pc.scene.Mesh;o.vertexBuffer=s,o.indexBuffer[0]=null,o.primitive[0].type=pc.PRIMITIVE_TRISTRIP,o.primitive[0].base=0,o.primitive[0].count=0,o.primitive[0].indexed=!1;var c=new pc.GraphNode,l=new pc.MeshInstance(c,o,r);l.layer=pc.LAYER_WORLD,l.cull=!1,l.updateKey(),this.model=new pc.Model,this.model.graph=c,this.model.meshInstances.push(l),this.setNode(this.entity),this.vb=s,this.isNoneState=!1,this.cachedVec=new pc.Vec3(0,0,0),this.camera=this.app.root.findByName("Camera"),this.on("destroy",(function(){this.SetOff()}),this)},Trail.prototype.postUpdate=function(e){if(this.timer+=e,this.model.meshInstances[0].material.setParameter("trail_time",this.timer),this.clearOld(),this.spawn(this.radius),this.vertices.length>1){this.copyToArrayBuffer(),this.updateNumActive();var t=this.model.meshInstances[0].mesh.vertexBuffer;new Float32Array(t.lock()).set(this.vertexData),t.unlock(),this.app.scene.containsModel(this.model)||this.app.scene.addModel(this.model)}else this.app.scene.containsModel(this.model)&&this.app.scene.removeModel(this.model)},Trail.prototype.SetOn=function(){this.reset(),this.material.setParameter("visible",!0)},Trail.prototype.SetOff=function(){this.app.scene.removeModel(this.model),this.material.setParameter("visible",!1)},Trail.prototype.visible=function(){this.material.setParameter("visible",!0)},Trail.prototype.invisible=function(){this.material.setParameter("visible",!1)},Trail.prototype.reset=function(){this.oldPos=null,this.timer=0,this.vertices=[]},Trail.prototype.spawn=function(e){var t=this.node.getPosition(),i=this.camera.getPosition(),r=this.node.getPosition(),a=Trail.v1,s=Trail.m1,o=Trail.q1;a.copy(i).sub(r).normalize(),setMat4Forward(s,a,pc.Vec3.UP),o.setFromMat4(s);var c=[];if(this.oldPos){for(var l=this.oldPos.clone().sub(t),n=0;n<9;n++){var h=Math.PI/4*n;this.cachedVec.set(e*Math.cos(h),e*Math.sin(h),0),o.transformVector(this.cachedVec,this.cachedVec),this.cachedVec.add(t),c=c.concat([this.cachedVec.x,this.cachedVec.y,this.cachedVec.z,this.cachedVec.x+l.x,this.cachedVec.y+l.y,this.cachedVec.z+l.z])}this.oldPos=t.clone(),this.vertices.unshift({spawnTime:this.timer,vertexPair:c})}else this.oldPos=t.clone()},Trail.prototype.clearOld=function(){for(var e=this.vertices.length-1;e>=0;e--){var t=this.vertices[e];if(!(this.timer-t.spawnTime>=this.lifetime))return;this.vertices.pop()}},Trail.prototype.copyToArrayBuffer=function(){for(var e=0;e<this.vertices.length;e++)for(var t=this.vertices[e],i=0;i<18;i++)this.vertexData[72*e+0+4*i]=t.vertexPair[0+3*i],this.vertexData[72*e+1+4*i]=t.vertexPair[1+3*i],this.vertexData[72*e+2+4*i]=t.vertexPair[2+3*i],this.vertexData[72*e+3+4*i]=t.spawnTime},Trail.prototype.updateNumActive=function(){this.model.meshInstances[0].mesh.primitive[0].count=this.trailfadeness*this.vertices.length*9},Trail.prototype.setNode=function(e){this.node=e},Trail.prototype.Finit=function(){this.vb.destroy()},Trail.prototype.clear=function(){this.reset(),this.app.scene.containsModel(this.model)&&(console.log("Removed model"),this.app.scene.removeModel(this.model))};var setMat4Forward=function(){var e,t,i;return e=new pc.Vec3,t=new pc.Vec3,i=new pc.Vec3,function(r,a,s){i.copy(a).scale(-1),t.copy(s).normalize(),e.cross(t,i).normalize(),t.cross(i,e);var o=r.data;return o[0]=e.x,o[1]=e.y,o[2]=e.z,o[3]=0,o[4]=t.x,o[5]=t.y,o[6]=t.z,o[7]=0,o[8]=i.x,o[9]=i.y,o[10]=i.z,o[11]=0,o[15]=1,r}}();var MenuController=pc.createScript("menuController");MenuController.attributes.add("menuUI",{type:"entity"}),MenuController.attributes.add("gameUI",{type:"entity"}),MenuController.attributes.add("joinByIdButton",{type:"entity"}),MenuController.attributes.add("shareButton",{type:"entity"}),MenuController.attributes.add("discordButton",{type:"entity"}),MenuController.attributes.add("loginPanel",{type:"entity"}),MenuController.attributes.add("registerPanel",{type:"entity"}),MenuController.attributes.add("loginButton",{type:"entity"}),MenuController.attributes.add("registerButton",{type:"entity"}),MenuController.attributes.add("logoutButton",{type:"entity"}),MenuController.attributes.add("settingButton",{type:"entity"}),MenuController.attributes.add("settingsMenuButton",{type:"entity"}),MenuController.attributes.add("settingsMenuCloseButton",{type:"entity"}),MenuController.attributes.add("settingsPanel",{type:"entity"}),MenuController.attributes.add("playArea",{type:"entity"}),MenuController.attributes.add("loadingPanel",{type:"entity"}),MenuController.attributes.add("joinByIdPanel",{type:"entity"}),MenuController.attributes.add("sharePanel",{type:"entity"}),MenuController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.sound=this.entity.sound,this.discordButton.button.on("click",(function(t){window.open("https://discord.com/invite/tnderadSdy")}),this),this.joinByIdButton.button.on("click",(function(t){this.sound.play("popup"),this.closeAllPanels(),this.joinByIdPanel.enabled=!0}),this),this.shareButton.button.on("click",(function(t){this.sound.play("popup"),this.closeAllPanels(),this.setLoadingPanel(!0),this.sharePanel.enabled=!0}),this),this.loginButton.button.on("click",(function(t){this.sound.play("popup"),this.closeAllPanels(),this.loginPanel.enabled=!0}),this),this.registerButton.button.on("click",(function(t){this.sound.play("popup"),this.closeAllPanels(),this.registerPanel.enabled=!0}),this),this.logoutButton.button.on("click",(function(t){Utils.setItem("token",""),Utils.setItem("server1",""),Utils.setItem("server2",""),Utils.setItem("isRegistered",""),Utils.setItem("tutorial",""),window.location.reload()}),this),this.loginPanelButton=this.loginPanel.children[this.loginPanel.children.length-2],this.registerPanelButton=this.registerPanel.children[this.registerPanel.children.length-2],this.loginPanelCloseButton=this.loginPanel.children[this.loginPanel.children.length-3],this.registerPanelCloseButton=this.registerPanel.children[this.registerPanel.children.length-3],this.loginPanelUsername=this.loginPanel.children[this.registerPanel.children.length-5],this.loginPanelPassword=this.loginPanel.children[this.registerPanel.children.length-4],this.registerPanelPassword=this.registerPanel.children[this.registerPanel.children.length-4],this.continueButton=this.playArea.children[4],this.loadingPanelBG=this.loadingPanel.children[0],this.loginPanelButton.button.on("click",(function(t){this.sound.play("buttonClick2");const e=this.loginPanelUsername.script.inputField.value,n=this.loginPanelPassword.script.inputField.value;if(!1===validatePassword(n))return void this.app.fire("AnnouncementController:setAnnouncement","Login Failed :/","Password should have min 3 and max 30 alphanumeric characters",5,new pc.Color(1,0,0,1),new pc.Color(1,1,1,1));if(!1===validateUsername(e))return void this.app.fire("AnnouncementController:setAnnouncement","Login Failed :/","Username should have min 3 and max 16 alphanumeric characters",5,new pc.Color(1,0,0,1),new pc.Color(1,1,1,1));this.setLoadingPanel(!0);const i=new XMLHttpRequest;i.open("POST","https://loadbalancer.swordmasters.io/api/user/login",!0),i.setRequestHeader("Content-Type","application/json"),i.onload=()=>{if(200===i.status){const t=JSON.parse(i.responseText);Utils.setItem("isRegistered","1"),Utils.setItem("token",t.token),Utils.setItem("tutorial",""),window.location.reload()}else 400===i.status?this.app.fire("AnnouncementController:setAnnouncement","Login Unsuccessfull","Username or password is wrong!",5,new pc.Color(1,0,0,1),new pc.Color(1,1,1,1)):this.app.fire("AnnouncementController:setAnnouncement","Login Failed :/","Please try again later..",5,new pc.Color(1,0,0,1),new pc.Color(1,1,1,1));this.setLoadingPanel(!1)},i.onerror=t=>{console.log(t),this.setLoadingPanel(!1),this.app.fire("AnnouncementController:setAnnouncement","Login Failed :/","Please try again later..",5,new pc.Color(1,0,0,1),new pc.Color(1,1,1,1))};const o={username:e,password:n};i.send(JSON.stringify(o))}),this),this.registerPanelButton.button.on("click",(function(t){this.sound.play("buttonClick2");const e=this.registerPanelPassword.script.inputField.value;if(!1===validatePassword(e))return void this.app.fire("AnnouncementController:setAnnouncement","Registration Failed :/","Password should have min 3 and max 30 alphanumeric characters",5,new pc.Color(1,0,0,1),new pc.Color(1,1,1,1));this.setLoadingPanel(!0);const n=new XMLHttpRequest;n.open("POST","https://loadbalancer.swordmasters.io/api/user/register",!0),n.setRequestHeader("Content-Type","application/json"),n.onload=()=>{200===n.status?(this.app.fire("AnnouncementController:setAnnouncement","Registered Successfully!","Welcome to the Sword Masters",5,new pc.Color(0,1,0,1),new pc.Color(1,1,1,1)),this.registerPanel.enabled=!1,this.loginButton.enabled=!1,this.logoutButton.enabled=!0,Utils.setItem("isRegistered","1")):this.app.fire("AnnouncementController:setAnnouncement","Registration Failed :/","Please try again later..",5,new pc.Color(1,0,0,1),new pc.Color(1,1,1,1)),this.setLoadingPanel(!1)},n.onerror=t=>{console.log(t),this.setLoadingPanel(!1),this.app.fire("AnnouncementController:setAnnouncement","Registration Failed :/","Please try again later..",5,new pc.Color(1,0,0,1),new pc.Color(1,1,1,1))};const i={token:Utils.getItem("token"),password:e};n.send(JSON.stringify(i))}),this),this.continueButton.button.on("click",(function(t){this.sound.play("buttonClick2"),this.closeAllPanels(),this.enableDisableMenu()}),this),this.loginPanelCloseButton.button.on("click",(function(t){this.sound.play("close"),this.loginPanel.enabled=!1}),this),this.registerPanelCloseButton.button.on("click",(function(t){this.sound.play("close"),this.registerPanel.enabled=!1}),this),this.settingsMenuButton.button.on("click",(function(t){this.sound.play("buttonClick2"),this.settingsPanel.enabled=!0}),this),this.settingsMenuCloseButton.button.on("click",(function(t){this.sound.play("close"),this.settingsPanel.enabled=!1}),this),this.settingButton.button.on("click",(function(t){this.sound.play("buttonClick2"),this.enableDisableMenu()}),this),this.settingButton.button.on("hoverstart",(function(t){this.buttonTween&&this.buttonTween.stop(),this.settingButton.setLocalScale(new pc.Vec3(1,1,1)),this.buttonTween=this.settingButton.tween(this.settingButton.getLocalScale()).to(new pc.Vec3(1.1,1.1,1.1),.2,pc.SineOut).on("complete",(()=>{this.buttonTween=null})).start()}),this),this.settingButton.button.on("hoverend",(function(t){this.buttonTween&&this.buttonTween.stop(),this.settingButton.setLocalScale(new pc.Vec3(1.1,1.1,1.1)),this.buttonTween=this.settingButton.tween(this.settingButton.getLocalScale()).to(new pc.Vec3(1,1,1),.2,pc.SineOut).on("complete",(()=>{this.buttonTween=null})).start()}),this);const t=Utils.getItem("token"),e=Utils.getItem("isRegistered");null!=t&&"1"===e&&(this.registerPanelButton.enabled=!1,this.loginButton.enabled=!1,this.logoutButton.enabled=!0),this.app.on("Slider:sfxValue",(()=>{this.entity.sound.volume=this.app.sfxValue/100}),this),this.on("destroy",(function(){this.app.off("Slider:sfxValue")}),this)},MenuController.prototype.postInitialize=function(){this.setSettings()},MenuController.prototype.setSettings=function(){let t=Utils.getItem("sfxValue");(null==t||isNaN(t))&&(t=100);let e=Utils.getItem("musicValue");(null==e||isNaN(e))&&(e=100);let n=Utils.getItem("mouseSensitivity");(null==n||isNaN(n))&&(n=30),this.app.sfxValue=t,this.app.musicValue=e,this.app.mouseSensitivity=n,this.app.fire("Slider:sfxValue"),this.app.fire("Slider:musicValue"),this.graphicsQuality(),this.chatEnabled()},MenuController.prototype.usernameEnabled=function(){const t=Utils.getItem("usernameEnabled");this.networkManager.currentPlayerEntity.script.playerController.usernameEntity.enabled="1"==t},MenuController.prototype.chatEnabled=function(){const t=Utils.getItem("chatEnabled"),e=this.app.root.findByName("Chat");window.location.host.includes("poki")?e.enabled=!1:e.enabled="0"!=t},MenuController.prototype.graphicsQuality=function(){const t=Utils.getItem("quality"),e=this.app.root.findByName("Light").light;"0"==t?(e.castShadows=!1,this.app.pixelRatio=1):"1"==t?(e.castShadows=!0,e.shadowResolution=1024,this.app.pixelRatio=Math.min(devicePixelRatio,2)):"2"==t?(e.castShadows=!0,e.shadowResolution=2048,this.app.pixelRatio=devicePixelRatio):this.app.touch?(e.castShadows=!1,this.app.pixelRatio=1):(e.castShadows=!0,e.shadowResolution=1024,this.app.pixelRatio=Math.min(devicePixelRatio,2)),pc.Application.getApplication().graphicsDevice.maxPixelRatio=this.app.pixelRatio},MenuController.prototype.setLoadingPanel=function(t,e,n){t?(this.loadingPanel.children[1]&&(1==n&&(this.loadingPanel.children[1].enabled=!1,this.loadingPanel.children[2].setLocalScale(2,2,2)),this.loadingPanel.children[2].element.text=e||"please wait.."),this.loadingPanelBG.element&&(this.loadingPanelBG.element.opacity=0,this.loadingPanel.enabled=!0,this.data={value:0},this.loadingPanelBG.tween(this.data).to({value:.8},.2,pc.Linear).on("update",(t=>{this.loadingPanelBG.element.opacity=this.data.value})).start())):this.loadingPanel.enabled=!1},MenuController.prototype.closeAllPanels=function(){this.loginPanel.enabled=!1,this.registerPanel.enabled=!1,this.settingsPanel.enabled=!1,this.joinByIdPanel.enabled=!1,this.sharePanel.enabled=!1},MenuController.prototype.openMenu=function(){this.menuUI&&(!0===this.app.gameplayStarted&&!1===this.app.isWatchingAd&&(PokiSDK.gameplayStop(),this.app.gameplayStarted=!1),this.getCCU(),this.menuUI.enabled=!0,this.gameUI.enabled=!1,this.app.isMenuEnabled=!0,this.app.isMenuEnabled&&(this.continueButton.button.active=!1,this.continueButtonTimeout&&clearTimeout(this.continueButtonTimeout),this.continueButtonTimeout=setTimeout((()=>{this.continueButton.button&&(this.continueButton.button.active=!0)}),1500)))},MenuController.prototype.getCCU=function(){const t=new XMLHttpRequest;t.open("POST","https://loadbalancer.swordmasters.io/api/server/CCU",!0),t.setRequestHeader("Content-Type","application/json"),t.onload=()=>{if(200===t.status){const e=JSON.parse(t.responseText);console.log("CCU:",e.CCU),this.menuUI.findByName("CCU").element.text=e.CCU}},t.onerror=t=>{console.log(t)};const e={token:Utils.getItem("token")};t.send(JSON.stringify(e))},MenuController.prototype.enableDisableMenu=function(){this.menuUI.enabled=!this.menuUI.enabled,this.gameUI.enabled=!this.gameUI.enabled,this.app.isMenuEnabled=this.menuUI.enabled,this.app.isMenuEnabled&&(this.getCCU(),this.continueButton.button.active=!1,this.continueButtonTimeout&&clearTimeout(this.continueButtonTimeout),this.continueButtonTimeout=setTimeout((()=>{this.continueButton.button.active=!0}),1e3))};var PasswordInput=pc.createScript("passwordInput");PasswordInput.attributes.add("menuManager",{type:"entity"}),PasswordInput.attributes.add("textEntity",{type:"entity",title:"Text Entity",description:"The Entity that has the text Element to update with the inputted text."}),PasswordInput.attributes.add("inputType",{type:"string",title:"Input Type",description:"What type of input will this field accept. On some devices, the virtual keyboard layout may change as well. For example, 'Number' will bring up a numpad instead of the full keyboard.",default:"text",enum:[{Text:"text"},{"Text (no spellcheck)":"text no spellcheck"},{Email:"email"},{Number:"number"},{Decimal:"decimal"},{Password:"password"}]}),PasswordInput.attributes.add("enterKeyHint",{type:"string",title:"Enter Key Hint",description:"Change what the enter key shows on the virutal keyboard. Different OSs will have different representations of the hint.",default:"enter",enum:[{Enter:"enter"},{Done:"done"},{Go:"go"},{Search:"search"},{Send:"send"}]}),PasswordInput.attributes.add("maxLength",{type:"number",default:32,title:"Max Length",description:"Maximum length of the text can be."}),PasswordInput.attributes.add("placeHolder",{type:"string",default:"Placeholder text...",title:"Place Holder String",description:"When the inputted text is empty, what should show as placeholder? Usually this is a prompt such as 'Enter your email here'."}),PasswordInput.attributes.add("placeHolderMobile",{type:"string",default:"Placeholder text...",title:"Place Holder String",description:"When the inputted text is empty, what should show as placeholder? Usually this is a prompt such as 'Enter your email here'."}),PasswordInput.attributes.add("placeHolderColor",{type:"rgb",title:"Place Holder Text Color",description:"What color the text should be when the placeholder string is used."}),PasswordInput.prototype.initialize=function(){this._textElement=this.textEntity.element,this._textColor=this._textElement.color.clone(),this.value="",this.setEvents("on"),this.on("destroy",(()=>{this.setEvents("off")}))},PasswordInput.prototype.setEvents=function(t){this.entity[t]("uiinput:updatevalue",this._onValueChange,this),this.entity.element[t]("click",this._onClick,this)},PasswordInput.prototype._onValueChange=function(t){if(this.value=t,t.length>0){if("password"===this.inputType){let e="";for(let i=0;i<t.length;++i)e+="*";this._textElement.text=e}else this._textElement.text=t;this._textElement.color=this._textColor}else pc.platform.mobile?this._textElement.text=this.placeHolderMobile:this._textElement.text=this.placeHolder,this._textElement.color=this.placeHolderColor;this.enableEntityElements()},PasswordInput.prototype.enableEntityElements=function(){this.entity.element.enabled=!0,this.entity.children[0].element.enabled=!0},PasswordInput.prototype._onClick=function(t){this.app.fire("uiinput:clicked",this,t),this.entity.element.enabled=!1,this.entity.children[0].element.enabled=!1};var InputField=pc.createScript("inputField");InputField.attributes.add("inputPurpose",{type:"number",enum:[{Standard:0},{Username:1},{Password:2},{Chat:3}]}),InputField.attributes.add("textEntity",{type:"entity",title:"Text Entity",description:"The Entity that has the text Element to update with the inputted text."}),InputField.attributes.add("inputType",{type:"string",title:"Input Type",description:"What type of input will this field accept. On some devices, the virtual keyboard layout may change as well. For example, 'Number' will bring up a numpad instead of the full keyboard.",default:"text",enum:[{Text:"text"},{"Text (no spellcheck)":"text no spellcheck"},{Email:"email"},{Number:"number"},{Decimal:"decimal"},{Password:"password"},{TextNoEdit:"textNoEdit"}]}),InputField.attributes.add("enterKeyHint",{type:"string",title:"Enter Key Hint",description:"Change what the enter key shows on the virutal keyboard. Different OSs will have different representations of the hint.",default:"enter",enum:[{Enter:"enter"},{Done:"done"},{Go:"go"},{Search:"search"},{Send:"send"}]}),InputField.attributes.add("maxLength",{type:"number",default:32,title:"Max Length",description:"Maximum length of the text can be."}),InputField.attributes.add("placeHolder",{type:"string",default:"Placeholder text...",title:"Place Holder String",description:"When the inputted text is empty, what should show as placeholder? Usually this is a prompt such as 'Enter your email here'."}),InputField.attributes.add("placeHolderColor",{type:"rgb",title:"Place Holder Text Color",description:"What color the text should be when the placeholder string is used."}),InputField.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this._textElement=this.textEntity.element,this._textColor=this._textElement.color.clone(),this.value="",this.setEvents("on"),this.on("destroy",(()=>{this.setEvents("off")})),this._onValueChange(""),this.onStateChanged(!0),this.chatInputEnabled=!1,this.on("state",this.onStateChanged,this),this.app.on("UsernameChanged",(()=>{if(1===this.inputPurpose){const e=Utils.getItem("username");this._textElement.text=e,this._textElement.color=this._textColor,this.value=e}}),this),this.replacements={"":"c","":"g","":"i","":"I","":"o","":"s","":"u","":"a","":"e","":"i","":"o","":"u","":"n","":"a","":"a","":"e","":"e","":"e","":"i","":"o","":"u","":"ae","":"ss","":"a","":"e","":"e","":"i","":"o","":"u","":"a","":"o","":"a","":"e","":"i","":"o","":"u","":"c","":"e","":"i","":"o","":"ae","":"o","":"a","":"a","":"a","":"o","":"a","":"a","":"d","":"th","":"a","":"c","":"e","":"l","":"n","":"o","":"s","":"z","":"z","":"c","":"d","":"e","":"n","":"r","":"s","":"t","":"u","":"z","":"a","":"e","":"i","":"o","":"o","":"u","":"u","":"a","":"a","":"i","":"s","":"t","":"a","":"e","":"e","":"i","":"o","":"o","":"u","":"n","":"n","":"a","":"e","":"i","":"o","":"u","":"a","":"e","":"i","":"o","":"u","":"n","":"a","":"e","":"i","":"o","":"u","":"w","":"y","":"a","":"e","":"i","":"o","":"u","":"A","":"E","":"I","":"O","":"U","":"a","":"e","":"n","":"o","":"u","":"c","":"g","":"h","":"j","":"s","":"u"},"textNoEdit"===this.inputType&&(this.value=this.placeHolder),this.on("destroy",(function(){this.app.off("UsernameChanged")}),this)},InputField.prototype.update=function(e){3===this.inputPurpose&&this.app.keyboard.wasPressed(pc.KEY_ENTER)&&this._onClick()},InputField.prototype.onStateChanged=function(e){e&&1===this.inputPurpose&&this._onValueChange(Utils.getItem("username"))},InputField.prototype.setEvents=function(e){this.entity[e]("uiinput:updatevalue",this._onValueChange,this),this.entity.element[e]("click",this._onClick,this)},InputField.prototype._onValueChange=function(e){const t=this.value;if(1===this.inputPurpose&&""!=t&&t!=e){if(!1===validateUsername(e))return void this.app.fire("AnnouncementController:setAnnouncement","Invalid username..","Username must not contain spaces and special characters",5,new pc.Color(1,0,0,1),new pc.Color(1,1,1,1));this.menuController.setLoadingPanel(!0);const t=new XMLHttpRequest;t.open("POST","https://loadbalancer.swordmasters.io/api/user/changeUsername",!0),t.setRequestHeader("Content-Type","application/json"),t.onload=()=>{if(200===t.status){const e=JSON.parse(t.responseText);this.app.fire("AnnouncementController:setAnnouncement","Username Changed!","Welcome "+e.username,5,new pc.Color(0,1,0,1),new pc.Color(1,1,1,1)),Utils.setItem("username",e.username),this.app.fire("UsernameChanged"),this.networkManager.room.send("Client:UsernameChanged",Utils.getItem("token"))}else this.app.fire("AnnouncementController:setAnnouncement","Username already taken..","Please pick another username",5,new pc.Color(1,0,0,1),new pc.Color(1,1,1,1));this.menuController.setLoadingPanel(!1)},t.onerror=e=>{console.log(e),this.menuController.setLoadingPanel(!1),this.app.fire("AnnouncementController:setAnnouncement","Changing Username Failed :/","Please try again later..",5,new pc.Color(1,0,0,1),new pc.Color(1,1,1,1))};const n={username:e,token:Utils.getItem("token")};t.send(JSON.stringify(n))}else if(3===this.inputPurpose&&""!=e){e=e.toLowerCase();for(const[t,n]of Object.entries(this.replacements))e=e.replaceAll(t,n);this.networkManager.room.send("Client:InputField:SendChatMessage",e),this.value="",this._textElement.text=this.placeHolder,this._textElement.color=this.placeHolderColor}else{if(this.value=e,e.length>0){if("password"===this.inputType){let t="";for(let n=0;n<e.length;++n)t+="*";this._textElement.text=t}else this._textElement.text=e;this._textElement.color=this._textColor}else this._textElement.text=this.placeHolder,this._textElement.color=this.placeHolderColor;this.entity.fire("updatedvalue",e)}},InputField.prototype._onClick=function(e){this.app.fire("uiinput:clicked",this,e)};!function(){const e=function getIosVersion(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}return null}();document.documentElement.style.setProperty("--sat","env(safe-area-inset-top)"),document.documentElement.style.setProperty("--sab","env(safe-area-inset-bottom)"),document.documentElement.style.setProperty("--sal","env(safe-area-inset-left)"),document.documentElement.style.setProperty("--sar","env(safe-area-inset-right)");const t=pc.Application.getApplication();let n=null;function createInputDom(){n&&n.remove(),n=document.createElement("input"),n.setAttribute("type","text"),n.style.position="absolute",n.style.fontFamily="Arial, sans-serif",n.style.background="white",n.style.paddingLeft="10px",n.style.paddingRight="10px",n.style.margin="0px",n.style.visibility="hidden",n.style.zIndex=1e3,resetStyle(),n.value="",document.body.appendChild(n)}createInputDom();let i=!1,o=!1,l=null;function onInputFieldClick(e,t){t&&t.stopPropagation(),function showDom(e,t){if(o===e)return;o&&o!==e&&onBlur();o=e,o.isTyping=!0,"visible"!==n.style.visibility&&(t&&t.changedTouches?(t.event.preventDefault(),i=!1):i=!0,n.style.visibility="visible",n.onblur=onBlur,n.addEventListener("keydown",onKeyDown),n.addEventListener("keyup",onKeyUp));switch(n.value=e.value,n.maxLength=e.maxLength,n.placeholder=e.placeHolder,n.pattern=null,n.spellcheck=!1,e.inputType){case"text":default:n.type="text",n.spellcheck=!0;break;case"text no spellcheck":n.type="text";break;case"number":n.type="number",n.pattern="[0-9]*";break;case"decimal":n.type="number";break;case"email":n.type="email";break;case"password":n.type="password";break;case"textNoEdit":n.type="text",n.spellcheck=!1,n.readOnly=!0}n.enterKeyHint=e.enterKeyHint,n.focus(),updateStyle(),o.entity.element.on("resize",updateStyle)}(e,t)}function onBlur(){n.onblur=null,n.removeEventListener("keydown",onKeyDown),n.removeEventListener("keyup",onKeyUp),n.style.visibility="hidden",function onElementSwitch(){o.entity.fire("uiinput:updatevalue",n.value),o.entity.element.off("resize",updateStyle),"password"===o.inputType&&createInputDom(),o=null}()}function onKeyDown(e){e.stopPropagation()}function onKeyUp(e){13===e.keyCode&&(3===o.inputPurpose?(o.chatInputEnabled=!o.chatInputEnabled,!1===o.chatInputEnabled&&(n.blur(),e.preventDefault(),e.stopPropagation())):(n.blur(),e.preventDefault(),e.stopPropagation()))}function resetStyle(){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sal")),t=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sar"));n.style.left="20px",n.style.height="40px",n.style.width=window.innerWidth-64-e-t+"px",n.style.fontSize="100%",n.style.top="20px",n.style.marginTop="env(safe-area-inset-top)",n.style.marginLeft="env(safe-area-inset-left)",n.style.bottom=null}function updateStyle(){if(o)if(i&&o.entity.element.screenCorners){const e=o.entity.element.screenCorners,i=Math.min(t.graphicsDevice.maxPixelRatio,window.devicePixelRatio);n.style.left=e[0].x/i-2+"px",n.style.bottom=e[0].y/i-2+"px",n.style.top=null;const l=(e[2].x-e[0].x)/i-20,s=(e[2].y-e[0].y)/i;n.style.width=l+"px",n.style.height=s+"px",n.style.fontSize=Math.round(.5*s)+"px"}else resetStyle()}function onIosResizeTimeout(){t.on("uiinput:clicked",onInputFieldClick),l=null}e?l=setTimeout(onIosResizeTimeout,2100):t.on("uiinput:clicked",onInputFieldClick),t.graphicsDevice.on("resizecanvas",(function onResize(){e&&!l&&(t.off("uiinput:clicked",onInputFieldClick),l=setTimeout(onIosResizeTimeout,2100)),setTimeout((()=>{updateStyle()}))}))}();var LeaderboardController=pc.createScript("leaderboardController");LeaderboardController.attributes.add("leaderboardEntities",{type:"entity",array:!0}),LeaderboardController.attributes.add("bestPlayers",{type:"entity",array:!0}),LeaderboardController.attributes.add("leaderboardType",{type:"string",enum:[{Gold:"Gold"},{Power:"Power"},{Level:"Level"}]}),LeaderboardController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,"Gold"===this.leaderboardType?this.app.on("goldLeaderboard",(e=>{this.setLeaderboard(e)}),this):"Power"===this.leaderboardType?this.app.on("powerLeaderboard",(e=>{this.setLeaderboard(e)}),this):"Level"===this.leaderboardType&&this.app.on("levelLeaderboard",(e=>{this.setLeaderboard(e)}),this),this.app.on("setBestPlayerData",this.setBestPlayerData,this),this.on("destroy",(function(){this.app.off("goldLeaderboard"),this.app.off("powerLeaderboard"),this.app.off("levelLeaderboard"),this.app.off("setBestPlayerData")}),this)},LeaderboardController.prototype.setLeaderboard=function(e){const t=JSON.parse(e);if(this.data=t,t)for(let e=0;e<this.leaderboardEntities.length;e++)if(t[e]){const a=this.leaderboardEntities[e];a.element.text=e+1+")"+t[e].username,"Level"===this.leaderboardType?a.children[0].element.text="level "+numRound(parseFloat(t[e].score)):a.children[0].element.text=numRound(parseFloat(t[e].score))}},LeaderboardController.prototype.setBestPlayerData=function(e,t){if("Power"===this.leaderboardType&&0===t||"Gold"===this.leaderboardType&&1===t||"Level"===this.leaderboardType&&2===t){const a=this.bestPlayers[t].script.activeSkinSetterForStatue;a.changeSkinColor(e.activeSkinColor),a.changeFace(e.activeFace),a.changeHair(e.activeHair),a.changeHelmet(e.activeHelmet),a.hideShowHairHelmet(e.helmetEnabled),a.changeTorso(e.activeTorso),a.changePant(e.activePant),a.changeShoe(e.activeShoe),a.setActiveSword(e.activeSword.type),a.setActiveShield(e.activeShield.type),a.usernameEntity.element.text=this.data[0].username,a.levelEntity.element.text="level"+e.level}};var ActiveSkinSetterForStatue=pc.createScript("activeSkinSetterForStatue");ActiveSkinSetterForStatue.attributes.add("refPlayer",{type:"entity"}),ActiveSkinSetterForStatue.attributes.add("usernameEntity",{type:"entity"}),ActiveSkinSetterForStatue.attributes.add("levelEntity",{type:"entity"}),ActiveSkinSetterForStatue.prototype.initialize=function(){this.swords=this.refPlayer.script.playerController.swords,this.shields=this.refPlayer.script.playerController.shields,this.helmets=this.refPlayer.script.playerController.helmets,this.torsos=this.refPlayer.script.playerController.torsos,this.pants=this.refPlayer.script.playerController.pants,this.shoes=this.refPlayer.script.playerController.shoes;const t=this.app.root.findByName("Customize");t&&(this.customizeController=t.script.customizeController),this.playerModel=this.entity.findByName("PlayerModel"),this.playerBody=this.entity.findByName("Body.001"),this.swordParent=this.entity.findByName("SwordParent"),this.swordBackParent=this.entity.findByName("SwordBackParent"),this.shieldParent=this.entity.findByName("ShieldParent"),this.shieldBackParent=this.entity.findByName("ShieldBackParent"),this.playerFace=this.entity.findByName("face"),this.hairParent=this.entity.findByName("Hair"),this.helmetParent=this.entity.findByName("Helmet"),this.torsoParent=this.entity.findByName("Torso"),this.pantParent=this.entity.findByName("Pant"),this.shoeParent=this.entity.findByName("Shoe"),this.playerModelTransformNoLerp=this.entity.findByName("PlayerModelTransformNoLerp"),this.upbodyLayer=this.entity.anim.findAnimationLayer("UpBody"),this.overrideLayer=this.entity.anim.findAnimationLayer("OVERRIDE"),this.grounded=!0,this.canMove=!0,this.x=0,this.z=0,this.jumpRayLength=new pc.Vec3(0,-1,0),this.weightData={value:0},this.attackAnimIndex=0,this.attackAnimTimer=0,this.activeSwordType=0,this.activeShieldType=0,this.isAttacking=!1,this.pickedupSword=!1,this.pickedupShield=!1,this.hasNearEnemy=!1,this.nearEnemies=[],this.entity.knockbackVelocity=pc.Vec3.ZERO,this.playerMeshInstance=this.playerBody.render.meshInstances[0],this.playerNormalMat=this.playerMeshInstance.material,this.inv=[],this.spawnedSwords=[],this.spawnedShields=[],this.spawnedHairs=[],this.spawnedHelmets=[],this.spawnedTorsos=[],this.spawnedPants=[],this.spawnedShoes=[],this.inv.health=1,this.groundNormal=new pc.Vec3,this.isJumped=!1,this.tmp=new pc.Vec3},ActiveSkinSetterForStatue.prototype.changeSkinColor=function(t){this.playerMeshInstance&&(this.playerMeshInstance.material=this.customizeController.skinColorMats[t].resource,this.playerNormalMat=this.playerMeshInstance.material)},ActiveSkinSetterForStatue.prototype.changeFace=function(t){const e=this.playerFace.render.meshInstances[0];e&&(e.material=this.customizeController.faceMats[t].resource)},ActiveSkinSetterForStatue.prototype.hideShowHairHelmet=function(t){this.activeHair&&this.activeHelmet&&this.activeHelmet.type>0&&(this.activeHelmet.enabled=t,this.activeHair.enabled=!t)},ActiveSkinSetterForStatue.prototype.changeHair=function(t){this.activeHair&&(this.activeHair.enabled=!1),null==this.spawnedHairs[t]?(this.activeHair=this.customizeController.hairs[t].resource.instantiate(),this.activeHair.type=t,this.hairParent.addChild(this.activeHair),this.activeHair.setLocalPosition(0,0,0),this.spawnedHairs[t]=this.activeHair):(this.spawnedHairs[t].enabled=!0,this.activeHair=this.spawnedHairs[t]),this.activeHelmet&&this.activeHelmet.type>0&&(this.activeHair.enabled=!this.activeHelmet.enabled)},ActiveSkinSetterForStatue.prototype.changeHelmet=function(t){this.activeHair&&t>0&&(this.activeHair.enabled=!1),this.activeHelmet&&(this.activeHelmet.enabled=!1),null==this.spawnedHelmets[t]?(this.activeHelmet=this.helmets[t].resource.instantiate(),this.activeHelmet.type=t,this.helmetParent.addChild(this.activeHelmet),this.activeHelmet.setLocalPosition(0,0,0),this.spawnedHelmets[t]=this.activeHelmet,this.activeHelmet.render&&(this.activeHelmet.render.rootBone=this.playerModel.children[0].children[0])):(this.spawnedHelmets[t].enabled=!0,this.activeHelmet=this.spawnedHelmets[t])},ActiveSkinSetterForStatue.prototype.changeTorso=function(t){this.activeTorso&&(this.activeTorso.enabled=!1),null==this.spawnedTorsos[t]?(this.activeTorso=this.torsos[t].resource.instantiate(),this.torsoParent.addChild(this.activeTorso),this.spawnedTorsos[t]=this.activeTorso,this.activeTorso.render&&(this.activeTorso.render.rootBone=this.playerModel)):(this.spawnedTorsos[t].enabled=!0,this.activeTorso=this.spawnedTorsos[t])},ActiveSkinSetterForStatue.prototype.changePant=function(t){this.activePant&&(this.activePant.enabled=!1),null==this.spawnedPants[t]?(this.activePant=this.pants[t].resource.instantiate(),this.pantParent.addChild(this.activePant),this.spawnedPants[t]=this.activePant,this.activePant.render&&(this.activePant.render.rootBone=this.playerModel.children[0])):(this.spawnedPants[t].enabled=!0,this.activePant=this.spawnedPants[t])},ActiveSkinSetterForStatue.prototype.changeShoe=function(t){this.activeShoe&&(this.activeShoe.enabled=!1),null==this.spawnedShoes[t]?(this.activeShoe=this.shoes[t].resource.instantiate(),this.shoeParent.addChild(this.activeShoe),this.activeShoe.setLocalPosition(0,0,0),this.spawnedShoes[t]=this.activeShoe,this.activeShoe.render&&(this.activeShoe.render.rootBone=this.playerModel.children[0].children[0])):(this.spawnedShoes[t].enabled=!0,this.activeShoe=this.spawnedShoes[t])},ActiveSkinSetterForStatue.prototype.setActiveSword=function(t){this.activeSword&&(this.activeSword.enabled=!1),null==this.spawnedSwords[t]?(this.activeSword=this.swords[t].resource.instantiate(),this.swordBackParent.addChild(this.activeSword),this.spawnedSwords[t]=this.activeSword):(this.spawnedSwords[t].enabled=!0,this.activeSword=this.spawnedSwords[t]),this.activeSwordType=t,this.activeSword.setLocalPosition(0,0,0),this.activeSword.setLocalEulerAngles(0,0,0),this.swordRibbon&&(this.swordRibbon.reset(),this.swordRibbon=null),this.swordRibbon=this.activeSword.findByName("Ribbon").script.ribbon,this.swordRibbon.reset()},ActiveSkinSetterForStatue.prototype.setActiveShield=function(t){this.activeShield&&(this.activeShield.enabled=!1),null==this.spawnedShields[t]?(this.activeShield=this.shields[t].resource.instantiate(),this.shieldBackParent.addChild(this.activeShield),this.spawnedShields[t]=this.activeShield):(this.spawnedShields[t].enabled=!0,this.activeShield=this.spawnedShields[t]),this.activeShieldType=t,this.activeShield.setLocalPosition(0,0,0),this.activeShield.setLocalEulerAngles(0,0,0)},ActiveSkinSetterForStatue.prototype.pickupSwordInHand=function(){null!=this.activeSword&&(this.pickedupSword=!0,this.activeSword.reparent(this.swordParent),this.activeSword.setLocalPosition(0,0,0),this.activeSword.setLocalEulerAngles(0,0,0),this.swordRibbon&&this.swordRibbon.reset())},ActiveSkinSetterForStatue.prototype.pickupShieldInHand=function(){null!=this.activeShield&&(this.pickedupShield=!0,this.activeShield.reparent(this.shieldParent),this.activeShield.setLocalPosition(0,0,0),this.activeShield.setLocalEulerAngles(0,0,0))},ActiveSkinSetterForStatue.prototype.putSwordBack=function(){this.pickedupSword=!1,this.activeSword.reparent(this.swordBackParent),this.activeSword.setLocalPosition(0,0,0),this.activeSword.setLocalEulerAngles(0,0,0),this.swordRibbon&&this.swordRibbon.reset()},ActiveSkinSetterForStatue.prototype.putShieldBack=function(){this.pickedupShield=!1,this.activeShield.reparent(this.shieldBackParent),this.activeShield.setLocalPosition(0,0,0),this.activeShield.setLocalEulerAngles(0,0,0)},ActiveSkinSetterForStatue.prototype.setActiveSword=function(t){this.activeSword&&(this.activeSword.enabled=!1),null==this.spawnedSwords[t]?(this.activeSword=this.swords[t].resource.instantiate(),this.swordBackParent.addChild(this.activeSword),this.spawnedSwords[t]=this.activeSword):(this.spawnedSwords[t].enabled=!0,this.activeSword=this.spawnedSwords[t]),this.activeSwordType=t,this.activeSword.setLocalPosition(0,0,0),this.activeSword.setLocalEulerAngles(0,0,0),this.swordRibbon&&(this.swordRibbon.reset(),this.swordRibbon=null),this.swordRibbon=this.activeSword.findByName("Ribbon").script.ribbon,this.swordRibbon.reset()},ActiveSkinSetterForStatue.prototype.setActiveShield=function(t){this.activeShield&&(this.activeShield.enabled=!1),null==this.spawnedShields[t]?(this.activeShield=this.shields[t].resource.instantiate(),this.shieldBackParent.addChild(this.activeShield),this.spawnedShields[t]=this.activeShield):(this.spawnedShields[t].enabled=!0,this.activeShield=this.spawnedShields[t]),this.activeShieldType=t,this.activeShield.setLocalPosition(0,0,0),this.activeShield.setLocalEulerAngles(0,0,0)};const portalReqs=[{worldNumber:0,requiresLevel:0,requiresGold:0,requiresPower:0,requiresPet:0,requiresRebirth:0},{worldNumber:1,requiresLevel:0,requiresGold:0,requiresPower:0,requiresPet:0,requiresRebirth:0},{worldNumber:2,requiresLevel:25,requiresGold:0,requiresPower:0,requiresPet:0,requiresRebirth:0},{worldNumber:3,requiresLevel:50,requiresGold:0,requiresPower:0,requiresPet:0,requiresRebirth:0},{worldNumber:4,requiresLevel:60,requiresGold:0,requiresPower:0,requiresPet:0,requiresRebirth:0},{worldNumber:5,requiresLevel:100,requiresGold:0,requiresPower:0,requiresPet:0,requiresRebirth:0}];var TeleportController=pc.createScript("teleportController");TeleportController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.loadingPanelController=this.app.root.findByName("LoadingPanel").script.loadingPanelController,this.isTeleporting=!1,this.entity.button.on("click",(function(t){this.teleport("world_1")}),this),this.entity.on("TeleportController:teleportAction",(t=>{this.teleportAction()}),this)},TeleportController.prototype.update=function(t){this.app.keyboard.wasPressed(pc.KEY_T)&&this.teleport("world_1")},TeleportController.prototype.teleport=function(t){!0!==this.isTeleporting&&null!=this.networkManager.room&&0!=this.networkManager.room.connection.isOpen&&(this.app.fire("popupController:showPopup","Teleport","Are you sure to teleport to spawn?",!0,this.entity,"TeleportController:teleportAction","closePopup"),this.worldName=t)},TeleportController.prototype.teleportAction=function(){this.app.disconnectFromServer=!0,this.isTeleporting=!0,this.app.loadLevel=this.worldName,this.networkManager.room.leave(),console.log("Teleporting to the",this.worldName),this.networkManager.currentPlayerEntity.script.playerController.canMove=!1,this.loadingPanelController.setLoading(!0,this.entity)};var ChatController=pc.createScript("chatController");ChatController.attributes.add("chatMsgEntity",{type:"asset",assetType:"template"}),ChatController.prototype.initialize=function(){this.chatLayout=this.entity.children[0],this.app.on("Server:ChatController:NewChatMessage",this.onNewChatMessage,this),this.on("destroy",(function(){this.app.off("Server:ChatController:NewChatMessage")}),this)},ChatController.prototype.onNewChatMessage=function(t){const e=this.chatMsgEntity.resource.instantiate();t.msg.substring(0,t.msg.indexOf(":")).includes("admin")&&(e.element.color=new pc.Color(1,0,1)),e.element.text=t.msg,this.chatLayout.addChild(e),e.element.width>450&&(e.element.fontSize=10),e.tween(e.getLocalScale()).to(new pc.Vec3(1.1,1.1,1.1),.06,pc.Linear).yoyo(!0).repeat(2).start();for(let t=0;t<this.chatLayout.children.length;t++)this.chatLayout.children[t].element.opacity=Math.min((t+3)/this.chatLayout.children.length,1),this.chatLayout.children[t].children[1].element.opacity=Math.min((t+3)/this.chatLayout.children.length,1)/2;this.chatLayout.children.length>6&&this.chatLayout.children[0].destroy()};var DestroyTimer=pc.createScript("destroyTimer");DestroyTimer.attributes.add("delay",{type:"number"}),DestroyTimer.prototype.initialize=function(){setTimeout((()=>{this.entity.destroy()}),this.delay)};var PlayerChatController=pc.createScript("playerChatController");PlayerChatController.attributes.add("chatLayout",{type:"entity"}),PlayerChatController.attributes.add("chatMsgEntity",{type:"asset",assetType:"template"}),PlayerChatController.prototype.initialize=function(){this.chatSlot=this.entity.sound.slot("chat"),this.app.on("Server:ChatController:NewChatMessage",this.onNewChatMessage,this)},PlayerChatController.prototype.onNewChatMessage=function(t){const e=Utils.getItem("chatEnabled"),a=this.app.root.findByName("Chat");if(window.location.host.includes("poki")?a.enabled=!1:a.enabled="0"!=e,1==a.enabled&&t.sender===this.entity.sessionId){this.chatSlot.pitch=(this.chatSlot.pitch+.1)%2+1,this.entity.sound.play("chat");const e=this.chatMsgEntity.resource.instantiate();e.element.text=t.msg.substring(t.msg.indexOf(":")+1,t.msg.length),this.chatLayout.addChild(e),e.element.width>450&&(e.element.fontSize=10),e.tween(e.getLocalScale()).to(new pc.Vec3(1.1,1.1,1.1),.06,pc.Linear).yoyo(!0).repeat(2).start(),this.chatLayout.children.length>3&&this.chatLayout.children[0].destroy()}};var DeadZone=pc.createScript("deadZone");DeadZone.prototype.initialize=function(){this.entity.collision.on("triggerenter",(function(e){e.tags.has("Player")&&e.script.playerController.respawn()}),this)};var MusicPlayer=pc.createScript("musicPlayer");MusicPlayer.attributes.add("slotCount",{type:"number",default:3}),MusicPlayer.prototype.initialize=function(){for(let t=0;t<this.slotCount;t++)this.entity.sound.slot("music"+t).on("end",(()=>{this.musicIndex=(this.musicIndex+1)%this.slotCount,this.entity.sound.play("music"+this.musicIndex)}));this.musicIndex=Math.floor(Math.random()*this.slotCount),this.entity.sound.play("music"+this.musicIndex),this.entity.sound.volume=this.app.musicValue/100,this.app.on("Slider:musicValue",(()=>{this.entity.sound.volume=this.app.musicValue/100}),this),this.on("destroy",(function(){this.app.off("Slider:musicValue")}),this)};var Slider=pc.createScript("slider");Slider.attributes.add("min",{type:"number",default:0}),Slider.attributes.add("max",{type:"number",default:100}),Slider.attributes.add("step",{type:"number",default:1}),Slider.attributes.add("css",{type:"asset",assetType:"css",title:"CSS Asset"}),Slider.attributes.add("sliderType",{type:"string",enum:[{SFX:"SFX"},{MUSIC:"MUSIC"},{"MOUSE SENSITIVITY":"MOUSE_SENSITIVITY"},{ZOOM:"ZOOM"}]}),Slider.prototype.initialize=function(){var e=document.createElement("style");if(document.head.appendChild(e),e.innerHTML=this.css.resource||"",this.element=document.createElement("input"),this.element.type="range",this.element.setAttribute("class","slider"),this.element.setAttribute("id","slider"),this.element.style.position="absolute",this.element.style.fontFamily=this.fontFamily,this.element.style.border="0px",this.element.style.margin="0px",this.element.style.padding="0px",this.element.style.boxSizing="border-box",this.element.style.outline="none",document.body.appendChild(this.element),"SFX"==this.sliderType){if(null!=Utils.getItem("sfxValue")){const e=parseInt(Utils.getItem("sfxValue"));0==isNaN(e)&&(this.app.sfxValue=e)}this.element.value=this.app.sfxValue}else if("MUSIC"==this.sliderType){if(null!=Utils.getItem("musicValue")){const e=parseInt(Utils.getItem("musicValue"));0==isNaN(e)&&(this.app.musicValue=e)}this.element.value=this.app.musicValue}else if("MOUSE_SENSITIVITY"==this.sliderType){if(null!=Utils.getItem("mouseSensitivity")){const e=parseInt(Utils.getItem("mouseSensitivity"));0==isNaN(e)&&(this.app.mouseSensitivity=e)}this.element.value=this.app.mouseSensitivity}else if("ZOOM"==this.sliderType){if(null!=Utils.getItem("mouseZoom")){const e=parseInt(Utils.getItem("mouseZoom"));0==isNaN(e)&&(this.app.mouseZoom=e)}this.element.value=this.app.mouseZoom}this.updateStyle(),this.on("state",(function(){if(this.entity.enabled){if(this.element.style.display="block","ZOOM"==this.sliderType&&null!=Utils.getItem("mouseZoom")){const e=parseInt(Utils.getItem("mouseZoom"));0==isNaN(e)&&(this.app.mouseZoom=e,this.element.value=e)}}else this.element.style.display="none"}),this),this.on("destroy",(function(){this.element.remove()}))},Slider.prototype.onFocus=function(){this.focusEntity.enabled=!0},Slider.prototype.onBlur=function(){this.focusEntity.enabled=!1},Slider.prototype.updateStyle=function(){if(this.entity.element.screenCorners){const e=this.entity.element.screenCorners;this.element.style.left=e[0].x/this.app.pixelRatio+"px",this.element.style.bottom=e[0].y/this.app.pixelRatio+"px",this.element.style.width=(e[2].x-e[0].x)/this.app.pixelRatio+"px",this.element.style.height=(e[2].y-e[0].y)/this.app.pixelRatio+"px"}},Slider.prototype.update=function(e){this.updateStyle(),"SFX"==this.sliderType?this.app.sfxValue!=this.element.value&&(this.app.sfxValue=this.element.value,Utils.setItem("sfxValue",String(this.app.sfxValue)),this.app.fire("Slider:sfxValue")):"MUSIC"==this.sliderType?this.app.musicValue!=this.element.value&&(this.app.musicValue=this.element.value,Utils.setItem("musicValue",String(this.app.musicValue)),this.app.fire("Slider:musicValue")):"MOUSE_SENSITIVITY"==this.sliderType?this.app.mouseSensitivity!=this.element.value&&(this.app.mouseSensitivity=this.element.value,Utils.setItem("mouseSensitivity",String(this.app.mouseSensitivity)),this.app.fire("Slider:mouseSensitivity")):"ZOOM"==this.sliderType&&this.app.mouseZoom!=this.element.value&&(this.app.mouseZoom=this.element.value,Utils.setItem("mouseZoom",String(this.app.mouseZoom)),this.app.fire("Slider:mouseZoom"))},Slider.prototype.getValue=function(){if(this.element)return this.element.value};var SettingsController=pc.createScript("settingsController");SettingsController.attributes.add("qualityButtons",{type:"entity",array:!0}),SettingsController.attributes.add("chatButtons",{type:"entity",array:!0}),SettingsController.attributes.add("usernameButtons",{type:"entity",array:!0}),SettingsController.attributes.add("buttonTextures",{type:"asset",assetType:"texture",array:!0}),SettingsController.prototype.initialize=function(){this.app.touch&&(this.app.graphicsDevice.supportsMsaa=!1),this.menuController=this.app.root.findByName("GameUI").script.menuController,this.qualityButtons[0].button.on("click",(t=>{this.qualityButtons[0].element.texture=this.buttonTextures[1].resource,this.qualityButtons[1].element.texture=this.buttonTextures[0].resource,this.qualityButtons[2].element.texture=this.buttonTextures[0].resource,this.menuController.sound.play("buttonClick"),Utils.setItem("quality",0),this.menuController.graphicsQuality()}),this),this.qualityButtons[1].button.on("click",(t=>{this.qualityButtons[0].element.texture=this.buttonTextures[0].resource,this.qualityButtons[1].element.texture=this.buttonTextures[1].resource,this.qualityButtons[2].element.texture=this.buttonTextures[0].resource,this.menuController.sound.play("buttonClick"),Utils.setItem("quality",1),this.menuController.graphicsQuality()}),this),this.qualityButtons[2].button.on("click",(t=>{this.qualityButtons[0].element.texture=this.buttonTextures[0].resource,this.qualityButtons[1].element.texture=this.buttonTextures[0].resource,this.qualityButtons[2].element.texture=this.buttonTextures[1].resource,this.menuController.sound.play("buttonClick"),Utils.setItem("quality",2),this.menuController.graphicsQuality()}),this),this.chatButtons[0].button.on("click",(t=>{window.location.host.includes("poki")?this.app.fire("AnnouncementController:setAnnouncement","SwordMasters.io","Play the game on SwordMasters.io to enable chatting!",10,new pc.Color(0,1,0,1),new pc.Color(1,0,0,1)):(this.chatButtons[0].element.texture=this.buttonTextures[1].resource,this.chatButtons[1].element.texture=this.buttonTextures[0].resource,this.menuController.sound.play("buttonClick"),Utils.setItem("chatEnabled",1),this.menuController.chatEnabled())}),this),this.chatButtons[1].button.on("click",(t=>{this.chatButtons[0].element.texture=this.buttonTextures[0].resource,this.chatButtons[1].element.texture=this.buttonTextures[1].resource,this.menuController.sound.play("buttonClick"),Utils.setItem("chatEnabled",0),this.menuController.chatEnabled()}),this),this.usernameButtons[0].button.on("click",(t=>{this.usernameButtons[0].element.texture=this.buttonTextures[1].resource,this.usernameButtons[1].element.texture=this.buttonTextures[0].resource,this.menuController.sound.play("buttonClick"),Utils.setItem("usernameEnabled",0),this.menuController.usernameEnabled()}),this),this.usernameButtons[1].button.on("click",(t=>{this.usernameButtons[0].element.texture=this.buttonTextures[0].resource,this.usernameButtons[1].element.texture=this.buttonTextures[1].resource,this.menuController.sound.play("buttonClick"),Utils.setItem("usernameEnabled",1),this.menuController.usernameEnabled()}),this);const t=Utils.getItem("quality");"0"==t?(this.qualityButtons[0].element.texture=this.buttonTextures[1].resource,this.qualityButtons[1].element.texture=this.buttonTextures[0].resource,this.qualityButtons[2].element.texture=this.buttonTextures[0].resource):"1"==t?(this.qualityButtons[0].element.texture=this.buttonTextures[0].resource,this.qualityButtons[1].element.texture=this.buttonTextures[1].resource,this.qualityButtons[2].element.texture=this.buttonTextures[0].resource):"2"==t?(this.qualityButtons[0].element.texture=this.buttonTextures[0].resource,this.qualityButtons[1].element.texture=this.buttonTextures[0].resource,this.qualityButtons[2].element.texture=this.buttonTextures[1].resource):this.app.touch?(this.qualityButtons[0].element.texture=this.buttonTextures[1].resource,this.qualityButtons[1].element.texture=this.buttonTextures[0].resource,this.qualityButtons[2].element.texture=this.buttonTextures[0].resource):(this.qualityButtons[0].element.texture=this.buttonTextures[0].resource,this.qualityButtons[1].element.texture=this.buttonTextures[1].resource,this.qualityButtons[2].element.texture=this.buttonTextures[0].resource);const e=Utils.getItem("chatEnabled");window.location.host.includes("poki")||"0"==e?(this.chatButtons[0].element.texture=this.buttonTextures[0].resource,this.chatButtons[1].element.texture=this.buttonTextures[1].resource):(this.chatButtons[0].element.texture=this.buttonTextures[1].resource,this.chatButtons[1].element.texture=this.buttonTextures[0].resource);"1"==Utils.getItem("usernameEnabled")?(this.chatButtons[0].element.texture=this.buttonTextures[0].resource,this.chatButtons[1].element.texture=this.buttonTextures[1].resource):(this.usernameButtons[0].element.texture=this.buttonTextures[1].resource,this.usernameButtons[1].element.texture=this.buttonTextures[0].resource)};var EnvSound=pc.createScript("envSound");EnvSound.prototype.initialize=function(){this.entity.sound.volume=this.app.sfxValue/100,this.app.on("Slider:sfxValue",(()=>{this.entity.sound.volume=this.app.sfxValue/100}),this),this.on("destroy",(function(){this.app.off("Slider:sfxValue")}),this)};var ShareRoomController=pc.createScript("shareRoomController");ShareRoomController.attributes.add("copyRoomLinkInputbox",{type:"entity"}),ShareRoomController.attributes.add("copyRoomIDInputbox",{type:"entity"}),ShareRoomController.attributes.add("copyRoomLinkButton",{type:"entity"}),ShareRoomController.attributes.add("copyRoomIDButton",{type:"entity"}),ShareRoomController.attributes.add("closeButton",{type:"entity"}),ShareRoomController.prototype.initialize=function(){this.networkManager=this.app.root.findByName("NetworkManager").script.networkManager,this.menuController=this.app.root.findByName("GameUI").script.menuController,this.getRoomUID(),this.on("state",this.onStateChanged,this),this.closeButton.button.on("click",(function(o){this.menuController.entity.sound.play("close"),this.entity.enabled=!1}),this),this.copyRoomLinkButton.button.on("click",(function(o){if(this.menuController.entity.sound.play("buttonClick2"),window.clipboardData&&window.clipboardData.setData)return this.app.fire("AnnouncementController:setAnnouncement","Copied the URL","Now share it with your friends!",5,new pc.Color(0,1,0,1)),window.clipboardData.setData("Text","https://"+this.copyRoomLinkInputbox.script.inputField.value);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent="https://"+this.copyRoomLinkInputbox.script.inputField.value,t.style.position="fixed",document.body.appendChild(t),t.select();try{document.execCommand("copy"),this.app.fire("AnnouncementController:setAnnouncement","Copied the URL","Now share it with your friends!",5,new pc.Color(0,1,0,1))}catch(o){console.warn("Copy to clipboard failed.",o),this.app.fire("AnnouncementController:setAnnouncement","Failed to copy","Please copy the link manually",5,new pc.Color(1,0,0,1))}finally{document.body.removeChild(t)}}}),this),this.copyRoomIDButton.button.on("click",(function(o){if(this.menuController.entity.sound.play("buttonClick2"),window.clipboardData&&window.clipboardData.setData)return this.app.fire("AnnouncementController:setAnnouncement","Copied the Room ID","Now share it with your friends!",5,new pc.Color(0,1,0,1)),window.clipboardData.setData("Text",this.copyRoomIDInputbox.script.inputField.value);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=this.copyRoomIDInputbox.script.inputField.value,t.style.position="fixed",document.body.appendChild(t),t.select();try{document.execCommand("copy"),this.app.fire("AnnouncementController:setAnnouncement","Copied the Room ID","Now share it with your friends!",5,new pc.Color(0,1,0,1))}catch(o){console.warn("Copy to clipboard failed.",o),this.app.fire("AnnouncementController:setAnnouncement","Failed to copy","Please copy the code manually",5,new pc.Color(1,0,0,1))}finally{document.body.removeChild(t)}}}),this)},ShareRoomController.prototype.onStateChanged=function(o){o&&this.getRoomUID()},ShareRoomController.prototype.getRoomUID=function(){const o=new XMLHttpRequest;o.open("POST","https://loadbalancer.swordmasters.io/api/server/getRoomUID",!0),o.setRequestHeader("Content-Type","application/json"),o.onload=()=>{if(200===o.status){const t=JSON.parse(o.responseText);this.copyRoomIDInputbox.script.inputField._onValueChange(t.roomUID),this.copyRoomLinkInputbox.script.inputField._onValueChange("swordmasters.io/#"+t.roomUID)}else this.app.fire("AnnouncementController:setAnnouncement","Share Failed :/","Please try again later..",5,new pc.Color(1,0,0,1),new pc.Color(1,1,1,1));this.menuController.setLoadingPanel(!1)},o.onerror=o=>{console.log(o),this.menuController.setLoadingPanel(!1),this.app.fire("AnnouncementController:setAnnouncement","Share Failed :/","Please try again later..",5,new pc.Color(1,0,0,1),new pc.Color(1,1,1,1))};const t={roomId:this.networkManager.room.roomId,subdomain:this.app.connectedSubdomain+".swordmasters.io"};o.send(JSON.stringify(t))};var JoinRoomController=pc.createScript("joinRoomController");JoinRoomController.attributes.add("roomIDInputBox",{type:"entity"}),JoinRoomController.attributes.add("enterButton",{type:"entity"}),JoinRoomController.attributes.add("closeButton",{type:"entity"}),JoinRoomController.prototype.initialize=function(){this.menuController=this.app.root.findByName("GameUI").script.menuController,this.closeButton.button.on("click",(function(o){this.menuController.entity.sound.play("close"),this.entity.enabled=!1}),this),this.enterButton.button.on("click",(function(o){this.menuController.entity.sound.play("buttonClick2"),this.getRoomDetails()}),this)},JoinRoomController.prototype.getRoomDetails=function(){this.menuController.setLoadingPanel(!0);const o=new XMLHttpRequest;o.open("POST","https://loadbalancer.swordmasters.io/api/server/getRoomDetails",!0),o.setRequestHeader("Content-Type","application/json"),o.onload=()=>{if(200===o.status){const t=JSON.parse(o.responseText);if(t.roomData){const o=t.roomData.split(","),e=o[1].split(".");Utils.setItem("joinRoom",o[0]),Utils.setItem("joinSubdomain",e[0]),window.location.reload()}else this.app.fire("AnnouncementController:setAnnouncement","Invalid Room ID :/","Please try another one..",5,new pc.Color(1,0,0,1),new pc.Color(1,1,1,1))}else this.app.fire("AnnouncementController:setAnnouncement","Invalid Room ID :/","Please try another one..",5,new pc.Color(1,0,0,1),new pc.Color(1,1,1,1));this.menuController.setLoadingPanel(!1)},o.onerror=o=>{console.log(o),this.menuController.setLoadingPanel(!1),this.app.fire("AnnouncementController:setAnnouncement","Join Failed :/","Please try again later..",5,new pc.Color(1,0,0,1),new pc.Color(1,1,1,1))};const t={roomUID:this.roomIDInputBox.script.inputField.value};o.send(JSON.stringify(t))};pc.script.createLoadingScreen((function(A){A.firstLoad=!0;const C="url('data:image/jpeg;base64,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')";A.logo="data:image/png;base64,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";!function(){var g=["body {","    background-image:"+C+";","background-size: 100% 100%;","}","","#application-splash-wrapper {","    position: absolute;","    top: 0;","    left: 0;","    height: 100%;","    width: 100%;","    background-size: cover;","    background-image:"+C+";","object-fit: cover;","}","","#application-splash {","    position: fixed;","    width: 40%;","    top: 50%;","    left: 50%;","    transform: translate(-50%, -50%);","}","","#application-splash img {","object-fit: cover;","    width: 100%;","}","","#progress-bar-container {","    border-radius: 15px;","    margin: 0px auto 0 auto;","    height: 25px;","    width: 100%;","    background-color: #171717;","    border: 4px solid #171717;","}","","#progress-bar {","    border-radius: 15px;","    width: 0%;","    height: 100%;","    background-color: #ffd000;","    box-shadow: inset 0 2px 5px #fcd523;","}","@keyframes spinner {","    0% {","        transform: translate3d(-50%, -50%, 0) rotate(0deg);","    }","    100% {","        transform: translate3d(-50%, -50%, 0) rotate(360deg);","    }","}","#spinner::before {","    animation: 0.6s linear infinite spinner;","    animation-play-state: inherit;","    border: solid 10px #171717;","    border-bottom-color: #ffd000;","    border-radius: 50%;",'    content: "";',"    height: 20px;","    width: 20px;","    position: absolute;","    top: calc(100% + 40px);","    left: 50%;","    transform: translate3d(-50%, 0, 0);","    will-change: transform;","}","@font-face {",'    font-family: "kenvector_future";','    src: url({asset[font-thin]}) format("woff");',"    font-weight: normal;","    font-style: normal;","}"].join("\n"),Q=A.assets.get(121143033);Q&&(g=g.replace("{asset[font-thin]}",Q.getFileUrl()));var I=A.assets.get(121143033);I&&(g=g.replace("{asset[font-light]}",I.getFileUrl()));var B=document.createElement("style");B.type="text/css",B.styleSheet?B.styleSheet.cssText=g:B.appendChild(document.createTextNode(g)),document.head.appendChild(B)}(),function(){var C=document.createElement("div");C.id="application-splash-wrapper",document.body.appendChild(C);var g=document.createElement("div");g.id="application-splash",C.appendChild(g),g.style.display="none";var Q=document.createElement("div");Q.id="spinner";var I=document.createElement("img");I.src=A.logo,g.appendChild(I),I.onload=function(){g.style.display="block"};var B=document.createElement("div");B.id="progress-bar-container",g.appendChild(B);var e=document.createElement("div");e.id="progress-bar",B.appendChild(e),e.appendChild(Q);var E=document.createElement("div");E.id="progress-status",E.textContent="Loading..",E.style.textAlign="center",E.style.fontFamily="Impact,sans-serif",E.style.color="#ffd000",E.style.position="relative",E.style.bottom="95%",B.appendChild(E)}(),A.startOld=A.start,A.start=function(){return A.startOld()},A.on("preload:start",(function(C){var g=0,Q=0,onLoad=function(){g++;var A=document.getElementById("progress-status");A&&(A.textContent=g+" / "+Q+" loaded",A.style.textAlign="center",g/Q>.95&&(A.textContent="Joining.."))};const I=A.assets.list({preload:!0});for(var B=0;B<I.length;B++){const A=I[B];A.preload&&(Q++,A.resource?onLoad():A.once("load",onLoad))}document.getElementById("progress-status").textContent=g+" / "+Q,document.getElementById("progress-status").style.color="#704d00"})),A.on("preload:end",(function(){A.off("preload:progress")})),A.on("preload:progress",(function(A){var C=document.getElementById("progress-bar");C&&(A=Math.min(1,Math.max(0,A)),C.style.width=100*A+"%")})),A.on("start",(function(){var A=document.getElementById("application-splash-wrapper");A.parentElement.removeChild(A)}))}));var TutorialController=pc.createScript("tutorialController");TutorialController.attributes.add("tutLine",{type:"entity"}),TutorialController.attributes.add("tutorialTexts",{type:"string",array:!0}),TutorialController.prototype.initialize=function(){this.app.isDoingTutorial=!0;const t=Number.parseInt(Utils.getItem("tutorial"));null==t||isNaN(t)?(this.activeTutorialNumber=0,Utils.setItem("tutorial",this.activeTutorialNumber)):this.activeTutorialNumber=t,this.playerController=this.entity.script.playerController,this.material=this.tutLine.children[1].children[0].render.meshInstances[0].material,this.tutorialPanel=this.app.root.findByName("TutorialPanel"),this.tutorialPanel.enabled=!0,this.tutorialPanelText=this.app.root.findByName("TutorialPanelText").element,this.tutLineParent=this.tutLine.children[1],this.entity.on("Tutorial:OnTakeFarmerQuest",(()=>{this.setTutorialState(this.activeTutorialNumber+1),this.entity.off("Tutorial:OnTakeFarmerQuest")}),this),this.targetPoints=[new pc.Vec3(13.2,.5,-26.3),new pc.Vec3(4.5,.6,-61),new pc.Vec3(-32.8,.6,16),new pc.Vec3(-4.3,.6,-13.9)],this.setTutorialState(this.activeTutorialNumber)},TutorialController.prototype.update=function(t){0===this.activeTutorialNumber?this.setLineDirection(this.targetPoints[0]):1===this.activeTutorialNumber?(this.setLineDirection(this.targetPoints[1]),this.entity.getPosition().distance(this.targetPoints[1])<5&&this.setTutorialState(this.activeTutorialNumber+1)):5===this.activeTutorialNumber?this.setLineDirection(this.targetPoints[0]):6===this.activeTutorialNumber?this.setLineDirection(this.targetPoints[2]):7===this.activeTutorialNumber&&this.setLineDirection(this.targetPoints[3])},TutorialController.prototype.setTutorialState=function(t){console.log("setTutorialState:",t,this.tutorialTexts[t],this.activeTutorialNumber,t),this.activeTutorialNumber=t,Utils.setItem("tutorial",this.activeTutorialNumber),this.tutorialPanelText.text=this.tutorialTexts[t],0===this.activeTutorialNumber||1===this.activeTutorialNumber?(this.tutLine.enabled=!0,this.playerController.inv.questStatus[0]&&this.playerController.inv.questStatus[0].isCompleted&&this.setTutorialState(this.activeTutorialNumber+1)):2===this.activeTutorialNumber?(this.tutLine.enabled=!1,this.entity.on("Tutorial:OnFirstSword",(()=>{this.setTutorialState(this.activeTutorialNumber+1),this.entity.off("Tutorial:OnFirstSword")}),this),this.playerController.inv.questStatus[0]&&this.playerController.inv.questStatus[0].isCompleted&&this.entity.fire("Tutorial:OnFirstSword")):3===this.activeTutorialNumber?(this.tutLine.enabled=!1,this.entity.on("Tutorial:OnEquipFirstSword",(()=>{this.setTutorialState(this.activeTutorialNumber+1),this.entity.off("Tutorial:OnEquipFirstSword")}),this),this.playerController.inv.questStatus[0]&&this.playerController.inv.questStatus[0].isCompleted&&this.entity.fire("Tutorial:OnEquipFirstSword")):4===this.activeTutorialNumber?(this.tutLine.enabled=!1,this.entity.on("Tutorial:OnFinishQuest",(()=>{this.setTutorialState(this.activeTutorialNumber+1),this.entity.off("Tutorial:OnFinishQuest")}),this),this.playerController.inv.questStatus[0]&&this.playerController.inv.questStatus[0].isCompleted&&this.entity.fire("Tutorial:OnFinishQuest")):5===this.activeTutorialNumber?(this.tutLine.enabled=!0,this.entity.on("Tutorial:OnCompleteQuest",(()=>{this.setTutorialState(this.activeTutorialNumber+1),this.entity.off("Tutorial:OnCompleteQuest")}),this),this.playerController.inv.questStatus[0]&&this.playerController.inv.questStatus[0].isCompleted&&this.entity.fire("Tutorial:OnCompleteQuest")):6===this.activeTutorialNumber?(this.tutLine.enabled=!0,this.entity.on("Tutorial:OnBoughtFirstArmorQuest",(()=>{this.setTutorialState(this.activeTutorialNumber+1),this.entity.off("Tutorial:OnBoughtFirstArmorQuest")}),this)):7===this.activeTutorialNumber?(this.tutLine.enabled=!0,this.entity.on("Tutorial:OnBoughtFirstEgg",(()=>{this.setTutorialState(this.activeTutorialNumber+1),this.entity.off("Tutorial:OnBoughtFirstEgg")}),this)):8===this.activeTutorialNumber?(this.tutLine.enabled=!1,this.entity.on("Tutorial:OnOpenedPetInventory",(()=>{this.setTutorialState(this.activeTutorialNumber+1),this.entity.off("Tutorial:OnOpenedPetInventory")}),this)):9===this.activeTutorialNumber&&(this.tutLine.enabled=!1,this.app.isDoingTutorial=!1,this.activeTutorialNumber+=1,Utils.setItem("tutorial",this.activeTutorialNumber),setTimeout((()=>{this.tutorialPanel&&(this.tutorialPanel.enabled=!1),this.enabled=!1}),15e3))},TutorialController.prototype.setLineDirection=function(t){var i=t.clone().sub(this.tutLine.getPosition()),e=Math.atan2(i.z,i.x);this.tutLine.setLocalEulerAngles(0,-e*pc.math.RAD_TO_DEG,0);var r=this.tutLine.getPosition().distance(t);this.tutLineParent.setLocalScale(r/38,1,1),this.material.update()};